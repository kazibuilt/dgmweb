(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2972],{70560:(t,e,r)=>{"use strict";r.d(e,{V:()=>c});var i=r(15791),n=r(49291);/*!
 * @gsap/react 2.1.0
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let s="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,o=t=>t&&!Array.isArray(t)&&"object"==typeof t,a=[],l={},u=n.ZP,c=(t,e=a)=>{let r=l;o(t)?(r=t,t=null,e="dependencies"in r?r.dependencies:a):o(e)&&(e="dependencies"in(r=e)?r.dependencies:a);let{scope:n,revertOnUpdate:c}=r,[h,d]=(0,i.useState)(!1);t&&"function"!=typeof t&&console.warn("First parameter must be a function or config object");let f=u.context(()=>{},n),p=()=>f.revert(),g=e&&e.length&&!c;return s(()=>{if(t&&f.add(t,n),!g||!h)return p},e),g&&s(()=>(d(!0),p),a),{context:f,contextSafe:t=>f.add(null,t)}};c.register=t=>{u=t},c.headless=!0},50443:t=>{"use strict";/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */t.exports=function(t,e){if(null==t)throw TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return t;for(var r=Object.prototype.propertyIsEnumerable,i=Object(t),n=arguments.length,s=0;++s<n;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];r.call(o,u)&&(i[u]=o[u])}return i}},63642:(t,e)=>{"use strict";e.Z=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(","),i=t.name||"",n=(t.type||"").toLowerCase(),s=n.replace(/\/.*$/,"");return r.some(function(t){var e=t.trim().toLowerCase();return"."===e.charAt(0)?i.toLowerCase().endsWith(e):e.endsWith("/*")?s===e.replace(/\/.*$/,""):n===e})}return!0}},18958:(t,e,r)=>{"use strict";var i=r(15131);t.exports=function(t){i(t)||(t={});for(var e=arguments.length,r=1;r<e;r++){var n=arguments[r];i(n)&&function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}(t,n)}return t}},2275:(t,e,r)=>{"use strict";var i=r(21182),n=r(50443);function s(t){return t&&"object"==typeof t||i(t)}t.exports=Object.assign||function(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");s(t)||(t={});for(var e=1;e<arguments.length;e++){var r,i=arguments[e];(r=i)&&"string"==typeof r&&(i=function(t){var e={};for(var r in t)e[r]=t[r];return e}(i)),s(i)&&(function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}(t,i),n(t,i))}return t}},13696:t=>{"use strict";/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t,e,r){for(var i in t)if(!1===e.call(r,t[i],i,t))break}},86668:t=>{/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */t.exports=function(t,r,i,n,s){var o;if(!(null!==(o=t)&&("object"==typeof o||"function"==typeof o))||!r)return t;if(r=e(r),i&&(r+="."+e(i)),n&&(r+="."+e(n)),s&&(r+="."+e(s)),r in t)return t[r];for(var a=r.split("."),l=a.length,u=-1;t&&++u<l;){for(var c=a[u];"\\"===c[c.length-1];)c=c.slice(0,-1)+"."+a[++u];t=t[c]}return t};function e(t){return t?Array.isArray(t)?t.join("."):t:""}},49291:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>tx,p8:()=>tx});var i,n,s,o,a,l,u,c=r(67589),h={},d=180/Math.PI,f=Math.PI/180,p=Math.atan2,g=/([A-Z])/g,m=/(left|right|width|margin|padding|x)/i,v=/[\s,\(]\S/,b={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},y=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},x=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},w=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},E=function(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},_=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},A=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},S=function(t,e,r){return t.style[e]=r},M=function(t,e,r){return t.style.setProperty(e,r)},T=function(t,e,r){return t._gsap[e]=r},R=function(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},O=function(t,e,r,i,n){var s=t._gsap;s.scaleX=s.scaleY=r,s.renderTransform(n,s)},P=function(t,e,r,i,n){var s=t._gsap;s[e]=r,s.renderTransform(n,s)},C="transform",k=C+"Origin",I=function t(e,r){var i=this,n=this.target,s=n.style,o=n._gsap;if(e in h&&s){if(this.tfm=this.tfm||{},"transform"===e)return b.transform.split(",").forEach(function(e){return t.call(i,e,r)});if(~(e=b[e]||e).indexOf(",")?e.split(",").forEach(function(t){return i.tfm[t]=Z(n,t)}):this.tfm[e]=o.x?o[e]:Z(n,e),e===k&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(C)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(k,r,"")),e=C}(s||r)&&this.props.push(e,r,s[e])},F=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},N=function(){var t,e,r=this.props,i=this.target,n=i.style,s=i._gsap;for(t=0;t<r.length;t+=3)r[t+1]?i[r[t]]=r[t+2]:r[t+2]?n[r[t]]=r[t+2]:n.removeProperty("--"===r[t].substr(0,2)?r[t]:r[t].replace(g,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)s[e]=this.tfm[e];s.svg&&(s.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),(t=l())&&t.isStart||n[C]||(F(n),s.zOrigin&&n[k]&&(n[k]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},j=function(t,e){var r={target:t,props:[],revert:N,save:I};return t._gsap||c.p8.core.getCache(t),e&&e.split(",").forEach(function(t){return r.save(t)}),r},L=function(t,e){var r=i.createElementNS?i.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):i.createElement(t);return r&&r.style?r:i.createElement(t)},$=function t(e,r,i){var n=getComputedStyle(e);return n[r]||n.getPropertyValue(r.replace(g,"-$1").toLowerCase())||n.getPropertyValue(r)||!i&&t(e,z(r)||r,1)||""},D="O,Moz,ms,Ms,Webkit".split(","),z=function(t,e,r){var i=(e||o).style,n=5;if(t in i&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(D[n]+t in i););return n<0?null:(3===n?"ms":n>=0?D[n]:"")+t},B=function(){"undefined"!=typeof window&&window.document&&(n=(i=window.document).documentElement,o=L("div")||{style:{}},L("div"),k=(C=z(C))+"Origin",o.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",u=!!z("perspective"),l=c.p8.core.reverting,s=1)},U=function t(e){var r,i=L("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(n.appendChild(i),i.appendChild(this),this.style.display="block",e)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(r=this._gsapBBox());return s&&(o?s.insertBefore(this,o):s.appendChild(this)),n.removeChild(i),this.style.cssText=a,r},W=function(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},V=function(t){var e;try{e=t.getBBox()}catch(r){e=U.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===U||(e=U.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+W(t,["x","cx","x1"])||0,y:+W(t,["y","cy","y1"])||0,width:0,height:0}},H=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&V(t))},G=function(t,e){if(e){var r,i=t.style;e in h&&e!==k&&(e=C),i.removeProperty?(("ms"===(r=e.substr(0,2))||"webkit"===e.substr(0,6))&&(e="-"+e),i.removeProperty("--"===r?e:e.replace(g,"-$1").toLowerCase())):i.removeAttribute(e)}},Y=function(t,e,r,i,n,s){var o=new c.Fo(t._pt,e,r,0,1,s?A:_);return t._pt=o,o.b=i,o.e=n,t._props.push(r),o},X={deg:1,rad:1,turn:1},q={grid:1,flex:1},K=function t(e,r,n,s){var a,l,u,d,f=parseFloat(n)||0,p=(n+"").trim().substr((f+"").length)||"px",g=o.style,v=m.test(r),b="svg"===e.tagName.toLowerCase(),y=(b?"client":"offset")+(v?"Width":"Height"),x="px"===s,w="%"===s;if(s===p||!f||X[s]||X[p])return f;if("px"===p||x||(f=t(e,r,n,"px")),d=e.getCTM&&H(e),(w||"%"===p)&&(h[r]||~r.indexOf("adius")))return a=d?e.getBBox()[v?"width":"height"]:e[y],(0,c.Pr)(w?f/a*100:f/100*a);if(g[v?"width":"height"]=100+(x?p:s),l=~r.indexOf("adius")||"em"===s&&e.appendChild&&!b?e:e.parentNode,d&&(l=(e.ownerSVGElement||{}).parentNode),l&&l!==i&&l.appendChild||(l=i.body),(u=l._gsap)&&w&&u.width&&v&&u.time===c.xr.time&&!u.uncache)return(0,c.Pr)(f/u.width*100);if(w&&("height"===r||"width"===r)){var E=e.style[r];e.style[r]=100+s,a=e[y],E?e.style[r]=E:G(e,r)}else(w||"%"===p)&&!q[$(l,"display")]&&(g.position=$(e,"position")),l===e&&(g.position="static"),l.appendChild(o),a=o[y],l.removeChild(o),g.position="absolute";return v&&w&&((u=(0,c.DY)(l)).time=c.xr.time,u.width=l[y]),(0,c.Pr)(x?a*f/100:a&&f?100/a*f:0)},Z=function(t,e,r,i){var n;return s||B(),e in b&&"transform"!==e&&~(e=b[e]).indexOf(",")&&(e=e.split(",")[0]),h[e]&&"transform"!==e?(n=tu(t,i),n="transformOrigin"!==e?n[e]:n.svg?n.origin:tc($(t,k))+" "+n.zOrigin+"px"):(!(n=t.style[e])||"auto"===n||i||~(n+"").indexOf("calc("))&&(n=tr[e]&&tr[e](t,e,r)||$(t,e)||(0,c.Ok)(t,e)||("opacity"===e?1:0)),r&&!~(n+"").trim().indexOf(" ")?K(t,e,n,r)+r:n},Q=function(t,e,r,i){if(!r||"none"===r){var n=z(e,t,1),s=n&&$(t,n,1);s&&s!==r?(e=n,r=s):"borderColor"===e&&(r=$(t,"borderTopColor"))}var o,a,l,u,h,d,f,p,g,m,v,b=new c.Fo(this._pt,t.style,e,0,1,c.Ks),y=0,x=0;if(b.b=r,b.e=i,r+="","auto"==(i+="")&&(d=t.style[e],t.style[e]=i,i=$(t,e)||i,d?t.style[e]=d:G(t,e)),o=[r,i],(0,c.kr)(o),r=o[0],i=o[1],l=r.match(c.d4)||[],(i.match(c.d4)||[]).length){for(;a=c.d4.exec(i);)f=a[0],g=i.substring(y,a.index),h?h=(h+1)%5:("rgba("===g.substr(-5)||"hsla("===g.substr(-5))&&(h=1),f!==(d=l[x++]||"")&&(u=parseFloat(d)||0,v=d.substr((u+"").length),"="===f.charAt(1)&&(f=(0,c.cy)(u,f)+v),p=parseFloat(f),m=f.substr((p+"").length),y=c.d4.lastIndex-m.length,m||(m=m||c.Fc.units[e]||v,y!==i.length||(i+=m,b.e+=m)),v!==m&&(u=K(t,e,d,m)||0),b._pt={_next:b._pt,p:g||1===x?g:",",s:u,c:p-u,m:h&&h<4||"zIndex"===e?Math.round:0});b.c=y<i.length?i.substring(y,i.length):""}else b.r="display"===e&&"none"===i?A:_;return c.bQ.test(i)&&(b.e=0),this._pt=b,b},J={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},tt=function(t){var e=t.split(" "),r=e[0],i=e[1]||"50%";return("top"===r||"bottom"===r||"left"===i||"right"===i)&&(t=r,r=i,i=t),e[0]=J[r]||r,e[1]=J[i]||i,e.join(" ")},te=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,i,n,s=e.t,o=s.style,a=e.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",i=1;else for(n=(a=a.split(",")).length;--n>-1;)h[r=a[n]]&&(i=1,r="transformOrigin"===r?k:C),G(s,r);i&&(G(s,C),l&&(l.svg&&s.removeAttribute("transform"),tu(s,1),l.uncache=1,F(o)))}},tr={clearProps:function(t,e,r,i,n){if("isFromStart"!==n.data){var s=t._pt=new c.Fo(t._pt,e,r,0,0,te);return s.u=i,s.pr=-10,s.tween=n,t._props.push(r),1}}},ti=[1,0,0,1,0,0],tn={},ts=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},to=function(t){var e=$(t,C);return ts(e)?ti:e.substr(7).match(c.SI).map(c.Pr)},ta=function(t,e){var r,i,s,o,a=t._gsap||(0,c.DY)(t),l=t.style,u=to(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(s=t.transform.baseVal.consolidate().matrix).a,s.b,s.c,s.d,s.e,s.f]).join(",")?ti:u:(u!==ti||t.offsetParent||t===n||a.svg||(s=l.display,l.display="block",(r=t.parentNode)&&t.offsetParent||(o=1,i=t.nextElementSibling,n.appendChild(t)),u=to(t),s?l.display=s:G(t,"display"),o&&(i?r.insertBefore(t,i):r?r.appendChild(t):n.removeChild(t))),e&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},tl=function(t,e,r,i,n,s){var o,a,l,u,c=t._gsap,h=n||ta(t,!0),d=c.xOrigin||0,f=c.yOrigin||0,p=c.xOffset||0,g=c.yOffset||0,m=h[0],v=h[1],b=h[2],y=h[3],x=h[4],w=h[5],E=e.split(" "),_=parseFloat(E[0])||0,A=parseFloat(E[1])||0;r?h!==ti&&(a=m*y-v*b)&&(l=y/a*_+-b/a*A+(b*w-y*x)/a,u=-v/a*_+m/a*A-(m*w-v*x)/a,_=l,A=u):(_=(o=V(t)).x+(~E[0].indexOf("%")?_/100*o.width:_),A=o.y+(~(E[1]||E[0]).indexOf("%")?A/100*o.height:A)),i||!1!==i&&c.smooth?(x=_-d,w=A-f,c.xOffset=p+(x*m+w*b)-x,c.yOffset=g+(x*v+w*y)-w):c.xOffset=c.yOffset=0,c.xOrigin=_,c.yOrigin=A,c.smooth=!!i,c.origin=e,c.originIsAbsolute=!!r,t.style[k]="0px 0px",s&&(Y(s,c,"xOrigin",d,_),Y(s,c,"yOrigin",f,A),Y(s,c,"xOffset",p,c.xOffset),Y(s,c,"yOffset",g,c.yOffset)),t.setAttribute("data-svg-origin",_+" "+A)},tu=function(t,e){var r=t._gsap||new c.l1(t);if("x"in r&&!e&&!r.uncache)return r;var i,n,s,o,a,l,h,g,m,v,b,y,x,w,E,_,A,S,M,T,R,O,P,I,F,N,j,L,D,z,B,U,W=t.style,V=r.scaleX<0,G=getComputedStyle(t),Y=$(t,k)||"0";return i=n=s=l=h=g=m=v=b=0,o=a=1,r.svg=!!(t.getCTM&&H(t)),G.translate&&(("none"!==G.translate||"none"!==G.scale||"none"!==G.rotate)&&(W[C]=("none"!==G.translate?"translate3d("+(G.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==G.rotate?"rotate("+G.rotate+") ":"")+("none"!==G.scale?"scale("+G.scale.split(" ").join(",")+") ":"")+("none"!==G[C]?G[C]:"")),W.scale=W.rotate=W.translate="none"),w=ta(t,r.svg),r.svg&&(r.uncache?(F=t.getBBox(),Y=r.xOrigin-F.x+"px "+(r.yOrigin-F.y)+"px",I=""):I=!e&&t.getAttribute("data-svg-origin"),tl(t,I||Y,!!I||r.originIsAbsolute,!1!==r.smooth,w)),y=r.xOrigin||0,x=r.yOrigin||0,w!==ti&&(S=w[0],M=w[1],T=w[2],R=w[3],i=O=w[4],n=P=w[5],6===w.length?(o=Math.sqrt(S*S+M*M),a=Math.sqrt(R*R+T*T),l=S||M?p(M,S)*d:0,(m=T||R?p(T,R)*d+l:0)&&(a*=Math.abs(Math.cos(m*f))),r.svg&&(i-=y-(y*S+x*T),n-=x-(y*M+x*R))):(U=w[6],z=w[7],j=w[8],L=w[9],D=w[10],B=w[11],i=w[12],n=w[13],s=w[14],h=(E=p(U,D))*d,E&&(I=O*(_=Math.cos(-E))+j*(A=Math.sin(-E)),F=P*_+L*A,N=U*_+D*A,j=-(O*A)+j*_,L=-(P*A)+L*_,D=-(U*A)+D*_,B=-(z*A)+B*_,O=I,P=F,U=N),g=(E=p(-T,D))*d,E&&(I=S*(_=Math.cos(-E))-j*(A=Math.sin(-E)),F=M*_-L*A,N=T*_-D*A,B=R*A+B*_,S=I,M=F,T=N),l=(E=p(M,S))*d,E&&(I=S*(_=Math.cos(E))+M*(A=Math.sin(E)),F=O*_+P*A,M=M*_-S*A,P=P*_-O*A,S=I,O=F),h&&Math.abs(h)+Math.abs(l)>359.9&&(h=l=0,g=180-g),o=(0,c.Pr)(Math.sqrt(S*S+M*M+T*T)),a=(0,c.Pr)(Math.sqrt(P*P+U*U)),m=Math.abs(E=p(O,P))>2e-4?E*d:0,b=B?1/(B<0?-B:B):0),r.svg&&(I=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!ts($(t,C)),I&&t.setAttribute("transform",I))),Math.abs(m)>90&&270>Math.abs(m)&&(V?(o*=-1,m+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,m+=m<=0?180:-180)),e=e||r.uncache,r.x=i-((r.xPercent=i&&(!e&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+"px",r.y=n-((r.yPercent=n&&(!e&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+"px",r.z=s+"px",r.scaleX=(0,c.Pr)(o),r.scaleY=(0,c.Pr)(a),r.rotation=(0,c.Pr)(l)+"deg",r.rotationX=(0,c.Pr)(h)+"deg",r.rotationY=(0,c.Pr)(g)+"deg",r.skewX=m+"deg",r.skewY=v+"deg",r.transformPerspective=b+"px",(r.zOrigin=parseFloat(Y.split(" ")[2])||!e&&r.zOrigin||0)&&(W[k]=tc(Y)),r.xOffset=r.yOffset=0,r.force3D=c.Fc.force3D,r.renderTransform=r.svg?tg:u?tp:td,r.uncache=0,r},tc=function(t){return(t=t.split(" "))[0]+" "+t[1]},th=function(t,e,r){var i=(0,c.Wy)(e);return(0,c.Pr)(parseFloat(e)+parseFloat(K(t,"x",r+"px",i)))+i},td=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,tp(t,e)},tf="0deg",tp=function(t,e){var r=e||this,i=r.xPercent,n=r.yPercent,s=r.x,o=r.y,a=r.z,l=r.rotation,u=r.rotationY,c=r.rotationX,h=r.skewX,d=r.skewY,p=r.scaleX,g=r.scaleY,m=r.transformPerspective,v=r.force3D,b=r.target,y=r.zOrigin,x="",w="auto"===v&&t&&1!==t||!0===v;if(y&&(c!==tf||u!==tf)){var E,_=parseFloat(u)*f,A=Math.sin(_),S=Math.cos(_);s=th(b,s,-(A*(E=Math.cos(_=parseFloat(c)*f))*y)),o=th(b,o,-(-Math.sin(_)*y)),a=th(b,a,-(S*E*y)+y)}"0px"!==m&&(x+="perspective("+m+") "),(i||n)&&(x+="translate("+i+"%, "+n+"%) "),(w||"0px"!==s||"0px"!==o||"0px"!==a)&&(x+="0px"!==a||w?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+") "),l!==tf&&(x+="rotate("+l+") "),u!==tf&&(x+="rotateY("+u+") "),c!==tf&&(x+="rotateX("+c+") "),(h!==tf||d!==tf)&&(x+="skew("+h+", "+d+") "),(1!==p||1!==g)&&(x+="scale("+p+", "+g+") "),b.style[C]=x||"translate(0, 0)"},tg=function(t,e){var r,i,n,s,o,a=e||this,l=a.xPercent,u=a.yPercent,h=a.x,d=a.y,p=a.rotation,g=a.skewX,m=a.skewY,v=a.scaleX,b=a.scaleY,y=a.target,x=a.xOrigin,w=a.yOrigin,E=a.xOffset,_=a.yOffset,A=a.forceCSS,S=parseFloat(h),M=parseFloat(d);p=parseFloat(p),g=parseFloat(g),(m=parseFloat(m))&&(g+=m=parseFloat(m),p+=m),p||g?(p*=f,g*=f,r=Math.cos(p)*v,i=Math.sin(p)*v,n=-(Math.sin(p-g)*b),s=Math.cos(p-g)*b,g&&(m*=f,n*=o=Math.sqrt(1+(o=Math.tan(g-m))*o),s*=o,m&&(r*=o=Math.sqrt(1+(o=Math.tan(m))*o),i*=o)),r=(0,c.Pr)(r),i=(0,c.Pr)(i),n=(0,c.Pr)(n),s=(0,c.Pr)(s)):(r=v,s=b,i=n=0),(S&&!~(h+"").indexOf("px")||M&&!~(d+"").indexOf("px"))&&(S=K(y,"x",h,"px"),M=K(y,"y",d,"px")),(x||w||E||_)&&(S=(0,c.Pr)(S+x-(x*r+w*n)+E),M=(0,c.Pr)(M+w-(x*i+w*s)+_)),(l||u)&&(o=y.getBBox(),S=(0,c.Pr)(S+l/100*o.width),M=(0,c.Pr)(M+u/100*o.height)),o="matrix("+r+","+i+","+n+","+s+","+S+","+M+")",y.setAttribute("transform",o),A&&(y.style[C]=o)},tm=function(t,e,r,i,n){var s,o,a=(0,c.r9)(n),l=parseFloat(n)*(a&&~n.indexOf("rad")?d:1)-i,u=i+l+"deg";return a&&("short"===(s=n.split("_")[1])&&(l%=360)!=l%180&&(l+=l<0?360:-360),"cw"===s&&l<0?l=(l+36e9)%360-360*~~(l/360):"ccw"===s&&l>0&&(l=(l-36e9)%360-360*~~(l/360))),t._pt=o=new c.Fo(t._pt,e,r,i,l,x),o.e=u,o.u="deg",t._props.push(r),o},tv=function(t,e){for(var r in e)t[r]=e[r];return t},tb=function(t,e,r){var i,n,s,o,a,l,u,d=tv({},r._gsap),f=r.style;for(n in d.svg?(s=r.getAttribute("transform"),r.setAttribute("transform",""),f[C]=e,i=tu(r,1),G(r,C),r.setAttribute("transform",s)):(s=getComputedStyle(r)[C],f[C]=e,i=tu(r,1),f[C]=s),h)(s=d[n])!==(o=i[n])&&0>"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)&&(a=(0,c.Wy)(s)!==(u=(0,c.Wy)(o))?K(r,n,s,u):parseFloat(s),l=parseFloat(o),t._pt=new c.Fo(t._pt,i,n,a,l-a,y),t._pt.u=u||0,t._props.push(n));tv(i,d)};(0,c.fS)("padding,margin,Width,Radius",function(t,e){var r="Right",i="Bottom",n="Left",s=(e<3?["Top",r,i,n]:["Top"+n,"Top"+r,i+r,i+n]).map(function(r){return e<2?t+r:"border"+r+t});tr[e>1?"border"+t:t]=function(t,e,r,i,n){var o,a;if(arguments.length<4)return 5===(a=(o=s.map(function(e){return Z(t,e,r)})).join(" ")).split(o[0]).length?o[0]:a;o=(i+"").split(" "),a={},s.forEach(function(t,e){return a[t]=o[e]=o[e]||o[(e-1)/2|0]}),t.init(e,a,n)}});var ty={name:"css",register:B,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,i,n){var o,a,l,u,d,f,p,g,m,x,_,A,S,M,T,R,O=this._props,P=t.style,I=r.vars.startAt;for(p in s||B(),this.styles=this.styles||j(t),R=this.styles.props,this.tween=r,e)if("autoRound"!==p&&(a=e[p],!(c.$i[p]&&(0,c.if)(p,e,r,i,t,n)))){if(d=typeof a,f=tr[p],"function"===d&&(d=typeof(a=a.call(r,i,t,n))),"string"===d&&~a.indexOf("random(")&&(a=(0,c.UI)(a)),f)f(this,t,p,a,r)&&(T=1);else if("--"===p.substr(0,2))o=(getComputedStyle(t).getPropertyValue(p)+"").trim(),a+="",c.GN.lastIndex=0,c.GN.test(o)||(g=(0,c.Wy)(o),m=(0,c.Wy)(a)),m?g!==m&&(o=K(t,p,o,m)+m):g&&(a+=g),this.add(P,"setProperty",o,a,i,n,0,0,p),O.push(p),R.push(p,0,P[p]);else if("undefined"!==d){if(I&&p in I?(o="function"==typeof I[p]?I[p].call(r,i,t,n):I[p],(0,c.r9)(o)&&~o.indexOf("random(")&&(o=(0,c.UI)(o)),(0,c.Wy)(o+"")||"auto"===o||(o+=c.Fc.units[p]||(0,c.Wy)(Z(t,p))||""),"="===(o+"").charAt(1)&&(o=Z(t,p))):o=Z(t,p),u=parseFloat(o),(x="string"===d&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),l=parseFloat(a),p in b&&("autoAlpha"===p&&(1===u&&"hidden"===Z(t,"visibility")&&l&&(u=0),R.push("visibility",0,P.visibility),Y(this,P,"visibility",u?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==p&&"transform"!==p&&~(p=b[p]).indexOf(",")&&(p=p.split(",")[0])),_=p in h){if(this.styles.save(p),A||((S=t._gsap).renderTransform&&!e.parseTransform||tu(t,e.parseTransform),M=!1!==e.smoothOrigin&&S.smooth,(A=this._pt=new c.Fo(this._pt,P,C,0,1,S.renderTransform,S,0,-1)).dep=1),"scale"===p)this._pt=new c.Fo(this._pt,S,"scaleY",S.scaleY,(x?(0,c.cy)(S.scaleY,x+l):l)-S.scaleY||0,y),this._pt.u=0,O.push("scaleY",p),p+="X";else if("transformOrigin"===p){R.push(k,0,P[k]),a=tt(a),S.svg?tl(t,a,0,M,0,this):((m=parseFloat(a.split(" ")[2])||0)!==S.zOrigin&&Y(this,S,"zOrigin",S.zOrigin,m),Y(this,P,p,tc(o),tc(a)));continue}else if("svgOrigin"===p){tl(t,a,1,M,0,this);continue}else if(p in tn){tm(this,S,p,u,x?(0,c.cy)(u,x+a):a);continue}else if("smoothOrigin"===p){Y(this,S,"smooth",S.smooth,a);continue}else if("force3D"===p){S[p]=a;continue}else if("transform"===p){tb(this,a,t);continue}}else p in P||(p=z(p)||p);if(_||(l||0===l)&&(u||0===u)&&!v.test(a)&&p in P)g=(o+"").substr((u+"").length),l||(l=0),m=(0,c.Wy)(a)||(p in c.Fc.units?c.Fc.units[p]:g),g!==m&&(u=K(t,p,o,m)),this._pt=new c.Fo(this._pt,_?S:P,p,u,(x?(0,c.cy)(u,x+l):l)-u,_||"px"!==m&&"zIndex"!==p||!1===e.autoRound?y:E),this._pt.u=m||0,g!==m&&"%"!==m&&(this._pt.b=o,this._pt.r=w);else if(p in P)Q.call(this,t,p,o,x?x+a:a);else if(p in t)this.add(t,p,o||t[p],x?x+a:a,i,n);else if("parseTransform"!==p){(0,c.lC)(p,a);continue}_||(p in P?R.push(p,0,P[p]):R.push(p,1,o||t[p])),O.push(p)}}T&&(0,c.JV)(this)},render:function(t,e){if(e.tween._time||!l())for(var r=e._pt;r;)r.r(t,r.d),r=r._next;else e.styles.revert()},get:Z,aliases:b,getSetter:function(t,e,r){var i=b[e];return i&&0>i.indexOf(",")&&(e=i),e in h&&e!==k&&(t._gsap.x||Z(t,"x"))?r&&a===r?"scale"===e?R:T:(a=r||{},"scale"===e?O:P):t.style&&!(0,c.m2)(t.style[e])?S:~e.indexOf("-")?M:(0,c.S5)(t,e)},core:{_removeProperty:G,_getMatrix:ta}};c.p8.utils.checkPrefix=z,c.p8.core.getStyleSaver=j,function(t,e,r,i){var n=(0,c.fS)(t+","+e+","+r,function(t){h[t]=1});(0,c.fS)(e,function(t){c.Fc.units[t]="deg",tn[t]=1}),b[n[13]]=t+","+e,(0,c.fS)(i,function(t){var e=t.split(":");b[e[1]]=n[e[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),(0,c.fS)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){c.Fc.units[t]="px"}),c.p8.registerPlugin(ty);var tx=c.p8.registerPlugin(ty)||c.p8;tx.core.Tween},15131:t=>{"use strict";/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */t.exports=function(t){return null!=t&&("object"==typeof t||"function"==typeof t)}},21182:(t,e,r)=>{"use strict";/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var i=r(8697);t.exports=function(t){return i(t)||"function"==typeof t||Array.isArray(t)}},8697:(t,e,r)=>{"use strict";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var i=r(66145);function n(t){return!0===i(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,r;return!1!==n(t)&&"function"==typeof(e=t.constructor)&&!1!==n(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},66145:t=>{"use strict";/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},84241:(t,e,r)=>{"use strict";let i,n,s;r.d(e,{Zf:()=>og,so:()=>sH,M4:()=>om});var o=r(73161),a=r(15791),l=r(97068),u=Object.prototype.hasOwnProperty;function c(t,e){var r,i;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((i=t.length)===e.length)for(;i--&&c(t[i],e[i]););return -1===i}if(!r||"object"==typeof t){for(r in i=0,t)if(u.call(t,r)&&++i&&!u.call(e,r)||!(r in e)||!c(t[r],e[r]))return!1;return Object.keys(e).length===i}}return t!=t&&e!=e}function h(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!Object.is(t[r[i]],e[r[i]]))return!1;return!0}var d=function(t,e,r,i){this.name=t,this.fn=e,this.args=r,this.modifiers=i};function f(t,e){return void 0===e&&(e="simple"),"object"==typeof t?t[e]:t}function p(t,e,r){if(!t.length)return f(e);var i=t.shift(),n=p(t,e,r);return i.perform(n,r)}d.prototype._test=function(t){var e=this.fn;try{p(this.modifiers.slice(),e,this)(t)}catch(t){e=function(){return!1}}try{return p(this.modifiers.slice(),e,this)(t)}catch(t){return!1}},d.prototype._check=function(t){try{p(this.modifiers.slice(),this.fn,this)(t)}catch(t){if(p(this.modifiers.slice(),function(t){return t},this)(!1))return}if(!p(this.modifiers.slice(),this.fn,this)(t))throw null},d.prototype._testAsync=function(t){var e=this;return new Promise(function(r,i){(function t(e,r,i){if(!e.length)return function(t){return Promise.resolve(f(r,"async")(t))};var n=e.shift(),s=t(e,r,i);return n.performAsync(s,i)})(e.modifiers.slice(),e.fn,e)(t).then(function(e){e?r(t):i(null)}).catch(function(t){return i(t)})})};var g=function(t,e,r){this.name=t,this.perform=e,this.performAsync=r},m=function(t){function e(r,i,n,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=r,this.value=i,this.cause=n,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),v=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),this.chain=t,this.nextRuleModifiers=e};v.prototype._applyRule=function(t,e){var r=this;return function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];return r.chain.push(new d(e,t.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}},v.prototype._applyModifier=function(t,e){return this.nextRuleModifiers.push(new g(e,t.simple,t.async)),this},v.prototype._clone=function(){return new v(this.chain.slice(),this.nextRuleModifiers.slice())},v.prototype.test=function(t){return this.chain.every(function(e){return e._test(t)})},v.prototype.testAll=function(t){var e=[];return this.chain.forEach(function(r){try{r._check(t)}catch(i){e.push(new m(r,t,i))}}),e},v.prototype.check=function(t){this.chain.forEach(function(e){try{e._check(t)}catch(r){throw new m(e,t,r)}})},v.prototype.testAsync=function(t){var e=this;return new Promise(function(r,i){(function t(e,r,i,n){if(r.length){var s=r.shift();s._testAsync(e).then(function(){t(e,r,i,n)},function(t){n(new m(s,e,t))})}else i(e)})(t,e.chain.slice(),r,i)})};var b=function(t,e){return!!e&&"string"==typeof t&&0===t.trim().length||null==t};function y(){return"undefined"!=typeof Proxy?function t(e){return new Proxy(e,{get:function(r,i){if(i in r)return r[i];var n=t(e._clone());return i in w?n._applyModifier(w[i],i):i in x?n._applyRule(x[i],i):i in A?n._applyRule(A[i],i):void 0}})}(new v):function t(e){var r=function(e,r){return Object.keys(e).forEach(function(i){r[i]=function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];return t(r._clone())._applyRule(e[i],i).apply(void 0,n)}}),r},i=r(A,e),n=r(x,i);return Object.keys(w).forEach(function(e){Object.defineProperty(n,e,{get:function(){return t(n._clone())._applyModifier(w[e],e)}})}),n}(new v)}var x={};y.extend=function(t){Object.assign(x,t)},y.clearCustomRules=function(){x={}};var w={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return _(e).some(function(e){try{return t(e)}catch(t){return!1}})}},async:function(t){return function(e){return Promise.all(_(e).map(function(e){try{return t(e).catch(function(){return!1})}catch(t){return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(t){return function(e){return!1!==e&&_(e).every(t)}},async:function(t){return function(e){return Promise.all(_(e).map(t)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(t,e){return function(r){return E(e)&&r&&"object"==typeof r?Object.keys(e.args[0]).length===Object.keys(r).length&&t(r):t(r)}},async:function(t,e){return function(r){return Promise.resolve(t(r)).then(function(t){return E(e)&&r&&"object"==typeof r?Object.keys(e.args[0]).length===Object.keys(r).length&&t:t}).catch(function(){return!1})}}}};function E(t){return t&&"schema"===t.name&&t.args.length>0&&"object"==typeof t.args[0]}function _(t){return"string"==typeof t?t.split(""):t}var A={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return void 0===t&&(t=!0),function(e){return"number"==typeof e&&(t||isFinite(e))}},integer:function(){return function(t){return(Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t})(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return S("string")},boolean:function(){return S("boolean")},undefined:function(){return S("undefined")},null:function(){return S("null")},array:function(){return S("array")},object:function(){return S("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return"boolean"==typeof t||t===t.toLowerCase()&&""!==t.trim()}},uppercase:function(){return function(t){return t===t.toUpperCase()&&""!==t.trim()}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return 0===t.length}},length:function(t,e){return function(r){return r.length>=t&&r.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(r){return r>=t&&r<=e}},range:function(t,e){return function(r){return r>=t&&r<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2==0}},odd:function(){return function(t){return t%2!=0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return{simple:function(e){var r=[];if(Object.keys(t).forEach(function(i){var n=t[i];try{n.check((e||{})[i])}catch(t){t.target=i,r.push(t)}}),r.length>0)throw r;return!0},async:function(e){var r=[];return Promise.all(Object.keys(t).map(function(i){return t[i].testAsync((e||{})[i]).catch(function(t){t.target=i,r.push(t)})})).then(function(){if(r.length>0)throw r;return!0})}}},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e){return t.some(function(t){return t.test(e)})}},optional:function(t,e){return void 0===e&&(e=!1),{simple:function(r){return b(r,e)||void 0===t.check(r)},async:function(r){return b(r,e)||t.testAsync(r)}}}};function S(t){return function(e){return Array.isArray(e)&&"array"===t||null===e&&"null"===t||typeof e===t}}var M="colors",T="sizes",R="space",O={gap:R,gridGap:R,columnGap:R,gridColumnGap:R,rowGap:R,gridRowGap:R,inset:R,insetBlock:R,insetBlockEnd:R,insetBlockStart:R,insetInline:R,insetInlineEnd:R,insetInlineStart:R,margin:R,marginTop:R,marginRight:R,marginBottom:R,marginLeft:R,marginBlock:R,marginBlockEnd:R,marginBlockStart:R,marginInline:R,marginInlineEnd:R,marginInlineStart:R,padding:R,paddingTop:R,paddingRight:R,paddingBottom:R,paddingLeft:R,paddingBlock:R,paddingBlockEnd:R,paddingBlockStart:R,paddingInline:R,paddingInlineEnd:R,paddingInlineStart:R,top:R,right:R,bottom:R,left:R,scrollMargin:R,scrollMarginTop:R,scrollMarginRight:R,scrollMarginBottom:R,scrollMarginLeft:R,scrollMarginX:R,scrollMarginY:R,scrollMarginBlock:R,scrollMarginBlockEnd:R,scrollMarginBlockStart:R,scrollMarginInline:R,scrollMarginInlineEnd:R,scrollMarginInlineStart:R,scrollPadding:R,scrollPaddingTop:R,scrollPaddingRight:R,scrollPaddingBottom:R,scrollPaddingLeft:R,scrollPaddingX:R,scrollPaddingY:R,scrollPaddingBlock:R,scrollPaddingBlockEnd:R,scrollPaddingBlockStart:R,scrollPaddingInline:R,scrollPaddingInlineEnd:R,scrollPaddingInlineStart:R,fontSize:"fontSizes",background:M,backgroundColor:M,backgroundImage:M,borderImage:M,border:M,borderBlock:M,borderBlockEnd:M,borderBlockStart:M,borderBottom:M,borderBottomColor:M,borderColor:M,borderInline:M,borderInlineEnd:M,borderInlineStart:M,borderLeft:M,borderLeftColor:M,borderRight:M,borderRightColor:M,borderTop:M,borderTopColor:M,caretColor:M,color:M,columnRuleColor:M,fill:M,outline:M,outlineColor:M,stroke:M,textDecorationColor:M,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:T,minBlockSize:T,maxBlockSize:T,inlineSize:T,minInlineSize:T,maxInlineSize:T,width:T,minWidth:T,maxWidth:T,height:T,minHeight:T,maxHeight:T,flexBasis:T,gridTemplateColumns:T,gridTemplateRows:T,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},P=(t,e)=>"function"==typeof e?{"()":Function.prototype.toString.call(e)}:e,C=()=>{let t=Object.create(null);return(e,r,...i)=>{let n=JSON.stringify(e,P);return n in t?t[n]:t[n]=r(e,...i)}},k=Symbol.for("sxs.internal"),I=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),F=t=>{for(let e in t)return!0;return!1},{hasOwnProperty:N}=Object.prototype,j=t=>t.includes("-")?t:t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),L=/\s+(?![^()]*\))/,$=t=>e=>t(..."string"==typeof e?String(e).split(L):[e]),D={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:$((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:$((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:$((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:$((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:$((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:$((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},z=/([\d.]+)([^]*)/,B=(t,e)=>t.length?t.reduce((t,r)=>(t.push(...e.map(t=>t.includes("&")?t.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(t)?`:is(${r})`:r):r+" "+t)),t),[]):e,U=(t,e)=>t in W&&"string"==typeof e?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(e,r,i,n)=>r+("stretch"===i?`-moz-available${n};${j(t)}:${r}-webkit-fill-available`:`-moz-fit-content${n};${j(t)}:${r}fit-content`)+n):String(e),W={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},V=t=>t?t+"-":"",H=(t,e,r)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(t,i,n,s,o)=>"$"==s==!!n?t:(i||"--"==s?"calc(":"")+"var(--"+("$"===s?V(e)+(o.includes("$")?"":V(r))+o.replace(/\$/g,"-"):o)+")"+(i||"--"==s?"*"+(i||"")+(n||"1")+")":"")),G=/\s*,\s*(?![^()]*\))/,Y=Object.prototype.toString,X=(t,e,r,i,n)=>{let s,o,a;let l=(t,e,r)=>{let u,c;let h=t=>{var d;for(u in t){let f=64===u.charCodeAt(0);for(c of f&&Array.isArray(t[u])?t[u]:[t[u]]){let t=/[A-Z]/.test(d=u)?d:d.replace(/-[^]/g,t=>t[1].toUpperCase()),p="object"==typeof c&&c&&c.toString===Y&&(!i.utils[t]||!e.length);if(t in i.utils&&!p){let e=i.utils[t];if(e!==o){o=e,h(e(c)),o=null;continue}}else if(t in D){let e=D[t];if(e!==a){a=e,h(e(c)),a=null;continue}}if(f&&(u=(u.slice(1) in i.media?"@media "+i.media[u.slice(1)]:u).replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(t,e,r,i,n,s)=>{let o=z.test(e),a=.0625*(o?-1:1),[l,u]=o?[i,e]:[e,i];return"("+("="===r[0]?"":">"===r[0]===o?"max-":"min-")+l+":"+("="!==r[0]&&1===r.length?u.replace(z,(t,e,i)=>Number(e)+a*(">"===r?1:-1)+i):u)+(n?") and ("+(">"===n[0]?"min-":"max-")+l+":"+(1===n.length?s.replace(z,(t,e,r)=>Number(e)+a*(">"===n?-1:1)+r):s):"")+")"})),p){let t=f?r.concat(u):[...r],i=f?[...e]:B(e,u.split(G));void 0!==s&&n(q(...s)),s=void 0,l(c,i,t)}else void 0===s&&(s=[[],e,r]),u=f||36!==u.charCodeAt(0)?u:`--${V(i.prefix)}${u.slice(1).replace(/\$/g,"-")}`,c=p?c:"number"==typeof c?c&&t in K?String(c)+"px":String(c):H(U(t,null==c?"":c),i.prefix,i.themeMap[t]),s[0].push(`${f?`${u} `:`${j(u)}:`}${c}`)}}};h(t),void 0!==s&&n(q(...s)),s=void 0};l(t,e,r)},q=(t,e,r)=>`${r.map(t=>`${t}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,K={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Z=t=>String.fromCharCode(t+(t>25?39:97)),Q=t=>(t=>{let e,r="";for(e=Math.abs(t);e>52;e=e/52|0)r=Z(e%52)+r;return Z(e%52)+r})(((t,e)=>{let r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return t})(5381,JSON.stringify(t))>>>0),J=["themed","global","styled","onevar","resonevar","allvar","inline"],tt=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch(t){return!1}},te=t=>{let e;let r=()=>{let{cssRules:t}=e.sheet;return[].map.call(t,(r,i)=>{let{cssText:n}=r,s="";if(n.startsWith("--sxs"))return"";if(t[i-1]&&(s=t[i-1].cssText).startsWith("--sxs")){if(!r.cssRules.length)return"";for(let t in e.rules)if(e.rules[t].group===r)return`--sxs{--sxs:${[...e.rules[t].cache].join(" ")}}${n}`;return r.cssRules.length?`${s}${n}`:""}return n}).join("")},i=()=>{if(e){let{rules:t,sheet:r}=e;if(!r.deleteRule){for(;3===Object(Object(r.cssRules)[0]).type;)r.cssRules.splice(0,1);r.cssRules=[]}for(let e in t)delete t[e]}for(let n of Object(t).styleSheets||[])if(tt(n)){for(let t=0,s=n.cssRules;s[t];++t){let o=Object(s[t]);if(1!==o.type)continue;let a=Object(s[t+1]);if(4!==a.type)continue;++t;let{cssText:l}=o;if(!l.startsWith("--sxs"))continue;let u=l.slice(14,-3).trim().split(/\s+/),c=J[u[0]];c&&(e||(e={sheet:n,reset:i,rules:{},toString:r}),e.rules[c]={group:a,index:t,cache:new Set(u)})}if(e)break}if(!e){let n=(t,e)=>({type:e,cssRules:[],insertRule(t,e){this.cssRules.splice(e,0,n(t,{import:3,undefined:1}[(t.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===t?`@media{${[].map.call(this.cssRules,t=>t.cssText).join("")}}`:t}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:n("","text/css"),rules:{},reset:i,toString:r}}let{sheet:n,rules:s}=e;for(let t=J.length-1;t>=0;--t){let e=J[t];if(!s[e]){let r=J[t+1],i=s[r]?s[r].index:n.cssRules.length;n.insertRule("@media{}",i),n.insertRule(`--sxs{--sxs:${t}}`,i),s[e]={group:n.cssRules[i+1],index:i,cache:new Set([t])}}tr(s[e])}};return i(),e},tr=t=>{let e=t.group,r=e.cssRules.length;t.apply=t=>{try{e.insertRule(t,r),++r}catch(t){}}},ti=Symbol(),tn=C(),ts=(t,e)=>tn(t,()=>(...r)=>{let i={type:null,composers:new Set};for(let e of r)if(null!=e){if(e[k])for(let t of(null==i.type&&(i.type=e[k].type),e[k].composers))i.composers.add(t);else e.constructor!==Object||e.$$typeof?null==i.type&&(i.type=e):i.composers.add(to(e,t))}return null==i.type&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),ta(t,i,e)}),to=({variants:t,compoundVariants:e,defaultVariants:r,...i},n)=>{let s=`${V(n.prefix)}c-${Q(i)}`,o=[],a=[],l=Object.create(null),u=[];for(let t in r)l[t]=String(r[t]);if("object"==typeof t&&t)for(let e in t){N.call(l,e)||(l[e]="undefined");let r=t[e];for(let t in r){let i={[e]:String(t)};"undefined"===String(t)&&u.push(e);let n=r[t],s=[i,n,!F(n)];o.push(s)}}if("object"==typeof e&&e)for(let t of e){let{css:e,...r}=t;for(let t in e="object"==typeof e&&e||{},r)r[t]=String(r[t]);let i=[r,e,!F(e)];a.push(i)}return[s,i,o,a,l,u]},ta=(t,e,r)=>{let[i,n,s,o]=tl(e.composers),a="function"==typeof e.type||e.type.$$typeof?(t=>{function e(){for(let r=0;r<e[ti].length;r++){let[i,n]=e[ti][r];t.rules[i].apply(n)}return e[ti]=[],null}return e[ti]=[],e.rules={},J.forEach(t=>e.rules[t]={apply:r=>e[ti].push([t,r])}),e})(r):null,l=(a||r).rules,u=`.${i}${n.length>1?`:where(.${n.slice(1).join(".")})`:""}`,c=c=>{let{css:h,...d}=c="object"==typeof c&&c||tc,f={};for(let t in s)if(delete d[t],t in c){let e=c[t];"object"==typeof e&&e?f[t]={"@initial":s[t],...e}:(e=String(e),f[t]="undefined"!==e||o.has(t)?e:s[t])}else f[t]=s[t];let p=new Set([...n]);for(let[i,n,s,o]of e.composers){r.rules.styled.cache.has(i)||(r.rules.styled.cache.add(i),X(n,[`.${i}`],[],t,t=>{l.styled.apply(t)}));let e=tu(s,f,t.media),a=tu(o,f,t.media,!0);for(let n of e)if(void 0!==n)for(let[e,s,o]of n){let n=`${i}-${Q(s)}-${e}`;p.add(n);let a=(o?r.rules.resonevar:r.rules.onevar).cache,u=o?l.resonevar:l.onevar;a.has(n)||(a.add(n),X(s,[`.${n}`],[],t,t=>{u.apply(t)}))}for(let e of a)if(void 0!==e)for(let[n,s]of e){let e=`${i}-${Q(s)}-${n}`;p.add(e),r.rules.allvar.cache.has(e)||(r.rules.allvar.cache.add(e),X(s,[`.${e}`],[],t,t=>{l.allvar.apply(t)}))}}if("object"==typeof h&&h){let e=`${i}-i${Q(h)}-css`;p.add(e),r.rules.inline.cache.has(e)||(r.rules.inline.cache.add(e),X(h,[`.${e}`],[],t,t=>{l.inline.apply(t)}))}for(let t of String(c.className||"").trim().split(/\s+/))t&&p.add(t);let g=d.className=[...p].join(" ");return{type:e.type,className:g,selector:u,props:d,toString:()=>g,deferredInjector:a}};return I(c,{className:i,selector:u,[k]:e,toString:()=>(r.rules.styled.cache.has(i)||c(),i)})},tl=t=>{let e="",r=[],i={},n=[];for(let[s,,,,o,a]of t)for(let t in""===e&&(e=s),r.push(s),n.push(...a),o){let e=o[t];(void 0===i[t]||"undefined"!==e||a.includes(e))&&(i[t]=e)}return[e,r,i,new Set(n)]},tu=(t,e,r,i)=>{let n=[];t:for(let[s,o,a]of t){if(a)continue;let t,l=0,u=!1;for(t in s){let i=s[t],n=e[t];if(n!==i){if("object"!=typeof n||!n)continue t;{let t,e,s=0;for(let o in n){if(i===String(n[o])){if("@initial"!==o){let t=o.slice(1);(e=e||[]).push(t in r?r[t]:o.replace(/^@media ?/,"")),u=!0}l+=s,t=!0}++s}if(e&&e.length&&(o={["@media "+e.join(", ")]:o}),!t)continue t}}}(n[l]=n[l]||[]).push([i?"cv":`${t}-${s[t]}`,o,u])}return n},tc={},th=C(),td=(t,e)=>th(t,()=>(...r)=>{let i=()=>{for(let i of r){let r=Q(i="object"==typeof i&&i||{});if(!e.rules.global.cache.has(r)){if(e.rules.global.cache.add(r),"@import"in i){let t=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let r of[].concat(i["@import"]))r=r.includes('"')||r.includes("'")?r:`"${r}"`,e.sheet.insertRule(`@import ${r};`,t++);delete i["@import"]}X(i,[],[],t,t=>{e.rules.global.apply(t)})}}return""};return I(i,{toString:i})}),tf=C(),tp=(t,e)=>tf(t,()=>r=>{let i=`${V(t.prefix)}k-${Q(r)}`,n=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);let n=[];X(r,[],[],t,t=>n.push(t));let s=`@keyframes ${i}{${n.join("")}}`;e.rules.global.apply(s)}return i};return I(n,{get name(){return n()},toString:n})}),tg=class{constructor(t,e,r,i){this.token=null==t?"":String(t),this.value=null==e?"":String(e),this.scale=null==r?"":String(r),this.prefix=null==i?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+V(this.prefix)+V(this.scale)+this.token}toString(){return this.computedValue}},tm=C(),tv=(t,e)=>tm(t,()=>(r,i)=>{i="object"==typeof r&&r||Object(i);let n=`.${r=(r="string"==typeof r?r:"")||`${V(t.prefix)}t-${Q(i)}`}`,s={},o=[];for(let e in i)for(let r in s[e]={},i[e]){let n=`--${V(t.prefix)}${e}-${r}`,a=H(String(i[e][r]),t.prefix,e);s[e][r]=new tg(r,a,e,t.prefix),o.push(`${n}:${a}`)}let a=()=>{if(o.length&&!e.rules.themed.cache.has(r)){e.rules.themed.cache.add(r);let n=`${i===t.theme?":root,":""}.${r}{${o.join(";")}}`;e.rules.themed.apply(n)}return r};return{...s,get className(){return a()},selector:n,toString:a}}),tb=C(),ty=C();let tx={toVector:(t,e)=>(void 0===t&&(t=e),Array.isArray(t)?t:[t,t]),add:(t,e)=>[t[0]+e[0],t[1]+e[1]],sub:(t,e)=>[t[0]-e[0],t[1]-e[1]],addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function tw(t,e,r){return 0===e||Math.abs(e)===1/0?Math.pow(t,5*r):t*e*r/(e+r*t)}function tE(t,e,r,i=.15){return 0===i?Math.max(e,Math.min(t,r)):t<e?-tw(e-t,r-e,i)+e:t>r?+tw(t-r,r-e,i)+r:t}function t_(t,e,r){var i;return(e="symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"))?i:String(i))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function tS(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tA(Object(r),!0).forEach(function(e){t_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let tM={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function tT(t){return t?t[0].toUpperCase()+t.slice(1):""}let tR=["enter","leave"],tO=["gotpointercapture","lostpointercapture"];function tP(t){return"touches"in t}function tC(t){return tP(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function tk(t){return tP(t)?("touchend"===t.type||"touchcancel"===t.type?t.changedTouches:t.targetTouches)[0]:t}function tI(t){let e=tk(t);return tP(t)?e.identifier:e.pointerId}function tF(t){let e=tk(t);return[e.clientX,e.clientY]}function tN(t,...e){return"function"==typeof t?t(...e):t}function tj(){}function tL(t,e){return Object.assign({},e,t||{})}class t${constructor(t,e,r){this.ctrl=t,this.args=e,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:t,shared:e,ingKey:r,args:i}=this;e[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){let e=this.state,r=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=r.from?tN(r.from,e):e.offset,e.offset=e.lastOffset,e.startTime=e.timeStamp=t.timeStamp)}computeValues(t){let e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){let t=this.state;t._initial=t._values,t.initial=t.values}compute(t){let{state:e,config:r,shared:i}=this;e.args=this.args;let n=0;if(t&&(e.event=t,r.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,function(t){let e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){let{shiftKey:r,altKey:i,metaKey:n,ctrlKey:s}=t;Object.assign(e,{shiftKey:r,altKey:i,metaKey:n,ctrlKey:s})}return e}(t)),i.down=i.pressed=i.buttons%2==1||i.touches>0,n=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){let t=e._delta.map(Math.abs);tx.addTo(e._distance,t)}this.axisIntent&&this.axisIntent(t);let[s,o]=e._movement,[a,l]=r.threshold,{_step:u,values:c}=e;if(r.hasCustomTransform?(!1===u[0]&&(u[0]=Math.abs(s)>=a&&c[0]),!1===u[1]&&(u[1]=Math.abs(o)>=l&&c[1])):(!1===u[0]&&(u[0]=Math.abs(s)>=a&&Math.sign(s)*a),!1===u[1]&&(u[1]=Math.abs(o)>=l&&Math.sign(o)*l)),e.intentional=!1!==u[0]||!1!==u[1],!e.intentional)return;let h=[0,0];if(r.hasCustomTransform){let[t,e]=c;h[0]=!1!==u[0]?t-u[0]:0,h[1]=!1!==u[1]?e-u[1]:0}else h[0]=!1!==u[0]?s-u[0]:0,h[1]=!1!==u[1]?o-u[1]:0;this.restrictToAxis&&!e._blocked&&this.restrictToAxis(h);let d=e.offset,f=e._active&&!e._blocked||e.active;f&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=i[this.ingKey]=e._active,t&&(e.first&&("bounds"in r&&(e._bounds=tN(r.bounds,e)),this.setup&&this.setup()),e.movement=h,this.computeOffset()));let[p,g]=e.offset,[[m,v],[b,y]]=e._bounds;e.overflow=[p<m?-1:p>v?1:0,g<b?-1:g>y?1:0],e._movementBound[0]=!!e.overflow[0]&&(!1===e._movementBound[0]?e._movement[0]:e._movementBound[0]),e._movementBound[1]=!!e.overflow[1]&&(!1===e._movementBound[1]?e._movement[1]:e._movementBound[1]);let x=e._active&&r.rubberband||[0,0];if(e.offset=function(t,[e,r],[i,n]){let[[s,o],[a,l]]=t;return[tE(e,s,o,i),tE(r,a,l,n)]}(e._bounds,e.offset,x),e.delta=tx.sub(e.offset,d),this.computeMovement(),f&&(!e.last||n>32)){e.delta=tx.sub(e.offset,d);let t=e.delta.map(Math.abs);tx.addTo(e.distance,t),e.direction=e.delta.map(Math.sign),e._direction=e._delta.map(Math.sign),!e.first&&n>0&&(e.velocity=[t[0]/n,t[1]/n],e.timeDelta=n)}}emit(){let t=this.state,e=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;let i=this.handler(tS(tS(tS({},e),t),{},{[this.aliasKey]:t.values}));void 0!==i&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class tD extends t${constructor(...t){super(...t),t_(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=tx.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=tx.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){let e=this.state,r=this.config;if(!e.axis&&t){let i="object"==typeof r.axisThreshold?r.axisThreshold[tC(t)]:r.axisThreshold;e.axis=function([t,e],r){let i=Math.abs(t),n=Math.abs(e);return i>n&&i>r?"x":n>i&&n>r?"y":void 0}(e._movement,i)}e._blocked=(r.lockDirection||!!r.axis)&&!e.axis||!!r.axis&&r.axis!==e.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0}}}let tz=t=>t,tB={enabled:(t=!0)=>t,eventOptions:(t,e,r)=>tS(tS({},r.shared.eventOptions),t),preventDefault:(t=!1)=>t,triggerAllEvents:(t=!1)=>t,rubberband(t=0){switch(t){case!0:return[.15,.15];case!1:return[0,0];default:return tx.toVector(t)}},from:t=>"function"==typeof t?t:null!=t?tx.toVector(t):void 0,transform(t,e,r){let i=t||r.shared.transform;return this.hasCustomTransform=!!i,i||tz},threshold:t=>tx.toVector(t,0)},tU=0,tW=tS(tS({},tB),{},{axis(t,e,{axis:r}){if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:(t=tU)=>t,bounds(t={}){if("function"==typeof t)return e=>tW.bounds(t(e));if("current"in t)return()=>t.current;if("function"==typeof HTMLElement&&t instanceof HTMLElement)return t;let{left:e=-1/0,right:r=1/0,top:i=-1/0,bottom:n=1/0}=t;return[[e,r],[i,n]]}}),tV={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class tH extends tD{constructor(...t){super(...t),t_(this,"ingKey","dragging")}reset(){super.reset();let t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){let t=this.state;if(t._bounds instanceof HTMLElement){let e=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:e.left-r.left+t.offset[0],right:e.right-r.right+t.offset[0],top:e.top-r.top+t.offset[1],bottom:e.bottom-r.bottom+t.offset[1]};t._bounds=tW.bounds(i)}}cancel(){let t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){let e=this.config,r=this.state;if(null!=t.buttons&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(t.buttons):-1!==e.pointerButtons&&e.pointerButtons!==t.buttons))return;let i=this.ctrl.setEventIds(t);e.pointerCapture&&t.target.setPointerCapture(t.pointerId),i&&i.size>1&&r._pointerActive||(this.start(t),this.setupPointer(t),r._pointerId=tI(t),r._pointerActive=!0,this.computeValues(tF(t)),this.computeInitial(),e.preventScrollAxis&&"mouse"!==tC(t)?(r._active=!1,this.setupScrollPrevention(t)):e.delay>0?(this.setupDelayTrigger(t),e.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){let e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){let e=this.state,r=this.config;if(!e._pointerActive)return;let i=tI(t);if(void 0!==e._pointerId&&i!==e._pointerId)return;let n=tF(t);if(document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=tx.sub(n,e._values),this.computeValues(n)),tx.addTo(e._movement,e._delta),this.compute(t),e._delayed&&e.intentional){this.timeoutStore.remove("dragDelay"),e.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!e._preventScroll){if(!e.axis)return;if(e.axis===r.preventScrollAxis||"xy"===r.preventScrollAxis){e._active=!1,this.clean();return}this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch(t){}let e=this.state,r=this.config;if(!e._active||!e._pointerActive)return;let i=tI(t);if(void 0!==e._pointerId&&i!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);let[n,s]=e._distance;if(e.tap=n<=r.tapsThreshold&&s<=r.tapsThreshold,e.tap&&r.filterTaps)e._force=!0;else{let[t,i]=e._delta,[n,s]=e._movement,[o,a]=r.swipe.velocity,[l,u]=r.swipe.distance,c=r.swipe.duration;if(e.elapsedTime<c){let r=Math.abs(t/e.timeDelta),c=Math.abs(i/e.timeDelta);r>o&&Math.abs(n)>l&&(e.swipe[0]=Math.sign(t)),c>a&&Math.abs(s)>u&&(e.swipe[1]=Math.sign(i))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){let e=this.config,r=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,"persist"in t&&"function"==typeof t.persist&&t.persist();let e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){let e=tV[t.key];if(e){let r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=e(this.config.keyboardDisplacement,i),r._keyboardActive=!0,tx.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in tV&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){let e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}let tG="undefined"!=typeof window&&window.document&&window.document.createElement;function tY(){return tG&&"ontouchstart"in window}let tX={isBrowser:tG,gesture:function(){try{return"constructor"in GestureEvent}catch(t){return!1}}(),touch:tY(),touchscreen:tY()||tG&&window.navigator.maxTouchPoints>1,pointer:tG&&"onpointerdown"in window,pointerLock:tG&&"exitPointerLock"in window.document},tq=10,tK={mouse:0,touch:0,pen:8},tZ=tS(tS({},tW),{},{device(t,e,{pointer:{touch:r=!1,lock:i=!1,mouse:n=!1}={}}){return(this.pointerLock=i&&tX.pointerLock,tX.touch&&r)?"touch":this.pointerLock?"mouse":tX.pointer&&!n?"pointer":tX.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:r}){if(this.preventScrollDelay="number"==typeof r?r:r||void 0===r&&t?250:void 0,tX.touchscreen&&!1!==r)return t||(void 0!==r?"y":void 0)},pointerCapture(t,e,{pointer:{capture:r=!0,buttons:i=1,keys:n=!0}={}}){return this.pointerButtons=i,this.keys=n,!this.pointerLock&&"pointer"===this.device&&r},threshold(t,e,{filterTaps:r=!1,tapsThreshold:i=3,axis:n}){let s=tx.toVector(t,r?i:n?1:0);return this.filterTaps=r,this.tapsThreshold=i,s},swipe({velocity:t=.5,distance:e=50,duration:r=250}={}){return{velocity:this.transform(tx.toVector(t)),distance:this.transform(tx.toVector(e)),duration:r}},delay(t=0){switch(t){case!0:return 180;case!1:return 0;default:return t}},axisThreshold:t=>t?tS(tS({},tK),t):tK,keyboardDisplacement:(t=tq)=>t});tS(tS({},tB),{},{device(t,e,{shared:r,pointer:{touch:i=!1}={}}){if(r.target&&!tX.touch&&tX.gesture)return"gesture";if(tX.touch&&i)return"touch";if(tX.touchscreen){if(tX.pointer)return"pointer";if(tX.touch)return"touch"}},bounds(t,e,{scaleBounds:r={},angleBounds:i={}}){let n=t=>{let e=tL(tN(r,t),{min:-1/0,max:1/0});return[e.min,e.max]},s=t=>{let e=tL(tN(i,t),{min:-1/0,max:1/0});return[e.min,e.max]};return"function"!=typeof r&&"function"!=typeof i?[n(),s()]:t=>[n(t),s(t)]},threshold(t,e,r){return this.lockDirection="lock"===r.axis,tx.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey:t=>void 0===t?"ctrlKey":t,pinchOnWheel:(t=!0)=>t}),tS(tS({},tW),{},{mouseOnly:(t=!0)=>t}),tS(tS({},tW),{},{mouseOnly:(t=!0)=>t});let tQ=new Map,tJ=new Map,t0={key:"drag",engine:tH,resolver:tZ},t1={target(t){if(t)return()=>"current"in t?t.current:t},enabled:(t=!0)=>t,window:(t=tX.isBrowser?window:void 0)=>t,eventOptions:({passive:t=!0,capture:e=!1}={})=>({passive:t,capture:e}),transform:t=>t},t2=["target","eventOptions","window","enabled","transform"];function t3(t={},e){let r={};for(let[i,n]of Object.entries(e))switch(typeof n){case"function":r[i]=n.call(r,t[i],i,t);break;case"object":r[i]=t3(t[i],n);break;case"boolean":n&&(r[i]=t[i])}return r}class t5{constructor(t,e){t_(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=e}add(t,e,r,i,n){let s=this._listeners,o=function(t,e=""){let r=tM[t];return t+(r&&r[e]||e)}(e,r),a=tS(tS({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),n);t.addEventListener(o,i,a);let l=()=>{t.removeEventListener(o,i,a),s.delete(l)};return s.add(l),l}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class t4{constructor(){t_(this,"_timeouts",new Map)}add(t,e,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(e,r,...i))}remove(t){let e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class t6{constructor(t){t_(this,"gestures",new Set),t_(this,"_targetEventStore",new t5(this)),t_(this,"gestureEventStores",{}),t_(this,"gestureTimeoutStores",{}),t_(this,"handlers",{}),t_(this,"config",{}),t_(this,"pointerIds",new Set),t_(this,"touchIds",new Set),t_(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(t,e){e.drag&&t8(t,"drag"),e.wheel&&t8(t,"wheel"),e.scroll&&t8(t,"scroll"),e.move&&t8(t,"move"),e.pinch&&t8(t,"pinch"),e.hover&&t8(t,"hover")}(this,t)}setEventIds(t){return tP(t)?(this.touchIds=new Set(Array.from(t.touches).filter(e=>{var r,i;return e.target===t.currentTarget||(null===(r=t.currentTarget)||void 0===r||null===(i=r.contains)||void 0===i?void 0:i.call(r,e.target))}).map(t=>t.identifier)),this.touchIds):"pointerId"in t?("pointerup"===t.type||"pointercancel"===t.type?this.pointerIds.delete(t.pointerId):"pointerdown"===t.type&&this.pointerIds.add(t.pointerId),this.pointerIds):void 0}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=function(t,e,r={}){let{target:i,eventOptions:n,window:s,enabled:o,transform:a}=t,l=function(t,e){if(null==t)return{};var r,i,n=function(t,e){if(null==t)return{};var r,i,n={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}(t,t2);if(r.shared=t3({target:i,eventOptions:n,window:s,enabled:o,transform:a},t1),e){let t=tJ.get(e);r[e]=t3(tS({shared:r.shared},l),t)}else for(let t in l){let e=tJ.get(t);e&&(r[t]=t3(tS({shared:r.shared},l[t]),e))}return r}(t,e,this.config)}clean(){for(let t of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){let e;let r=this.config.shared,i={};if(!r.target||(e=r.target())){if(r.enabled){for(let r of this.gestures){let n=this.config[r],s=t9(i,n.eventOptions,!!e);n.enabled&&new(tQ.get(r))(this,t,r).bind(s)}let n=t9(i,r.eventOptions,!!e);for(let e in this.nativeHandlers)n(e,"",r=>this.nativeHandlers[e](tS(tS({},this.state.shared),{},{event:r,args:t})),void 0,!0)}for(let t in i)i[t]=function(...t){return 0===t.length?tj:1===t.length?t[0]:function(){let e;for(let r of t)e=r.apply(this,arguments)||e;return e}}(...i[t]);if(!e)return i;for(let t in i){let{device:r,capture:n,passive:s}=function(t){let e=t.substring(2).toLowerCase(),r=!!~e.indexOf("passive");r&&(e=e.replace("passive",""));let i=tO.includes(e)?"capturecapture":"capture",n=!!~e.indexOf(i);return n&&(e=e.replace("capture","")),{device:e,capture:n,passive:r}}(t);this._targetEventStore.add(e,r,"",i[t],{capture:n,passive:s})}}}}function t8(t,e){t.gestures.add(e),t.gestureEventStores[e]=new t5(t,e),t.gestureTimeoutStores[e]=new t4}let t9=(t,e,r)=>(i,n,s,o={},a=!1)=>{var l,u;let c=null!==(l=o.capture)&&void 0!==l?l:e.capture,h=null!==(u=o.passive)&&void 0!==u?u:e.passive,d=a?i:function(t,e="",r=!1){let i=tM[t],n=i&&i[e]||e;return"on"+tT(t)+tT(n)+(!function(t=!1,e){return t&&!tR.includes(e)}(r,n)?"":"Capture")}(i,n,c);r&&h&&(d+="Passive"),t[d]=t[d]||[],t[d].push(s)};var t7=r(28113);function et(t,e){if(null==t)return{};var r,i,n=function(t,e){if(null==t)return{};var r,i,n={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}!function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"}(i||(i={}));let ee={[i.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[i.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[i.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[i.DUPLICATE_KEYS]:(t,e,r)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${r}\`. Even nested keys need to be unique. Rename one of the keys.`],[i.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[i.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[i.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[i.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[i.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[i.INPUT_TYPE_OVERRIDE]:(t,e,r)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${r}\`.`],[i.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function er(t,e,...r){let[i,...n]=ee[e](...r);console[t]("LEVA: "+i,...n)}let ei=er.bind(null,"warn"),en=er.bind(null,"log"),es=["value"],eo=["schema"],ea=["value"],el=[],eu={};function ec(t){let{value:e}=t,r=et(t,es);for(let t of el){let i=t(e,r);if(i)return i}}function eh(t,e){let{schema:r}=e,n=et(e,eo);if(t in eu){ei(i.ALREADY_REGISTERED_TYPE,t);return}el.push((e,i)=>r(e,i)&&t),eu[t]=n}function ed(t,e,r,i){let{normalize:n}=eu[t];if(n)return n(e,r,i);if("object"!=typeof e||!("value"in e))return{value:e};let{value:s}=e;return{value:s,settings:et(e,ea)}}function ef(t,e,r){let{format:i}=eu[t];return i?i(e,r):e}function ep(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function eg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ep(Object(r),!0).forEach(function(e){var i;i=r[e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}let em=(t,e,r)=>t>r?r:t<e?e:t,ev=t=>{if(""===t||"number"==typeof t)return t;try{let e=function t(e){if(isNaN(Number(e))){if(e_.test(e)){let r=e.replace(e_,(e,r)=>String(t(r)));return t(r)}if(eA.test(e))return t(e.replace(eA,(t,e,r)=>String(Math.pow(Number(e),Number(r)))));if(eS.test(e))return t(e.replace(eS,(t,e,r)=>String(Number(e)*Number(r))));if(eM.test(e))return t(e.replace(eM,(t,e,r)=>{if(0!=r)return String(Number(e)/Number(r));throw Error("Division by zero")}));else if(eT.test(e))return t(e.replace(eT,(t,e,r)=>String(Number(e)+Number(r))));else if(eR.test(e))return t(e.replace(eR,(t,e,r)=>String(Number(e)-Number(r))))}return Number(e)}(t);if(!isNaN(e))return e}catch(t){}return parseFloat(t)},eb=Math.log(10);function ey(t){let e=Math.abs(+String(t).replace(".",""));if(0===e)return .01;for(;0!==e&&e%10==0;)e/=10;return Math.max(Math.pow(10,Math.floor(Math.log10(Math.abs(t)))-(Math.floor(Math.log(e)/eb)+1)),.001)}let ex=(t,e,r)=>r===e?0:(em(t,e,r)-e)/(r-e),ew=(t,e,r)=>t*(r-e)+e,eE=()=>"_"+Math.random().toString(36).substr(2,9),e_=/\(([0-9+\-*/^ .]+)\)/,eA=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,eS=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,eM=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,eT=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,eR=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function eO(t){return"[object Object]"===Object.prototype.toString.call(t)}let eP=t=>eO(t)&&0===Object.keys(t).length;!function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"}(n||(n={})),function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"}(s||(s={}));let eC=["type","__customInput"],ek=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],eI=["type"];function eF(t,e,r,i,n){let{value:s,type:o,settings:a}=t;t.value=ej({type:o,value:s,settings:a},e,r,i),t.fromPanel=n}let eN=function(t,e,r){this.type="LEVA_ERROR",this.message="LEVA: "+t,this.previousValue=e,this.error=r};function ej({type:t,value:e,settings:r},i,n,s){let o;let a="SELECT"!==t&&"function"==typeof i?i(e):i;try{o=function(t,e,r,i,n,s){let{sanitize:o}=eu[t];return o?o(e,r,i,n,s):e}(t,a,r,e,n,s)}catch(t){throw new eN(`The value \`${i}\` did not result in a correct value.`,e,t)}return c(o,e)?e:o}let eL=(t,e,r=!1)=>{let i=0;return function(){let n=arguments,s=r&&!i,o=()=>t.apply(this,n);window.clearTimeout(i),i=window.setTimeout(o,e),s&&o()}},e$=t=>t.shiftKey?5:t.altKey?.2:1,eD=["value"],ez=["min","max"],eB=(t,{min:e=-1/0,max:r=1/0,suffix:i})=>{let n=parseFloat(t);if(""===t||isNaN(n))throw Error("Invalid number");let s=em(n,e,r);return i?s+i:s},eU=t=>{let{value:e}=t,r=et(t,eD),{min:i=-1/0,max:n=1/0}=r,s=et(r,ez),o=parseFloat(e),a="string"==typeof e?e.substring((""+o).length):void 0;o=em(o,i,n);let l=r.step;!l&&(Number.isFinite(i)?l=Number.isFinite(n)?+(Math.abs(n-i)/100).toPrecision(1):+(Math.abs(o-i)/100).toPrecision(1):Number.isFinite(n)&&(l=+(Math.abs(n-o)/100).toPrecision(1)));let u=l?10*ey(l):ey(o);return{value:a?o+a:o,settings:eg({initialValue:o,step:l=l||u/10,pad:Math.round(em(Math.log10(1/u),0,2)),min:i,max:n,suffix:a},s)}},eW=(t,{step:e,initialValue:r})=>r+Math.round((t-r)/e)*e;var eV=Object.freeze({__proto__:null,schema:t=>{if("number"==typeof t)return!0;if("string"==typeof t){let e=parseFloat(t);return!isNaN(e)&&t.substring((""+e).length).trim().length<4}return!1},sanitize:eB,format:(t,{pad:e=0,suffix:r})=>{let i=parseFloat(t).toFixed(e);return r?i+r:i},normalize:eU,sanitizeStep:eW});function eH(){return(eH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}let eG=(0,a.createContext)({});function eY(){return(0,a.useContext)(eG)}let eX=(0,a.createContext)(null),eq=(0,a.createContext)(null),eK=(0,a.createContext)(null);function eZ(){return(0,a.useContext)(eq)}let eQ=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function eJ(t,e){let[r,i]=t.split(" "),n={};return"none"!==r&&(n.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${"default"!==r&&r||e.borderColor}`),i&&(n.backgroundColor=i),n}let e0={$inputStyle:()=>t=>eJ(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>eJ(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>eJ(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>eJ(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:e1,css:e2,createTheme:e3,globalCss:e5,keyframes:e4}=(t=>{let e=(t=>{let e=!1,r=tb(t,t=>{e=!0;let r="prefix"in(t="object"==typeof t&&t||{})?String(t.prefix):"",i="object"==typeof t.media&&t.media||{},n="object"==typeof t.root?t.root||null:globalThis.document||null,s="object"==typeof t.theme&&t.theme||{},o={prefix:r,media:i,theme:s,themeMap:"object"==typeof t.themeMap&&t.themeMap||{...O},utils:"object"==typeof t.utils&&t.utils||{}},a=te(n),l={css:ts(o,a),globalCss:td(o,a),keyframes:tp(o,a),createTheme:tv(o,a),reset(){a.reset(),l.theme.toString()},theme:{},sheet:a,config:o,prefix:r,getCssText:a.toString,toString:a.toString};return String(l.theme=l.createTheme(s)),l});return e||r.reset(),r})(t);return e.styled=(({config:t,sheet:e})=>ty(t,()=>{let r=ts(t,e);return(...t)=>{let e=r(...t),i=e[k].type,n=a.forwardRef((t,r)=>{let n=t&&t.as||i,{props:s,deferredInjector:o}=e(t);return delete s.as,s.ref=r,o?a.createElement(a.Fragment,null,a.createElement(n,s),a.createElement(o,null)):a.createElement(n,s)});return n.className=e.className,n.displayName=`Styled.${i.displayName||i.name||i}`,n.selector=e.selector,n.toString=()=>e.selector,n[k]=e[k],n}}))(e),e})({prefix:"leva",theme:eQ(),utils:eg(eg({},e0),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":e0.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":e0.$focusStyle()(t)}),$hover:t=>({"&:hover":e0.$hoverStyle()(t)}),$active:t=>({"&:active":e0.$activeStyle()(t)})})}),e6=e5({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function e8(t,e){let{theme:r}=(0,a.useContext)(eX);if(!(t in r)||!(e in r[t]))return ei(i.THEME_ERROR,t,e),"";let n=e;for(;;){let e=r[t][n];if("string"!=typeof e||"$"!==e.charAt(0))return e;n=e.substr(1)}}let e9=e1("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),e7=e1("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${e9}`]:{paddingLeft:0}}),rt=e1(e7,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),re=e1("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),rr=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],ri=["onUpdate"];function rn(t){let{innerLabel:e,value:r,onUpdate:i,onChange:n,onKeyDown:s,type:o,id:l,inputType:u="text",rows:c=0}=t,h=et(t,rr),{id:d,emitOnEditStart:f,emitOnEditEnd:p,disabled:g}=eY(),m=(0,a.useRef)(null),v=c>0,b=(0,a.useCallback)(t=>e=>{t(e.currentTarget.value)},[]);a.useEffect(()=>{let t=m.current,e=b(t=>{i(t),p()});return null==t||t.addEventListener("blur",e),()=>null==t?void 0:t.removeEventListener("blur",e)},[b,i,p]);let y=(0,a.useCallback)(t=>{"Enter"===t.key&&b(i)(t)},[b,i]),x=Object.assign({as:v?"textarea":"input"},v?{rows:c}:{},h);return a.createElement(re,{textArea:v},e&&"string"==typeof e?a.createElement(e7,null,e):e,a.createElement(e9,eH({levaType:o,ref:m,id:l||d,type:u,autoComplete:"off",spellCheck:"false",value:r,onChange:b(n),onFocus:()=>f(),onKeyPress:y,onKeyDown:s,disabled:g},x)))}function rs(t){let{onUpdate:e}=t,r=et(t,ri),i=(0,a.useCallback)(t=>e(ev(t)),[e]),n=(0,a.useCallback)(t=>{let r="ArrowUp"===t.key?1:"ArrowDown"===t.key?-1:0;if(r){t.preventDefault();let i=t.altKey?.1:t.shiftKey?10:1;e(t=>parseFloat(t)+r*i)}},[e]);return a.createElement(rn,eH({},r,{onUpdate:i,onKeyDown:n,type:"number"}))}let ro=e1("div",{}),ra=e1("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),rl=e1("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${ra}::after`]:{opacity:.6},[`${ro}:hover > & + ${ra}::after`]:{opacity:.6},[`${ro}:hover > & > svg`]:{opacity:1}}),ru=e1("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${ro}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),rc=e1("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${ru} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),rh=e1(rc,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),rd=e1("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),rf=e1("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),rp=e1("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),rg=e1("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${rp}`]:{pointerEvents:"auto"}}}}}),rm=e1("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),rv=e1("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),rb=e1(t7.Eh,{fill:"$toolTipBackground"});function ry({children:t}){let{className:e}=(0,a.useContext)(eX);return a.createElement(l.f,{className:e},t)}let rx=["align"];function rw(){let{id:t,disable:e,disabled:r}=eY();return a.createElement(a.Fragment,null,a.createElement(rf,{id:t+"__disable",type:"checkbox",checked:!r,onChange:()=>e(!r)}),a.createElement("label",{htmlFor:t+"__disable"}))}function rE(t){let{id:e,optional:r,hint:i}=eY(),n=t.htmlFor||(e?{htmlFor:e}:null),s=i||"string"!=typeof t.children?null:{title:t.children};return a.createElement(a.Fragment,null,r&&a.createElement(rw,null),void 0!==i?a.createElement(t7.fC,null,a.createElement(t7.xz,{asChild:!0},a.createElement(rp,eH({},n,t))),a.createElement(t7.VY,{side:"top",sideOffset:2},a.createElement(rv,null,i,a.createElement(rb,null)))):a.createElement(rp,eH({},n,s,t)))}function r_(t){let{align:e}=t,r=et(t,rx),{value:n,label:s,key:o,disabled:l}=eY(),{hideCopyButton:u}=(0,a.useContext)(eK),c=!u&&void 0!==o,[h,d]=(0,a.useState)(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[o]:null!=n?n:""})),d(!0)}catch(t){ei(i.CLIPBOARD_ERROR,{[o]:n})}};return a.createElement(rd,{align:e,onPointerLeave:()=>d(!1)},a.createElement(rE,r),c&&!l&&a.createElement("div",{title:`Click to copy ${"string"==typeof s?s:o} value`},h?a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},a.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),a.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):a.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},a.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),a.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}let rA=["toggled"],rS=e1("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function rM(t){let{toggled:e}=t,r=et(t,rA);return a.createElement(rS,eH({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},r),a.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}let rT=["input"];function rR(t){let{input:e}=t,r=et(t,rT);return e?a.createElement(rh,r):a.createElement(rc,r)}function rO({value:t,type:e,settings:r,setValue:i}){let[n,s]=(0,a.useState)(ef(e,t,r)),o=(0,a.useRef)(t),l=(0,a.useRef)(r);l.current=r;let u=(0,a.useCallback)(t=>s(ef(e,t,l.current)),[e]),h=(0,a.useCallback)(t=>{try{i(t)}catch(r){let{type:t,previousValue:e}=r;if("LEVA_ERROR"!==t)throw r;u(e)}},[u,i]);return(0,a.useEffect)(()=>{c(t,o.current)||u(t),o.current=t},[t,u]),{displayValue:n,onChange:s,onUpdate:h}}function rP(t,e){var r;let{emitOnEditStart:i,emitOnEditEnd:n}=eY();return r=e=>{e.first&&(document.body.classList.add("leva__panel__dragged"),null==i||i());let r=t(e);return e.last&&(document.body.classList.remove("leva__panel__dragged"),null==n||n()),r},tQ.set(t0.key,t0.engine),tJ.set(t0.key,t0.resolver),function(t,e={},r,i){let n=a.useMemo(()=>new t6(t),[]);if(n.applyHandlers(t,void 0),n.applyConfig(e,r),a.useEffect(n.effect.bind(n)),a.useEffect(()=>n.clean.bind(n),[]),void 0===e.target)return n.bind.bind(n)}({drag:r},e||{},"drag")}function rC(){let t=(0,a.useRef)(null),e=(0,a.useRef)({x:0,y:0}),r=(0,a.useCallback)(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,r]}let rk=["__refCount"],rI=(t,e)=>t[e]?et(t[e],rk):null,rF=e1("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),rN=e1("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),rj=e1("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),rL=e1("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),r$=e1("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function rD({value:t,min:e,max:r,onDrag:i,step:n,initialValue:s}){let o=(0,a.useRef)(null),l=(0,a.useRef)(null),u=(0,a.useRef)(0),c=e8("sizes","scrubberWidth"),h=rP(({event:a,first:h,xy:[d],movement:[f],memo:p})=>{if(h){let{width:i,left:n}=o.current.getBoundingClientRect();u.current=i-parseFloat(c),p=(null==a?void 0:a.target)===l.current?t:ew((d-n)/i,e,r)}return i(eW(p+ew(f/u.current,0,r-e),{step:n,initialValue:s})),p}),d=ex(t,e,r);return a.createElement(rL,eH({ref:o},h()),a.createElement(rN,null,a.createElement(r$,{style:{left:0,right:`${(1-d)*100}%`}})),a.createElement(rj,{ref:l,style:{left:`calc(${d} * (100% - ${c}))`}}))}let rz=a.memo(({label:t,onUpdate:e,step:r,innerLabelTrim:i})=>{let[n,s]=(0,a.useState)(!1),o=rP(({active:t,delta:[i],event:n,memo:o=0})=>(s(t),Math.abs(o+=i/2)>=1&&(e(t=>parseFloat(t)+Math.floor(o)*r*e$(n)),o=0),o));return a.createElement(rt,eH({dragging:n,title:t.length>1?t:""},o()),t.slice(0,i))});function rB({label:t,id:e,displayValue:r,onUpdate:i,onChange:n,settings:s,innerLabelTrim:o=1}){let l=o>0&&a.createElement(rz,{label:t,step:s.step,onUpdate:i,innerLabelTrim:o});return a.createElement(rs,{id:e,value:String(r),onUpdate:i,onChange:n,innerLabel:l})}let{sanitizeStep:rU}=eV;var rW=eg({component:function(){let t=eY(),{label:e,value:r,onUpdate:i,settings:n,id:s}=t,{min:o,max:l}=n,u=l!==1/0&&o!==-1/0;return a.createElement(rR,{input:!0},a.createElement(r_,null,e),a.createElement(rF,{hasRange:u},u&&a.createElement(rD,eH({value:parseFloat(r),onDrag:i},n)),a.createElement(rB,eH({},t,{id:s,label:"value",innerLabelTrim:u?0:1}))))}},et(eV,["sanitizeStep"])),rV=Object.freeze({__proto__:null,schema:(t,e)=>y().schema({options:y().passesAnyOf(y().object(),y().array())}).test(e),sanitize:(t,{values:e})=>{if(0>e.indexOf(t))throw Error("Selected value doesn't match Select options");return t},format:(t,{values:e})=>e.indexOf(t),normalize:t=>{let e,r,{value:i,options:n}=t;return Array.isArray(n)?(r=n,e=n.map(t=>String(t))):(r=Object.values(n),e=Object.keys(n)),"value"in t?r.includes(i)||(e.unshift(String(i)),r.unshift(i)):i=r[0],Object.values(n).includes(i)||(n[String(i)]=i),{value:i,settings:{keys:e,values:r}}}});let rH=e1("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),rG=e1("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),rY=e1("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${rG}:focus + &`]:{$focusStyle:""},[`${rG}:hover + &`]:{$hoverStyle:""}});function rX({displayValue:t,value:e,onUpdate:r,id:i,settings:n,disabled:s}){let{keys:o,values:l}=n,u=(0,a.useRef)();return e===l[t]&&(u.current=o[t]),a.createElement(rH,null,a.createElement(rG,{id:i,value:t,onChange:t=>r(l[Number(t.currentTarget.value)]),disabled:s},o.map((t,e)=>a.createElement("option",{key:t,value:e},t))),a.createElement(rY,null,u.current),a.createElement(rM,{toggled:!0}))}var rq=eg({component:function(){let{label:t,value:e,displayValue:r,onUpdate:i,id:n,disabled:s,settings:o}=eY();return a.createElement(rR,{input:!0},a.createElement(r_,null,t),a.createElement(rX,{id:n,value:e,displayValue:r,onUpdate:i,settings:o,disabled:s}))}},rV),rK=Object.freeze({__proto__:null,schema:t=>y().string().test(t),sanitize:t=>{if("string"!=typeof t)throw Error("Invalid string");return t},normalize:({value:t,editable:e=!0,rows:r=!1})=>({value:t,settings:{editable:e,rows:"number"==typeof r?r:r?5:0}})});let rZ=["displayValue","onUpdate","onChange","editable"],rQ=e1("div",{whiteSpace:"pre-wrap"});function rJ(t){let{displayValue:e,onUpdate:r,onChange:i,editable:n=!0}=t,s=et(t,rZ);return n?a.createElement(rn,eH({value:e,onUpdate:r,onChange:i},s)):a.createElement(rQ,null,e)}var r0=eg({component:function(){let{label:t,settings:e,displayValue:r,onUpdate:i,onChange:n}=eY();return a.createElement(rR,{input:!0},a.createElement(r_,null,t),a.createElement(rJ,eH({displayValue:r,onUpdate:i,onChange:n},e)))}},rK),r1=Object.freeze({__proto__:null,schema:t=>y().boolean().test(t),sanitize:t=>{if("boolean"!=typeof t)throw Error("Invalid boolean");return t}});let r2=e1("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function r3({value:t,onUpdate:e,id:r,disabled:i}){return a.createElement(r2,null,a.createElement("input",{id:r,type:"checkbox",checked:t,onChange:t=>e(t.currentTarget.checked),disabled:i}),a.createElement("label",{htmlFor:r},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var r5=eg({component:function(){let{label:t,value:e,onUpdate:r,disabled:i,id:n}=eY();return a.createElement(rR,{input:!0},a.createElement(r_,null,t),a.createElement(r3,{value:e,onUpdate:r,id:n,disabled:i}))}},r1);let r4=["locked"];function r6({value:t,id:e,valueKey:r,settings:i,onUpdate:n,innerLabelTrim:s}){let o=(0,a.useRef)(t[r]);o.current=t[r];let l=(0,a.useCallback)(t=>n({[r]:ej({type:"NUMBER",value:o.current,settings:i},t)}),[n,i,r]),u=rO({type:"NUMBER",value:t[r],settings:i,setValue:l});return a.createElement(rB,{id:e,label:r,value:t[r],displayValue:u.displayValue,onUpdate:u.onUpdate,onChange:u.onChange,settings:i,innerLabelTrim:s})}let r8=e1("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function r9(t){let{locked:e}=t,r=et(t,r4);return a.createElement("svg",eH({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),e?a.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):a.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function r7({value:t,onUpdate:e,settings:r,innerLabelTrim:i}){let{id:n,setSettings:s}=eY(),{lock:o,locked:l}=r;return a.createElement(r8,{withLock:o},o&&a.createElement(r9,{locked:l,onClick:()=>s({locked:!l})}),Object.keys(t).map((s,o)=>a.createElement(r6,{id:0===o?n:`${n}.${s}`,key:s,valueKey:s,value:t,settings:r[s],onUpdate:e,innerLabelTrim:i})))}let it=(t,e)=>{let r={},i=0,n=1/0;for(let s in Object.entries(t).forEach(([t,s])=>{r[t]=eU(eg({value:s},e[t])).settings,i=Math.max(i,r[t].step),n=Math.min(n,r[t].pad)}),r){let{step:t,min:o,max:a}=e[s]||{};isFinite(t)||isFinite(o)&&isFinite(a)||(r[s].step=i,r[s].pad=n)}return r},ie=["lock"],ir=["value"];function ii(t,e,r){return(Array.isArray(t)?"array":"object")===e?t:"array"===e?Object.values(t):t.reduce((t,e,i)=>Object.assign(t,{[r[i]]:e}),{})}let is=(t,e,r)=>{let i=ii(t,"object",e.keys);for(let t in i)i[t]=eB(i[t],e[t]);let n=Object.keys(i),s={};if(n.length===e.keys.length)s=i;else{let t=ii(r,"object",e.keys);if(1===n.length&&e.locked){let e=n[0],r=i[e],o=t[e],a=0!==o?r/o:1;for(let i in t)i===e?s[e]=r:s[i]=t[i]*a}else s=eg(eg({},t),i)}return ii(s,e.format,e.keys)},io=(t,e)=>ii(t,"object",e.keys),ia=t=>!!t&&("step"in t||"min"in t||"max"in t);function il(t){return{schema:function(t){let e=y().array().length(t).every.number(),r=e=>{if(!e||"object"!=typeof e)return!1;let r=Object.values(e);return r.length===t&&r.every(t=>isFinite(t))};return t=>e.test(t)||r(t)}(t.length),normalize:e=>{let{value:r}=e;return function(t,e,r=[]){let{lock:i=!1}=e,n=et(e,ie),s=Array.isArray(t)?"array":"object",o="object"===s?Object.keys(t):r,a=ii(t,"object",o),l=it(a,ia(n)?o.reduce((t,e)=>Object.assign(t,{[e]:n}),{}):n);return{value:"array"===s?t:a,settings:eg(eg({},l),{},{format:s,keys:o,lock:i,locked:!1})}}(r,et(e,ir),t)},format:(t,e)=>io(t,e),sanitize:(t,e,r)=>is(t,e,r)}}var iu={grad:.9,turn:360,rad:360/(2*Math.PI)},ic=function(t){return"string"==typeof t?t.length>0:"number"==typeof t},ih=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},id=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),t>r?r:t>e?t:e},ip=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ig=function(t){return{r:id(t.r,0,255),g:id(t.g,0,255),b:id(t.b,0,255),a:id(t.a)}},im=function(t){return{r:ih(t.r),g:ih(t.g),b:ih(t.b),a:ih(t.a,3)}},iv=/^#([0-9a-f]{3,8})$/i,ib=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},iy=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=Math.max(e,r,i),o=s-Math.min(e,r,i),a=o?s===e?(r-i)/o:s===r?2+(i-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:n}},ix=function(t){var e=t.h,r=t.s,i=t.v,n=t.a;e=e/360*6,r/=100,i/=100;var s=Math.floor(e),o=i*(1-r),a=i*(1-(e-s)*r),l=i*(1-(1-e+s)*r),u=s%6;return{r:255*[i,a,o,o,l,i][u],g:255*[l,i,i,a,o,o][u],b:255*[o,o,l,i,i,a][u],a:n}},iw=function(t){return{h:ip(t.h),s:id(t.s,0,100),l:id(t.l,0,100),a:id(t.a)}},iE=function(t){return{h:ih(t.h),s:ih(t.s),l:ih(t.l),a:ih(t.a,3)}},i_=function(t){var e,r;return ix((e=t.s,{h:t.h,s:(e*=((r=t.l)<50?r:100-r)/100)>0?2*e/(r+e)*100:0,v:r+e,a:t.a}))},iA=function(t){var e,r,i,n;return{h:(e=iy(t)).h,s:(n=(200-(r=e.s))*(i=e.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a}},iS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iT=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iO={string:[[function(t){var e=iv.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?ih(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?ih(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=iT.exec(t)||iR.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ig({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e,r,i=iS.exec(t)||iM.exec(t);return i?i_(iw({h:(e=i[1],void 0===(r=i[2])&&(r="deg"),Number(e)*(iu[r]||1)),s:Number(i[3]),l:Number(i[4]),a:void 0===i[5]?1:Number(i[5])/(i[6]?100:1)})):null},"hsl"]],object:[[function(t){var e=t.r,r=t.g,i=t.b,n=t.a;return ic(e)&&ic(r)&&ic(i)?ig({r:Number(e),g:Number(r),b:Number(i),a:Number(void 0===n?1:n)}):null},"rgb"],[function(t){var e=t.h,r=t.s,i=t.l,n=t.a;return ic(e)&&ic(r)&&ic(i)?i_(iw({h:Number(e),s:Number(r),l:Number(i),a:Number(void 0===n?1:n)})):null},"hsl"],[function(t){var e,r=t.h,i=t.s,n=t.v,s=t.a;return ic(r)&&ic(i)&&ic(n)?ix({h:ip((e={h:Number(r),s:Number(i),v:Number(n),a:Number(void 0===s?1:s)}).h),s:id(e.s,0,100),v:id(e.v,0,100),a:id(e.a)}):null},"hsv"]]},iP=function(t,e){for(var r=0;r<e.length;r++){var i=e[r][0](t);if(i)return[i,e[r][1]]}return[null,void 0]},iC=function(t){return"string"==typeof t?iP(t.trim(),iO.string):"object"==typeof t&&null!==t?iP(t,iO.object):[null,void 0]},ik=function(t,e){var r=iA(t);return{h:r.h,s:id(r.s+100*e,0,100),l:r.l,a:r.a}},iI=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},iF=function(t,e){var r=iA(t);return{h:r.h,s:r.s,l:id(r.l+100*e,0,100),a:r.a}},iN=function(){function t(t){this.parsed=iC(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return null!==this.parsed},t.prototype.brightness=function(){return ih(iI(this.rgba),2)},t.prototype.isDark=function(){return .5>iI(this.rgba)},t.prototype.isLight=function(){return iI(this.rgba)>=.5},t.prototype.toHex=function(){var t,e,r,i,n,s;return e=(t=im(this.rgba)).r,r=t.g,i=t.b,s=(n=t.a)<1?ib(ih(255*n)):"","#"+ib(e)+ib(r)+ib(i)+s},t.prototype.toRgb=function(){return im(this.rgba)},t.prototype.toRgbString=function(){var t,e,r,i,n;return e=(t=im(this.rgba)).r,r=t.g,i=t.b,(n=t.a)<1?"rgba("+e+", "+r+", "+i+", "+n+")":"rgb("+e+", "+r+", "+i+")"},t.prototype.toHsl=function(){return iE(iA(this.rgba))},t.prototype.toHslString=function(){var t,e,r,i,n;return e=(t=iE(iA(this.rgba))).h,r=t.s,i=t.l,(n=t.a)<1?"hsla("+e+", "+r+"%, "+i+"%, "+n+")":"hsl("+e+", "+r+"%, "+i+"%)"},t.prototype.toHsv=function(){var t;return{h:ih((t=iy(this.rgba)).h),s:ih(t.s),v:ih(t.v),a:ih(t.a,3)}},t.prototype.invert=function(){var t;return ij({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a})},t.prototype.saturate=function(t){return void 0===t&&(t=.1),ij(ik(this.rgba,t))},t.prototype.desaturate=function(t){return void 0===t&&(t=.1),ij(ik(this.rgba,-t))},t.prototype.grayscale=function(){return ij(ik(this.rgba,-1))},t.prototype.lighten=function(t){return void 0===t&&(t=.1),ij(iF(this.rgba,t))},t.prototype.darken=function(t){return void 0===t&&(t=.1),ij(iF(this.rgba,-t))},t.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},t.prototype.alpha=function(t){var e;return"number"==typeof t?ij({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):ih(this.rgba.a,3)},t.prototype.hue=function(t){var e=iA(this.rgba);return"number"==typeof t?ij({h:t,s:e.s,l:e.l,a:e.a}):ih(e.h)},t.prototype.isEqual=function(t){return this.toHex()===ij(t).toHex()},t}(),ij=function(t){return t instanceof iN?t:new iN(t)},iL=[];function i$(){return(i$=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function iD(t,e){if(null==t)return{};var r,i,n={},s=Object.keys(t);for(i=0;i<s.length;i++)e.indexOf(r=s[i])>=0||(n[r]=t[r]);return n}function iz(t){var e=(0,a.useRef)(t),r=(0,a.useRef)(function(t){e.current&&e.current(t)});return e.current=t,r.current}var iB=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),t>r?r:t<e?e:t},iU=function(t){return"touches"in t},iW=function(t){return t&&t.ownerDocument.defaultView||self},iV=function(t,e,r){var i=t.getBoundingClientRect(),n=iU(e)?function(t,e){for(var r=0;r<t.length;r++)if(t[r].identifier===e)return t[r];return t[0]}(e.touches,r):e;return{left:iB((n.pageX-(i.left+iW(t).pageXOffset))/i.width),top:iB((n.pageY-(i.top+iW(t).pageYOffset))/i.height)}},iH=function(t){iU(t)||t.preventDefault()},iG=a.memo(function(t){var e=t.onMove,r=t.onKey,i=iD(t,["onMove","onKey"]),n=(0,a.useRef)(null),s=iz(e),o=iz(r),l=(0,a.useRef)(null),u=(0,a.useRef)(!1),c=(0,a.useMemo)(function(){var t=function(t){iH(t),(iU(t)?t.touches.length>0:t.buttons>0)&&n.current?s(iV(n.current,t,l.current)):r(!1)},e=function(){return r(!1)};function r(r){var i=u.current,s=iW(n.current),o=r?s.addEventListener:s.removeEventListener;o(i?"touchmove":"mousemove",t),o(i?"touchend":"mouseup",e)}return[function(t){var e=t.nativeEvent,i=n.current;if(i&&(iH(e),(!u.current||iU(e))&&i)){if(iU(e)){u.current=!0;var o=e.changedTouches||[];o.length&&(l.current=o[0].identifier)}i.focus(),s(iV(i,e,l.current)),r(!0)}},function(t){var e=t.which||t.keyCode;e<37||e>40||(t.preventDefault(),o({left:39===e?.05:37===e?-.05:0,top:40===e?.05:38===e?-.05:0}))},r]},[o,s]),h=c[0],d=c[1],f=c[2];return(0,a.useEffect)(function(){return f},[f]),a.createElement("div",i$({},i,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:n,onKeyDown:d,tabIndex:0,role:"slider"}))}),iY=function(t){return t.filter(Boolean).join(" ")},iX=function(t){var e=t.color,r=t.left,i=t.top,n=iY(["react-colorful__pointer",t.className]);return a.createElement("div",{className:n,style:{top:100*(void 0===i?.5:i)+"%",left:100*r+"%"}},a.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},iq=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=Math.pow(10,e)),Math.round(r*t)/r},iK={grad:.9,turn:360,rad:360/(2*Math.PI)},iZ=function(t){return"#"===t[0]&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?iq(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:8===t.length?iq(parseInt(t.substring(6,8),16)/255,2):1}},iQ=function(t,e){return void 0===e&&(e="deg"),Number(t)*(iK[e]||1)},iJ=function(t){var e=t.s,r=t.l;return{h:t.h,s:(e*=(r<50?r:100-r)/100)>0?2*e/(r+e)*100:0,v:r+e,a:t.a}},i0=function(t){var e=t.s,r=t.v,i=t.a,n=(200-e)*r/100;return{h:iq(t.h),s:iq(n>0&&n<200?e*r/100/(n<=100?n:200-n)*100:0),l:iq(n/2),a:iq(i,2)}},i1=function(t){var e=i0(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},i2=function(t){var e=i0(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},i3=function(t){var e=t.h,r=t.s,i=t.v,n=t.a;e=e/360*6,r/=100,i/=100;var s=Math.floor(e),o=i*(1-r),a=i*(1-(e-s)*r),l=i*(1-(1-e+s)*r),u=s%6;return{r:iq(255*[i,a,o,o,l,i][u]),g:iq(255*[l,i,i,a,o,o][u]),b:iq(255*[o,o,l,i,i,a][u]),a:iq(n,2)}},i5=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},i4=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=n<1?i5(iq(255*n)):"";return"#"+i5(e)+i5(r)+i5(i)+s},i6=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=Math.max(e,r,i),o=s-Math.min(e,r,i),a=o?s===e?(r-i)/o:s===r?2+(i-e)/o:4+(e-r)/o:0;return{h:iq(60*(a<0?a+6:a)),s:iq(s?o/s*100:0),v:iq(s/255*100),a:n}},i8=function(t){return{h:iq(t.h),s:iq(t.s),v:iq(t.v),a:iq(t.a,2)}},i9=a.memo(function(t){var e=t.hue,r=t.onChange,i=iY(["react-colorful__hue",t.className]);return a.createElement("div",{className:i},a.createElement(iG,{onMove:function(t){r({h:360*t.left})},onKey:function(t){r({h:iB(e+360*t.left,0,360)})},"aria-label":"Hue","aria-valuenow":iq(e),"aria-valuemax":"360","aria-valuemin":"0"},a.createElement(iX,{className:"react-colorful__hue-pointer",left:e/360,color:i1({h:e,s:100,v:100,a:1})})))}),i7=a.memo(function(t){var e=t.hsva,r=t.onChange,i={backgroundColor:i1({h:e.h,s:100,v:100,a:1})};return a.createElement("div",{className:"react-colorful__saturation",style:i},a.createElement(iG,{onMove:function(t){r({s:100*t.left,v:100-100*t.top})},onKey:function(t){r({s:iB(e.s+100*t.left,0,100),v:iB(e.v-100*t.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+iq(e.s)+"%, Brightness "+iq(e.v)+"%"},a.createElement(iX,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:i1(e)})))}),nt=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0};function ne(t,e,r){var i=iz(r),n=(0,a.useState)(function(){return t.toHsva(e)}),s=n[0],o=n[1],l=(0,a.useRef)({color:e,hsva:s});return(0,a.useEffect)(function(){if(!t.equal(e,l.current.color)){var r=t.toHsva(e);l.current={hsva:r,color:e},o(r)}},[e,t]),(0,a.useEffect)(function(){var e;nt(s,l.current.hsva)||t.equal(e=t.fromHsva(s),l.current.color)||(l.current={hsva:s,color:e},i(e))},[s,t,i]),[s,(0,a.useCallback)(function(t){o(function(e){return Object.assign({},e,t)})},[])]}var nr,ni="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,nn=new Map,ns=function(t){ni(function(){var e=t.current?t.current.ownerDocument:document;if(void 0!==e&&!nn.has(e)){var i=e.createElement("style");i.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',nn.set(e,i);var n=nr||r.nc;n&&i.setAttribute("nonce",n),e.head.appendChild(i)}},[])},no=function(t){var e=t.className,r=t.colorModel,i=t.color,n=void 0===i?r.defaultColor:i,s=t.onChange,o=iD(t,["className","colorModel","color","onChange"]),l=(0,a.useRef)(null);ns(l);var u=ne(r,n,s),c=u[0],h=u[1],d=iY(["react-colorful",e]);return a.createElement("div",i$({},o,{ref:l,className:d}),a.createElement(i7,{hsva:c,onChange:h}),a.createElement(i9,{hue:c.h,onChange:h,className:"react-colorful__last-control"}))},na=function(t){var e=t.className,r=t.hsva,i=t.onChange,n={backgroundImage:"linear-gradient(90deg, "+i2(Object.assign({},r,{a:0}))+", "+i2(Object.assign({},r,{a:1}))+")"},s=iY(["react-colorful__alpha",e]),o=iq(100*r.a);return a.createElement("div",{className:s},a.createElement("div",{className:"react-colorful__alpha-gradient",style:n}),a.createElement(iG,{onMove:function(t){i({a:t.left})},onKey:function(t){i({a:iB(r.a+t.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},a.createElement(iX,{className:"react-colorful__alpha-pointer",left:r.a,color:i2(r)})))},nl=function(t){var e=t.className,r=t.colorModel,i=t.color,n=void 0===i?r.defaultColor:i,s=t.onChange,o=iD(t,["className","colorModel","color","onChange"]),l=(0,a.useRef)(null);ns(l);var u=ne(r,n,s),c=u[0],h=u[1],d=iY(["react-colorful",e]);return a.createElement("div",i$({},o,{ref:l,className:d}),a.createElement(i7,{hsva:c,onChange:h}),a.createElement(i9,{hue:c.h,onChange:h}),a.createElement(na,{hsva:c,onChange:h,className:"react-colorful__last-control"}))},nu={defaultColor:{r:0,g:0,b:0,a:1},toHsva:i6,fromHsva:i3,equal:nt},nc=function(t){return a.createElement(nl,i$({},t,{colorModel:nu}))},nh={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return i6({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){var e;return{r:(e=i3(t)).r,g:e.g,b:e.b}},equal:nt},nd=function(t){return a.createElement(no,i$({},t,{colorModel:nh}))},nf=r(53398),np=r.n(nf);function ng(t,e,r,i){return new(r||(r=Promise))(function(n,s){function o(t){try{l(i.next(t))}catch(t){s(t)}}function a(t){try{l(i.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?n(t.value):((e=t.value)instanceof r?e:new r(function(t){t(e)})).then(o,a)}l((i=i.apply(t,e||[])).next())})}function nm(t,e){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,i&&(n=2&a[0]?i.return:a[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,a[1])).done)return n;switch(i=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){o.label=a[1];break}if(6===a[0]&&o.label<n[1]){o.label=n[1],n=a;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(a);break}n[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var nv=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function nb(t,e){var r=function(t){var e=t.name;if(e&&-1!==e.lastIndexOf(".")&&!t.type){var r=e.split(".").pop().toLowerCase(),i=nv.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}(t);if("string"!=typeof r.path){var i=t.webkitRelativePath;Object.defineProperty(r,"path",{value:"string"==typeof e?e:"string"==typeof i&&i.length>0?i:t.name,writable:!1,configurable:!1,enumerable:!0})}return r}var ny=[".DS_Store","Thumbs.db"];function nx(t){return"object"==typeof t&&null!==t}function nw(t){return t.filter(function(t){return -1===ny.indexOf(t.name)})}function nE(t){if(null===t)return[];for(var e=[],r=0;r<t.length;r++){var i=t[r];e.push(i)}return e}function n_(t){if("function"!=typeof t.webkitGetAsEntry)return nA(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?nM(e):nA(t)}function nA(t){var e=t.getAsFile();return e?Promise.resolve(nb(e)):Promise.reject(t+" is not a File")}function nS(t){return ng(this,void 0,void 0,function(){return nm(this,function(e){return[2,t.isDirectory?nM(t):function(t){return ng(this,void 0,void 0,function(){return nm(this,function(e){return[2,new Promise(function(e,r){t.file(function(r){e(nb(r,t.fullPath))},function(t){r(t)})})]})})}(t)]})})}function nM(t){var e=t.createReader();return new Promise(function(t,r){var i=[];!function n(){var s=this;e.readEntries(function(e){return ng(s,void 0,void 0,function(){var s;return nm(this,function(o){switch(o.label){case 0:if(e.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return t(o.sent()),[3,4];case 3:return r(o.sent()),[3,4];case 4:return[3,6];case 5:s=Promise.all(e.map(nS)),i.push(s),n(),o.label=6;case 6:return[2]}})})},function(t){r(t)})}()})}var nT=r(63642);function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function nO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(e){nP(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function nP(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r,i,n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(s.push(r.value),!e||s.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return nk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nk(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}var nI=function(t){var e=Array.isArray(t=Array.isArray(t)&&1===t.length?t[0]:t)?"one of ".concat(t.join(", ")):t;return{code:"file-invalid-type",message:"File type must be ".concat(e)}},nF=function(t){return{code:"file-too-large",message:"File is larger than ".concat(t," ").concat(1===t?"byte":"bytes")}},nN=function(t){return{code:"file-too-small",message:"File is smaller than ".concat(t," ").concat(1===t?"byte":"bytes")}},nj={code:"too-many-files",message:"Too many files"};function nL(t,e){var r="application/x-moz-file"===t.type||(0,nT.Z)(t,e);return[r,r?null:nI(e)]}function n$(t,e,r){if(nD(t.size)){if(nD(e)&&nD(r)){if(t.size>r)return[!1,nF(r)];if(t.size<e)return[!1,nN(e)]}else if(nD(e)&&t.size<e)return[!1,nN(e)];else if(nD(r)&&t.size>r)return[!1,nF(r)]}return[!0,null]}function nD(t){return null!=t}function nz(t){return"function"==typeof t.isPropagationStopped?t.isPropagationStopped():void 0!==t.cancelBubble&&t.cancelBubble}function nB(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(t){return"Files"===t||"application/x-moz-file"===t}):!!t.target&&!!t.target.files}function nU(t){t.preventDefault()}function nW(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return e.some(function(e){return!nz(t)&&e&&e.apply(void 0,[t].concat(i)),nz(t)})}}var nV=["children"],nH=["open"],nG=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],nY=["refKey","onChange","onClick"];function nX(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r,i,n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(s.push(r.value),!e||s.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(t,e)||nq(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nq(t,e){if(t){if("string"==typeof t)return nK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nK(t,e)}}function nK(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function nZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function nQ(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nZ(Object(r),!0).forEach(function(e){nJ(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nZ(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function nJ(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n0(t,e){if(null==t)return{};var r,i,n=function(t,e){if(null==t)return{};var r,i,n={},s=Object.keys(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var n1=(0,a.forwardRef)(function(t,e){var r=t.children,i=n5(n0(t,nV)),n=i.open,s=n0(i,nH);return(0,a.useImperativeHandle)(e,function(){return{open:n}},[n]),a.createElement(a.Fragment,null,r(nQ(nQ({},s),{},{open:n})))});n1.displayName="Dropzone";var n2={disabled:!1,getFilesFromEvent:function(t){return ng(this,void 0,void 0,function(){return nm(this,function(e){return nx(t)&&nx(t.dataTransfer)?[2,function(t,e){return ng(this,void 0,void 0,function(){var r;return nm(this,function(i){switch(i.label){case 0:if(null===t)return[2,[]];if(!t.items)return[3,2];if(r=nE(t.items).filter(function(t){return"file"===t.kind}),"drop"!==e)return[2,r];return[4,Promise.all(r.map(n_))];case 1:return[2,nw(function t(e){return e.reduce(function(e,r){return function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}(arguments[e]));return t}(e,Array.isArray(r)?t(r):[r])},[])}(i.sent()))];case 2:return[2,nw(nE(t.files).map(function(t){return nb(t)}))]}})})}(t.dataTransfer,t.type)]:nx(t)&&nx(t.target)?[2,nE(t.target.files).map(function(t){return nb(t)})]:Array.isArray(t)&&t.every(function(t){return"getFile"in t&&"function"==typeof t.getFile})?[2,function(t){return ng(this,void 0,void 0,function(){return nm(this,function(e){switch(e.label){case 0:return[4,Promise.all(t.map(function(t){return t.getFile()}))];case 1:return[2,e.sent().map(function(t){return nb(t)})]}})})}(t)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};n1.defaultProps=n2,n1.propTypes={children:np().func,accept:np().oneOfType([np().string,np().arrayOf(np().string)]),multiple:np().bool,preventDropOnDocument:np().bool,noClick:np().bool,noKeyboard:np().bool,noDrag:np().bool,noDragEventsBubbling:np().bool,minSize:np().number,maxSize:np().number,maxFiles:np().number,disabled:np().bool,getFilesFromEvent:np().func,onFileDialogCancel:np().func,onFileDialogOpen:np().func,useFsAccessApi:np().bool,onDragEnter:np().func,onDragLeave:np().func,onDragOver:np().func,onDrop:np().func,onDropAccepted:np().func,onDropRejected:np().func,validator:np().func};var n3={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function n5(){var t,e,r,i,n,s,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=nQ(nQ({},n2),l),c=u.accept,h=u.disabled,d=u.getFilesFromEvent,f=u.maxSize,p=u.minSize,g=u.multiple,m=u.maxFiles,v=u.onDragEnter,b=u.onDragLeave,y=u.onDragOver,x=u.onDrop,w=u.onDropAccepted,E=u.onDropRejected,_=u.onFileDialogCancel,A=u.onFileDialogOpen,S=u.useFsAccessApi,M=u.preventDropOnDocument,T=u.noClick,R=u.noKeyboard,O=u.noDrag,P=u.noDragEventsBubbling,C=u.validator,k=(0,a.useMemo)(function(){return"function"==typeof A?A:n6},[A]),I=(0,a.useMemo)(function(){return"function"==typeof _?_:n6},[_]),F=(0,a.useRef)(null),N=(0,a.useRef)(null),j=nX((0,a.useReducer)(n4,n3),2),L=j[0],$=j[1],D=L.isFocused,z=L.isFileDialogActive,B=L.draggedFiles,U=(0,a.useRef)("undefined"!=typeof window&&window.isSecureContext&&S&&"showOpenFilePicker"in window),W=function(){!U.current&&z&&setTimeout(function(){N.current&&!N.current.files.length&&($({type:"closeDialog"}),I())},300)};(0,a.useEffect)(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[N,z,I,U]);var V=(0,a.useRef)([]),H=function(t){F.current&&F.current.contains(t.target)||(t.preventDefault(),V.current=[])};(0,a.useEffect)(function(){return M&&(document.addEventListener("dragover",nU,!1),document.addEventListener("drop",H,!1)),function(){M&&(document.removeEventListener("dragover",nU),document.removeEventListener("drop",H))}},[F,M]);var G=(0,a.useCallback)(function(t){var e;t.preventDefault(),t.persist(),ts(t),V.current=[].concat(function(t){if(Array.isArray(t))return nK(t)}(e=V.current)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||nq(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.target]),nB(t)&&Promise.resolve(d(t)).then(function(e){(!nz(t)||P)&&($({draggedFiles:e,isDragActive:!0,type:"setDraggedFiles"}),v&&v(t))})},[d,v,P]),Y=(0,a.useCallback)(function(t){t.preventDefault(),t.persist(),ts(t);var e=nB(t);if(e&&t.dataTransfer)try{t.dataTransfer.dropEffect="copy"}catch(t){}return e&&y&&y(t),!1},[y,P]),X=(0,a.useCallback)(function(t){t.preventDefault(),t.persist(),ts(t);var e=V.current.filter(function(t){return F.current&&F.current.contains(t)}),r=e.indexOf(t.target);-1!==r&&e.splice(r,1),V.current=e,!(e.length>0)&&($({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),nB(t)&&b&&b(t))},[F,b,P]),q=(0,a.useCallback)(function(t,e){var r=[],i=[];t.forEach(function(t){var e=nX(nL(t,c),2),n=e[0],s=e[1],o=nX(n$(t,p,f),2),a=o[0],l=o[1],u=C?C(t):null;if(n&&a&&!u)r.push(t);else{var h=[s,l];u&&(h=h.concat(u)),i.push({file:t,errors:h.filter(function(t){return t})})}}),(!g&&r.length>1||g&&m>=1&&r.length>m)&&(r.forEach(function(t){i.push({file:t,errors:[nj]})}),r.splice(0)),$({acceptedFiles:r,fileRejections:i,type:"setFiles"}),x&&x(r,i,e),i.length>0&&E&&E(i,e),r.length>0&&w&&w(r,e)},[$,g,c,p,f,m,x,w,E,C]),K=(0,a.useCallback)(function(t){t.preventDefault(),t.persist(),ts(t),V.current=[],nB(t)&&Promise.resolve(d(t)).then(function(e){(!nz(t)||P)&&q(e,t)}),$({type:"reset"})},[d,q,P]),Z=(0,a.useCallback)(function(){if(U.current){$({type:"openDialog"}),k();var t,e={multiple:g,types:[{description:"everything",accept:Array.isArray(t="string"==typeof(t=c)?t.split(","):t)?t.filter(function(t){return"audio/*"===t||"video/*"===t||"image/*"===t||"text/*"===t||/\w+\/[-+.\w]+/g.test(t)}).reduce(function(t,e){return nO(nO({},t),{},nP({},e,[]))},{}):{}}]};window.showOpenFilePicker(e).then(function(t){return d(t)}).then(function(t){q(t,null),$({type:"closeDialog"})}).catch(function(t){t instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(I(t),$({type:"closeDialog"})):t instanceof DOMException&&("SecurityError"===t.name||t.code===t.SECURITY_ERR)&&(U.current=!1,N.current&&(N.current.value=null,N.current.click()))});return}N.current&&($({type:"openDialog"}),k(),N.current.value=null,N.current.click())},[$,k,I,S,q,c,g]),Q=(0,a.useCallback)(function(t){F.current&&F.current.isEqualNode(t.target)&&(" "===t.key||"Enter"===t.key||32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),Z())},[F,Z]),J=(0,a.useCallback)(function(){$({type:"focus"})},[]),tt=(0,a.useCallback)(function(){$({type:"blur"})},[]),te=(0,a.useCallback)(function(){T||(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==t.indexOf("MSIE")||-1!==t.indexOf("Trident/")||-1!==t.indexOf("Edge/")}()?setTimeout(Z,0):Z())},[T,Z]),tr=function(t){return h?null:t},ti=function(t){return R?null:tr(t)},tn=function(t){return O?null:tr(t)},ts=function(t){P&&t.stopPropagation()},to=(0,a.useMemo)(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.refKey,r=t.role,i=t.onKeyDown,n=t.onFocus,s=t.onBlur,o=t.onClick,a=t.onDragEnter,l=t.onDragOver,u=t.onDragLeave,c=t.onDrop,d=n0(t,nG);return nQ(nQ(nJ({onKeyDown:ti(nW(i,Q)),onFocus:ti(nW(n,J)),onBlur:ti(nW(s,tt)),onClick:tr(nW(o,te)),onDragEnter:tn(nW(a,G)),onDragOver:tn(nW(l,Y)),onDragLeave:tn(nW(u,X)),onDrop:tn(nW(c,K)),role:"string"==typeof r&&""!==r?r:"button"},void 0===e?"ref":e,F),h||R?{}:{tabIndex:0}),d)}},[F,Q,J,tt,te,G,Y,X,K,R,O,h]),ta=(0,a.useCallback)(function(t){t.stopPropagation()},[]),tl=(0,a.useMemo)(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.refKey,r=t.onChange,i=t.onClick,n=n0(t,nY);return nQ(nQ({},nJ({accept:c,multiple:g,type:"file",style:{display:"none"},onChange:tr(nW(r,K)),onClick:tr(nW(i,ta)),tabIndex:-1},void 0===e?"ref":e,N)),n)}},[N,c,g,K,h]),tu=B.length,tc=tu>0&&(e=(t={files:B,accept:c,minSize:p,maxSize:f,multiple:g,maxFiles:m}).files,r=t.accept,i=t.minSize,n=t.maxSize,s=t.multiple,o=t.maxFiles,(!!s||!(e.length>1))&&(!s||!(o>=1)||!(e.length>o))&&e.every(function(t){var e=nC(nL(t,r),1)[0],s=nC(n$(t,i,n),1)[0];return e&&s}));return nQ(nQ({},L),{},{isDragAccept:tc,isDragReject:tu>0&&!tc,isFocused:D&&!h,getRootProps:to,getInputProps:tl,rootRef:F,inputRef:N,open:tr(Z)})}function n4(t,e){switch(e.type){case"focus":return nQ(nQ({},t),{},{isFocused:!0});case"blur":return nQ(nQ({},t),{},{isFocused:!1});case"openDialog":return nQ(nQ({},n3),{},{isFileDialogActive:!0});case"closeDialog":return nQ(nQ({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var r=e.isDragActive,i=e.draggedFiles;return nQ(nQ({},t),{},{draggedFiles:i,isDragActive:r});case"setFiles":return nQ(nQ({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return nQ({},n3);default:return t}}function n6(){}let n8="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?a.useEffect:a.useLayoutEffect;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let n9=t=>(e,r,i)=>{let n=i.subscribe;return i.subscribe=(t,e,r)=>{let s=t;if(e){let n=(null==r?void 0:r.equalityFn)||Object.is,o=t(i.getState());s=r=>{let i=t(r);if(!n(o,i)){let t=o;e(o=i,t)}},(null==r?void 0:r.fireImmediately)&&e(o,o)}return n(s)},t(e,r,i)};var n7=(Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,r(71718)),st=r.n(n7);let se=(...t)=>t.filter(Boolean).join(".");function sr(t,e){return(0,a.useMemo)(t,function(t,e){let r=(0,a.useRef)();return(e?c:h)(t,r.current)||(r.current=t),r.current}(e,!0))}let si=t=>{let[e,r]=(0,a.useState)(t.getVisiblePaths());return(0,a.useEffect)(()=>{r(t.getVisiblePaths());let e=t.useStore.subscribe(t.getVisiblePaths,r,{equalityFn:h});return()=>e()},[t]),e};function sn(t=3){let e=(0,a.useRef)(null),r=(0,a.useRef)(null),[i,n]=(0,a.useState)(!1),s=(0,a.useCallback)(()=>n(!0),[]),o=(0,a.useCallback)(()=>n(!1),[]);return(0,a.useLayoutEffect)(()=>{if(i){let{bottom:i,top:n,left:s}=e.current.getBoundingClientRect(),{height:o}=r.current.getBoundingClientRect(),a=i+o>window.innerHeight-40?"up":"down";r.current.style.position="fixed",r.current.style.zIndex="10000",r.current.style.left=s+"px","down"===a?r.current.style.top=i+t+"px":r.current.style.bottom=window.innerHeight-n+t+"px"}},[t,i]),{popinRef:e,wrapperRef:r,shown:i,show:s,hide:o}}!function(t){t.forEach(function(t){0>iL.indexOf(t)&&(t(iN,iO),iL.push(t))})}([function(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in r)i[r[n]]=n;var s={};t.prototype.toName=function(e){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,o=i[this.toHex()];if(o)return o;if(null==e?void 0:e.closest){var a=this.toRgb(),l=1/0,u="black";if(!s.length)for(var c in r)s[c]=new t(r[c]).toRgb();for(var h in r){var d=(n=s[h],Math.pow(a.r-n.r,2)+Math.pow(a.g-n.g,2)+Math.pow(a.b-n.b,2));d<l&&(l=d,u=h)}return u}},e.string.push([function(e){var i=e.toLowerCase(),n="transparent"===i?"#0000":r[i];return n?new t(n).toRgb():null},"name"])}]);let ss={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};function so(t,{format:e,hasAlpha:r,isString:i}){let n=t[ss[e]+(i&&"hex"!==e?"String":"")]();return"object"!=typeof n||r?n:function(t,e){let r=eg({},t);return e.forEach(e=>e in t&&delete r[e]),r}(n,["a"])}y.extend({color:()=>t=>ij(t).isValid()});let sa=(t,e)=>{let r=ij(t);if(!r.isValid())throw Error("Invalid color");return so(r,e)};var sl=Object.freeze({__proto__:null,schema:t=>y().color().test(t),sanitize:sa,format:(t,e)=>so(ij(t),eg(eg({},e),{},{isString:!0,format:"hex"})),normalize:({value:t})=>{let e=iC(t)[1],r="object"==typeof t?"a"in t:"hex"===e&&8===t.length||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:"name"===e?"hex":e,hasAlpha:r,isString:"string"==typeof t};return{value:sa(t,i),settings:i}}});let su=e1("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),sc=e1("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),sh=e1("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function sd(t,e){return"rgb"!==e?ij(t).toRgb():t}function sf({value:t,displayValue:e,settings:r,onUpdate:i}){let{emitOnEditStart:n,emitOnEditEnd:s}=eY(),{format:o,hasAlpha:l}=r,{popinRef:u,wrapperRef:c,shown:h,show:d,hide:f}=sn(),p=(0,a.useRef)(0),[g,m]=(0,a.useState)(()=>sd(t,o)),v=()=>{m(sd(t,o)),d(),n()},b=()=>{f(),s(),window.clearTimeout(p.current)},y=()=>{p.current=window.setTimeout(b,500)};return(0,a.useEffect)(()=>()=>window.clearTimeout(p.current),[]),a.createElement(a.Fragment,null,a.createElement(su,{ref:u,active:h,onClick:()=>v(),style:{color:e}}),h&&a.createElement(ry,null,a.createElement(rm,{onPointerUp:b}),a.createElement(sh,{ref:c,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:t=>0===t.buttons&&y()},a.createElement(l?nc:nd,{color:g,onChange:i}))))}var sp=eg({component:function(){let{value:t,displayValue:e,label:r,onChange:i,onUpdate:n,settings:s}=eY();return a.createElement(rR,{input:!0},a.createElement(r_,null,r),a.createElement(sc,null,a.createElement(sf,{value:t,displayValue:e,onChange:i,onUpdate:n,settings:s}),a.createElement(rn,{value:e,onChange:i,onUpdate:n})))}},sl),sg=eg({component:function(){let{label:t,displayValue:e,onUpdate:r,settings:i}=eY();return a.createElement(rR,{input:!0},a.createElement(r_,null,t),a.createElement(r7,{value:e,settings:i,onUpdate:r}))}},il(["x","y","z"]));let sm=e1("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),sv=e1("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function sb({value:t,settings:e,onUpdate:r}){let i=(0,a.useRef)(),n=(0,a.useRef)(0),s=(0,a.useRef)(0),o=(0,a.useRef)(1),[l,u]=(0,a.useState)(!1),[c,h]=(0,a.useState)(!1),[d,f]=rC(),p=(0,a.useRef)(null),g=(0,a.useRef)(null);(0,a.useLayoutEffect)(()=>{if(l){let{top:t,left:e,width:r,height:i}=p.current.getBoundingClientRect();g.current.style.left=e+r/2+"px",g.current.style.top=t+i/2+"px"}},[l]);let{keys:[m,v],joystick:b}=e,y="invertY"===b?1:-1,{[m]:{step:x},[v]:{step:w}}=e,E=e8("sizes","joystickWidth"),_=e8("sizes","joystickHeight"),A=.8*parseFloat(E)/2,S=.8*parseFloat(_)/2,M=(0,a.useCallback)(()=>{i.current||(h(!0),n.current&&f({x:n.current*A}),s.current&&f({y:-(s.current*S)}),i.current=window.setInterval(()=>{r(t=>{let e=x*n.current*o.current,r=y*w*s.current*o.current;return Array.isArray(t)?{[m]:t[0]+e,[v]:t[1]+r}:{[m]:t[m]+e,[v]:t[v]+r}})},16))},[A,S,r,f,x,w,m,v,y]),T=(0,a.useCallback)(()=>{window.clearTimeout(i.current),i.current=void 0,h(!1)},[]);(0,a.useEffect)(()=>{function t(t){o.current=e$(t)}return window.addEventListener("keydown",t),window.addEventListener("keyup",t),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",t),window.removeEventListener("keyup",t)}},[]);let R=rP(({first:e,active:i,delta:[a,l],movement:[c,h]})=>{e&&u(!0);let d=em(c,-A,A),p=em(h,-S,S);n.current=Math.abs(c)>Math.abs(d)?Math.sign(c-d):0,s.current=Math.abs(h)>Math.abs(p)?Math.sign(p-h):0;let g=t[m],b=t[v];i?(n.current||(g+=a*x*o.current,f({x:d})),s.current||(b-=y*l*w*o.current,f({y:p})),n.current||s.current?M():T(),r({[m]:g,[v]:b})):(u(!1),n.current=0,s.current=0,f({x:0,y:0}),T())});return a.createElement(sm,eH({ref:p},R()),l&&a.createElement(ry,null,a.createElement(sv,{ref:g,isOutOfBounds:c},a.createElement("div",null),a.createElement("span",{ref:d}))))}let sy=e1("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),sx=["joystick"],sw=il(["x","y"]);var sE=eg(eg({component:function(){let{label:t,displayValue:e,onUpdate:r,settings:i}=eY();return a.createElement(rR,{input:!0},a.createElement(r_,null,t),a.createElement(sy,{withJoystick:!!i.joystick},i.joystick&&a.createElement(sb,{value:e,settings:i,onUpdate:r}),a.createElement(r7,{value:e,settings:i,onUpdate:r})))}},sw),{},{normalize:t=>{let{joystick:e=!0}=t,r=et(t,sx),{value:i,settings:n}=sw.normalize(r);return{value:i,settings:eg(eg({},n),{},{joystick:e})}}}),s_=Object.freeze({__proto__:null,sanitize:t=>{if(void 0!==t){if(t instanceof File)try{return URL.createObjectURL(t)}catch(t){return}if("string"==typeof t&&0===t.indexOf("blob:"))return t;throw Error(`Invalid image format [undefined | blob |\xa0File].`)}},schema:(t,e)=>"object"==typeof e&&"image"in e,normalize:({image:t})=>({value:t})});let sA=e1("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),sS=e1("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),sM=e1("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),sT=e1("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),sR=e1("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),sO=e1("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var sP=eg({component:function(){let{label:t,value:e,onUpdate:r,disabled:i}=eY(),{popinRef:n,wrapperRef:s,shown:o,show:l,hide:u}=sn(),c=(0,a.useCallback)(t=>{t.length&&r(t[0])},[r]),h=(0,a.useCallback)(t=>{t.stopPropagation(),r(void 0)},[r]),{getRootProps:d,getInputProps:f,isDragAccept:p}=n5({maxFiles:1,accept:"image/*",onDrop:c,disabled:i});return a.createElement(rR,{input:!0},a.createElement(r_,null,t),a.createElement(sA,null,a.createElement(sM,{ref:n,hasImage:!!e,onPointerDown:()=>!!e&&l(),onPointerUp:u,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&a.createElement(ry,null,a.createElement(rm,{onPointerUp:u,style:{cursor:"pointer"}}),a.createElement(sT,{ref:s,style:{backgroundImage:`url(${e})`}})),a.createElement(sS,d({isDragAccept:p}),a.createElement("input",f()),a.createElement(sR,null,p?"drop image":"click or drop")),a.createElement(sO,{onClick:h,disabled:!e})))}},s_);let sC=y().number(),sk=t=>({min:t[0],max:t[1]}),sI=(t,{bounds:[e,r]},i)=>{let n=Array.isArray(t)?sk(t):t,{min:s,max:o}=eg(eg({},{min:i[0],max:i[1]}),n);return[em(Number(s),e,Math.max(e,o)),em(Number(o),Math.min(r,s),r)]};var sF=Object.freeze({__proto__:null,schema:(t,e)=>y().array().length(2).every.number().test(t)&&y().schema({min:sC,max:sC}).test(e),format:sk,sanitize:sI,normalize:({value:t,min:e,max:r})=>{let i={min:e,max:r},n=eg(eg({},it(sk(t),{min:i,max:i})),{},{bounds:[e,r]});return{value:sI(sk(t),n,t),settings:n}}});let sN=["value","bounds","onDrag"],sj=["bounds"],sL=e1("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function s$(t){let{value:e,bounds:[r,i],onDrag:n}=t,s=et(t,sN),o=(0,a.useRef)(null),l=(0,a.useRef)(null),u=(0,a.useRef)(null),c=(0,a.useRef)(0),h=e8("sizes","scrubberWidth"),d=rP(({event:t,first:a,xy:[d],movement:[f],memo:p={}})=>{if(a){let{width:n,left:s}=o.current.getBoundingClientRect();c.current=n-parseFloat(h);let a=(null==t?void 0:t.target)===l.current||(null==t?void 0:t.target)===u.current;p.pos=ew((d-s)/n,r,i);let f=Math.abs(p.pos-e.min)-Math.abs(p.pos-e.max);p.key=f<0||0===f&&p.pos<=e.min?"min":"max",a&&(p.pos=e[p.key])}let g=p.pos+ew(f/c.current,0,i-r);return n({[p.key]:rU(g,s[p.key])}),p}),f=`calc(${ex(e.min,r,i)} * (100% - ${h} - 8px) + 4px)`,p=`calc(${1-ex(e.max,r,i)} * (100% - ${h} - 8px) + 4px)`;return a.createElement(rL,eH({ref:o},d()),a.createElement(rN,null,a.createElement(r$,{style:{left:f,right:p}})),a.createElement(rj,{position:"left",ref:l,style:{left:f}}),a.createElement(rj,{position:"right",ref:u,style:{right:p}}))}var sD=eg({component:function(){let{label:t,displayValue:e,onUpdate:r,settings:i}=eY(),n=et(i,sj);return a.createElement(a.Fragment,null,a.createElement(rR,{input:!0},a.createElement(r_,null,t),a.createElement(sL,null,a.createElement(s$,eH({value:e},i,{onDrag:r})),a.createElement(r7,{value:e,settings:n,onUpdate:r,innerLabelTrim:0}))))}},sF);let sz=()=>{let t=new Map;return{on:(e,r)=>{let i=t.get(e);void 0===i&&(i=new Set,t.set(e,i)),i.add(r)},off:(e,r)=>{let i=t.get(e);void 0!==i&&(i.delete(r),0===i.size&&t.delete(e))},emit:(e,...r)=>{let i=t.get(e);if(void 0!==i)for(let t of i)t(...r)}}},sB=["type","value"],sU=["onChange","transient","onEditStart","onEditEnd"],sW=new function(){let t=function(t){let e="function"==typeof t?function(t){let e;let r=new Set,i=(t,i)=>{let n="function"==typeof t?t(e):t;if(n!==e){let t=e;e=i?n:Object.assign({},e,n),r.forEach(r=>r(e,t))}},n=()=>e,s=(t,i=n,s=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=i(e);function a(){let r=i(e);if(!s(o,r)){let e=o;t(o=r,e)}}return r.add(a),()=>r.delete(a)},o={setState:i,getState:n,subscribe:(t,e,i)=>e||i?s(t,e,i):(r.add(t),()=>r.delete(t)),destroy:()=>r.clear()};return e=t(i,n,o),o}(t):t,r=(t=e.getState,r=Object.is)=>{let i;let[,n]=(0,a.useReducer)(t=>t+1,0),s=e.getState(),o=(0,a.useRef)(s),l=(0,a.useRef)(t),u=(0,a.useRef)(r),c=(0,a.useRef)(!1),h=(0,a.useRef)();void 0===h.current&&(h.current=t(s));let d=!1;(o.current!==s||l.current!==t||u.current!==r||c.current)&&(i=t(s),d=!r(h.current,i)),n8(()=>{d&&(h.current=i),o.current=s,l.current=t,u.current=r,c.current=!1});let f=(0,a.useRef)(s);n8(()=>{let t=()=>{try{let t=e.getState(),r=l.current(t);u.current(h.current,r)||(o.current=t,h.current=r,n())}catch(t){c.current=!0,n()}},r=e.subscribe(t);return e.getState()!==f.current&&t(),r},[]);let p=d?i:h.current;return(0,a.useDebugValue)(p),p};return Object.assign(r,e),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let t=[r,e];return{next(){let e=t.length<=0;return{value:t.shift(),done:e}}}},r}(n9(()=>({data:{}}))),e=sz();this.storeId=eE(),this.useStore=t;let r={},s=new Set;this.getVisiblePaths=()=>{let t=this.getData(),e=Object.keys(t),i=[];Object.entries(r).forEach(([t,r])=>{r.render&&e.some(e=>0===e.indexOf(t))&&!r.render(this.get)&&i.push(t+".")});let n=[];return s.forEach(e=>{e in t&&t[e].__refCount>0&&i.every(t=>-1===e.indexOf(t))&&(!t[e].render||t[e].render(this.get))&&n.push(e)}),n},this.setOrderedPaths=t=>{t.forEach(t=>s.add(t))},this.orderPaths=t=>(this.setOrderedPaths(t),t),this.disposePaths=e=>{t.setState(t=>{let r=t.data;return e.forEach(t=>{if(t in r){let e=r[t];e.__refCount--,0===e.__refCount&&e.type in n&&delete r[t]}}),{data:r}})},this.dispose=()=>{t.setState(()=>({data:{}}))},this.getFolderSettings=t=>r[t]||{},this.getData=()=>t.getState().data,this.addData=(e,r)=>{t.setState(t=>{let n=t.data;return Object.entries(e).forEach(([t,e])=>{let s=n[t];if(s){let{type:t,value:n}=e,o=et(e,sB);t!==s.type?ei(i.INPUT_TYPE_OVERRIDE,t):((0===s.__refCount||r)&&Object.assign(s,o),s.__refCount++)}else n[t]=eg(eg({},e),{},{__refCount:1})}),{data:n}})},this.setValueAtPath=(e,r,i)=>{t.setState(t=>{let n=t.data;return eF(n[e],r,e,this,i),{data:n}})},this.setSettingsAtPath=(e,r)=>{t.setState(t=>{let i=t.data;return i[e].settings=eg(eg({},i[e].settings),r),{data:i}})},this.disableInputAtPath=(e,r)=>{t.setState(t=>{let i=t.data;return i[e].disabled=r,{data:i}})},this.set=(e,r)=>{t.setState(t=>{let i=t.data;return Object.entries(e).forEach(([t,e])=>{try{eF(i[t],e,void 0,void 0,r)}catch(t){}}),{data:i}})},this.getInput=t=>{try{return this.getData()[t]}catch(e){ei(i.PATH_DOESNT_EXIST,t)}},this.get=t=>{var e;return null===(e=this.getInput(t))||void 0===e?void 0:e.value},this.emitOnEditStart=t=>{e.emit(`onEditStart:${t}`,this.get(t),t,eg(eg({},this.getInput(t)),{},{get:this.get}))},this.emitOnEditEnd=t=>{e.emit(`onEditEnd:${t}`,this.get(t),t,eg(eg({},this.getInput(t)),{},{get:this.get}))},this.subscribeToEditStart=(t,r)=>{let i=`onEditStart:${t}`;return e.on(i,r),()=>e.off(i,r)},this.subscribeToEditEnd=(t,r)=>{let i=`onEditEnd:${t}`;return e.on(i,r),()=>e.off(i,r)};let o=(t,e,s)=>{let a={};return Object.entries(t).forEach(([t,l])=>{if(""===t)return ei(i.EMPTY_KEY);let u=se(e,t);if(l.type===n.FOLDER)Object.assign(a,o(l.schema,u,s)),u in r||(r[u]=l.settings);else if(t in s)ei(i.DUPLICATE_KEYS,t,u,s[t].path);else{let e=function(t,e,r,i){let s=function t(e,r,i={},s){var o,a;if("object"!=typeof e||Array.isArray(e))return{type:s,input:e,options:eg({key:r,label:r,optional:!1,disabled:!1,order:0},i)};if("__customInput"in e){let{type:i,__customInput:n}=e;return t(n,r,et(e,eC),i)}let{render:l,label:u,optional:c,order:h=0,disabled:d,hint:f,onChange:p,onEditStart:g,onEditEnd:m,transient:v}=e,b=et(e,ek),y=eg({render:l,key:r,label:null!=u?u:r,hint:f,transient:null!=v?v:!!p,onEditStart:g,onEditEnd:m,disabled:d,optional:c,order:h},i),{type:x}=b,w=et(b,eI);return(x=null!=s?s:x)in n?{type:x,input:w,options:y}:{type:x,input:s&&eO(w)&&"value"in w?w.value:eP(w)?void 0:w,options:eg(eg({},y),{},{onChange:p,optional:null!==(o=y.optional)&&void 0!==o&&o,disabled:null!==(a=y.disabled)&&void 0!==a&&a})}}(t,e),{type:o,input:a,options:l}=s;if(o)return o in n?s:{type:o,input:ed(o,a,r,i),options:l};let u=ec(a);return u?{type:u,input:ed(u,a,r,i),options:l}:!!(u=ec({value:a}))&&{type:u,input:ed(u,{value:a},r,i),options:l}}(l,t,u,a);if(e){let{type:r,options:i,input:n}=e,{onChange:o,transient:l,onEditStart:c,onEditEnd:h}=i,d=et(i,sU);a[u]=eg(eg(eg({type:r},d),n),{},{fromPanel:!0}),s[t]={path:u,onChange:o,transient:l,onEditStart:c,onEditEnd:h}}else ei(i.UNKNOWN_INPUT,u,l)}}),a};this.getDataFromSchema=t=>{let e={};return[o(t,"",e),e]}},sV={collapsed:!1};function sH(t,e){return{type:n.FOLDER,schema:t,settings:eg(eg({},sV),e)}}let sG=t=>"__levaInput"in t,sY=(t,e)=>{let r={},i=e?e.toLowerCase():null;return t.forEach(t=>{let[e,n]=function(t){let e=t.split(".");return[e.pop(),e.join(".")||void 0]}(t);(!i||e.toLowerCase().indexOf(i)>-1)&&st()(r,n,{[e]:{__levaInput:!0,path:t}})}),r},sX=["type","label","path","valueKey","value","settings","setValue","disabled"];function sq(t){let{type:e,label:r,path:n,valueKey:s,value:o,settings:l,setValue:u,disabled:c}=t,h=et(t,sX),{displayValue:d,onChange:f,onUpdate:p}=rO({type:e,value:o,settings:l,setValue:u}),g=eu[e].component;return g?a.createElement(eG.Provider,{value:eg({key:s,path:n,id:""+n,label:r,displayValue:d,value:o,onChange:f,onUpdate:p,settings:l,setValue:u,disabled:c},h)},a.createElement(rg,{disabled:c},a.createElement(g,null))):(ei(i.NO_COMPONENT_FOR_TYPE,e,n),null)}let sK=e1("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}}),sZ=e1("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),sQ=e1("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),sJ=({label:t,opts:e})=>{let r="string"==typeof t&&""===t.trim()?null:t,i=e;return"object"==typeof e.opts&&(void 0!==i.label&&(r=e.label),i=e.opts),{label:r,opts:i}},s0=e1("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),s1=(0,a.forwardRef)(function({initialValue:t},e){let r=e8("colors","highlight3"),i=e8("colors","elevation2"),n=e8("colors","highlight1"),[s,o]=(0,a.useMemo)(()=>[ij(n).alpha(.4).toRgbString(),ij(n).alpha(.1).toRgbString()],[n]),l=(0,a.useRef)([t]),u=(0,a.useRef)(t),c=(0,a.useRef)(t),h=(0,a.useRef)(),d=(0,a.useCallback)((t,e)=>{if(!t)return;let{width:n,height:a}=t,h=new Path2D,d=n/100,f=.05*a;for(let t=0;t<l.current.length;t++){let e=ex(l.current[t],u.current,c.current),r=d*t,i=a-e*(a-2*f)-f;h.lineTo(r,i)}e.clearRect(0,0,n,a);let p=new Path2D(h);p.lineTo(d*(l.current.length+1),a),p.lineTo(0,a),p.lineTo(0,0);let g=e.createLinearGradient(0,0,0,a);g.addColorStop(0,s),g.addColorStop(1,o),e.fillStyle=g,e.fill(p),e.strokeStyle=i,e.lineJoin="round",e.lineWidth=14,e.stroke(h),e.strokeStyle=r,e.lineWidth=2,e.stroke(h)},[r,i,s,o]),[f,p]=function(t){let e=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{let n=eL(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,r.current)},250);return window.addEventListener("resize",n),i.current||(n(),i.current=!0),()=>window.removeEventListener("resize",n)},[t]),(0,a.useEffect)(()=>{r.current=e.current.getContext("2d")},[]),[e,r]}(d);return(0,a.useImperativeHandle)(e,()=>({frame:t=>{var e;(void 0===u.current||t<u.current)&&(u.current=t),(void 0===c.current||t>c.current)&&(c.current=t),(e=l.current).push(t),e.length>100&&e.shift(),h.current=requestAnimationFrame(()=>d(f.current,p.current))}}),[f,p,d]),(0,a.useEffect)(()=>()=>cancelAnimationFrame(h.current),[]),a.createElement(s0,{ref:f})}),s2=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),s3=(0,a.forwardRef)(function({initialValue:t},e){let[r,i]=(0,a.useState)(s2(t));return(0,a.useImperativeHandle)(e,()=>({frame:t=>i(s2(t))}),[]),a.createElement("div",null,r)});function s5(t){return"function"==typeof t?t():t.current}let s4=["type","label","key"],s6={[n.BUTTON]:function({onClick:t,settings:e,label:r}){let i=eZ();return a.createElement(rR,null,a.createElement(sK,{disabled:e.disabled,onClick:()=>t(i.get)},r))},[n.BUTTON_GROUP]:function(t){let{label:e,opts:r}=sJ(t),i=eZ();return a.createElement(rR,{input:!!e},e&&a.createElement(r_,null,e),a.createElement(sZ,null,Object.entries(r).map(([t,e])=>a.createElement(sQ,{key:t,onClick:()=>e(i.get)},t))))},[n.MONITOR]:function({label:t,objectOrFn:e,settings:r}){let i=(0,a.useRef)(),n=(0,a.useRef)(s5(e));return(0,a.useEffect)(()=>{let t=window.setInterval(()=>{var t;document.hidden||null===(t=i.current)||void 0===t||t.frame(s5(e))},r.interval);return()=>window.clearInterval(t)},[e,r.interval]),a.createElement(rR,{input:!0},a.createElement(r_,{align:"top"},t),r.graph?a.createElement(s1,{ref:i,initialValue:n.current}):a.createElement(s3,{ref:i,initialValue:n.current}))}},s8=a.memo(({path:t})=>{let[e,{set:r,setSettings:s,disable:o,storeId:l,emitOnEditStart:u,emitOnEditEnd:c}]=function(t){let e=eZ(),[r,i]=(0,a.useState)(rI(e.getData(),t)),n=(0,a.useCallback)(r=>e.setValueAtPath(t,r,!0),[t,e]),s=(0,a.useCallback)(r=>e.setSettingsAtPath(t,r),[t,e]),o=(0,a.useCallback)(r=>e.disableInputAtPath(t,r),[t,e]),l=(0,a.useCallback)(()=>e.emitOnEditStart(t),[t,e]),u=(0,a.useCallback)(()=>e.emitOnEditEnd(t),[t,e]);return(0,a.useEffect)(()=>{i(rI(e.getData(),t));let r=e.useStore.subscribe(e=>rI(e.data,t),i,{equalityFn:h});return()=>r()},[e,t]),[r,{set:n,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:l,emitOnEditEnd:u}]}(t);if(!e)return null;let{type:d,label:f,key:p}=e,g=et(e,s4);if(d in n){let e=s6[d];return a.createElement(e,eH({label:f,path:t},g))}return d in eu?a.createElement(sq,eH({key:l+t,type:d,label:f,storeId:l,path:t,valueKey:p,setValue:r,setSettings:s,disable:o,emitOnEditStart:u,emitOnEditEnd:c},g)):(en(i.UNSUPPORTED_INPUT,d,t),null)});function s9({toggle:t,toggled:e,name:r}){return a.createElement(rl,{onClick:()=>t()},a.createElement(rM,{toggled:e}),a.createElement("div",null,r))}let s7=({name:t,path:e,tree:r})=>{let i=eZ(),n=se(e,t),{collapsed:s,color:o}=i.getFolderSettings(n),[l,u]=(0,a.useState)(!s),c=(0,a.useRef)(null),h=e8("colors","folderWidgetColor"),d=e8("colors","folderTextColor");return(0,a.useLayoutEffect)(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||h),c.current.style.setProperty("--leva-colors-folderTextColor",o||d)},[o,h,d]),a.createElement(ro,{ref:c},a.createElement(s9,{name:t,toggled:l,toggle:()=>u(t=>!t)}),a.createElement(ot,{parent:n,tree:r,toggled:l}))},ot=a.memo(({isRoot:t=!1,fill:e=!1,flat:r=!1,parent:i,tree:n,toggled:s})=>{let{wrapperRef:o,contentRef:l}=function(t){let e=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useRef)(!0);return(0,a.useLayoutEffect)(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),(0,a.useEffect)(()=>{let n;if(i.current){i.current=!1;return}let s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),r.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});let{height:a}=r.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",n=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(n)}},[t]),{wrapperRef:e,contentRef:r}}(s),u=eZ(),c=([t,e])=>{var r;return(sG(e)?null===(r=u.getInput(e.path))||void 0===r?void 0:r.order:u.getFolderSettings(se(i,t)).order)||0},h=Object.entries(n).sort((t,e)=>c(t)-c(e));return a.createElement(ra,{ref:o,isRoot:t,fill:e,flat:r},a.createElement(ru,{ref:l,isRoot:t,toggled:s},h.map(([t,e])=>sG(e)?a.createElement(s8,{key:e.path,valueKey:e.valueKey,path:e.path}):a.createElement(s7,{key:t,name:t,path:i,tree:e}))))}),oe=e1("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${rh}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),or=e1("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),oi=e1("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),on=e1("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${or}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),os=e1("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),oo=e1("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),oa=a.forwardRef(({setFilter:t,toggle:e},r)=>{let[i,n]=(0,a.useState)(""),s=(0,a.useMemo)(()=>eL(t,250),[t]),o=()=>{t(""),n("")};return(0,a.useEffect)(()=>{s(i)},[i,s]),a.createElement(a.Fragment,null,a.createElement(os,{ref:r,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:t=>t.stopPropagation(),onChange:t=>{let r=t.currentTarget.value;e(!0),n(r)}}),a.createElement(or,{onClick:()=>o(),style:{visibility:i?"visible":"hidden"}},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function ol({setFilter:t,onDrag:e,onDragStart:r,onDragEnd:i,toggle:n,toggled:s,title:o,drag:l,filterEnabled:u,from:c}){let[h,d]=(0,a.useState)(!1),f=(0,a.useRef)(null);(0,a.useEffect)(()=>{var t,e;h?null===(t=f.current)||void 0===t||t.focus():null===(e=f.current)||void 0===e||e.blur()},[h]);let p=rP(({offset:[t,n],first:s,last:o})=>{e({x:t,y:n}),s&&r({x:t,y:n}),o&&i({x:t,y:n})},{filterTaps:!0,from:({offset:[t,e]})=>[(null==c?void 0:c.x)||t,(null==c?void 0:c.y)||e]});return(0,a.useEffect)(()=>{let t=t=>{"L"===t.key&&t.shiftKey&&t.metaKey&&d(t=>!t)};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),a.createElement(a.Fragment,null,a.createElement(oi,{mode:l?"drag":void 0},a.createElement(or,{active:!s,onClick:()=>n()},a.createElement(rM,{toggled:s,width:12,height:8})),a.createElement(oo,eH({},l?p():{},{drag:l,filterEnabled:u}),void 0===o&&l?a.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:"2",cy:"2",r:"2"}),a.createElement("circle",{cx:"14",cy:"2",r:"2"}),a.createElement("circle",{cx:"26",cy:"2",r:"2"}),a.createElement("circle",{cx:"2",cy:"12",r:"2"}),a.createElement("circle",{cx:"14",cy:"12",r:"2"}),a.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),u&&a.createElement(or,{active:h,onClick:()=>d(t=>!t)},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},a.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),a.createElement(on,{toggled:h},a.createElement(oa,{ref:f,setFilter:t,toggle:n})))}let ou=["store","hidden","theme","collapsed"];function oc(t){let{store:e,hidden:r=!1,theme:i,collapsed:n=!1}=t,s=et(t,ou),o=sr(()=>(function(t){let e=eQ();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});let r=e3(e);return{theme:e,className:r.className}})(i),[i]),[l,u]=(0,a.useState)(!n),c="object"==typeof n?!n.collapsed:l,h=(0,a.useMemo)(()=>"object"==typeof n?t=>{"function"==typeof t?n.onChange(!t(!n.collapsed)):n.onChange(!t)}:u,[n]);return!e||r?null:a.createElement(eX.Provider,{value:o},a.createElement(oh,eH({store:e},s,{toggled:c,setToggle:h,rootClass:o.className})))}let oh=a.memo(({store:t,rootClass:e,fill:r=!1,flat:i=!1,neverHide:n=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:l=!1,toggled:u,setToggle:c})=>{var h,d;let f=si(t),[p,g]=(0,a.useState)(""),m=(0,a.useMemo)(()=>sY(f,p),[f,p]),[v,b]=rC(),y=n||f.length>0,x="object"==typeof o&&o.title||void 0,w="object"!=typeof o||null===(h=o.drag)||void 0===h||h,E="object"!=typeof o||null===(d=o.filter)||void 0===d||d,_="object"==typeof o&&o.position||void 0,A="object"==typeof o&&o.onDrag||void 0,S="object"==typeof o&&o.onDragStart||void 0,M="object"==typeof o&&o.onDragEnd||void 0;return a.useEffect(()=>{b({x:null==_?void 0:_.x,y:null==_?void 0:_.y})},[_,b]),e6(),a.createElement(eK.Provider,{value:{hideCopyButton:l}},a.createElement(oe,{ref:v,className:e,fill:r,flat:i,oneLineLabels:s,hideTitleBar:!o,style:{display:y?"block":"none"}},o&&a.createElement(ol,{onDrag:t=>{b(t),null==A||A(t)},onDragStart:t=>null==S?void 0:S(t),onDragEnd:t=>null==M?void 0:M(t),setFilter:g,toggle:t=>c(e=>null!=t?t:!e),toggled:u,title:x,drag:w,filterEnabled:E,from:_}),y&&a.createElement(eq.Provider,{value:t},a.createElement(ot,{isRoot:!0,fill:r,flat:i,tree:m,toggled:u}))))}),od=["isRoot"],of=!1,op=null;function og(t){let{isRoot:e=!1}=t,r=et(t,od);return(0,a.useEffect)(()=>(of=!0,!e&&op&&(op.remove(),op=null),()=>{e||(of=!1)}),[e]),a.createElement(oc,eH({store:sW},r))}function om(t,e,r,i,n){var s;let l,u,c,d,f;let{folderName:p,schema:g,folderSettings:m,hookSettings:v,deps:b}=("string"==typeof t?(f=t,l=e,Array.isArray(r)?d=r:r&&("store"in r?(c=r,d=i):(u=r,Array.isArray(i)?d=i:(c=i,d=n)))):(l=t,Array.isArray(e)?d=e:(c=e,d=r)),{schema:l,folderName:f,folderSettings:u,hookSettings:c,deps:d||[]}),y="function"==typeof g,x=(0,a.useRef)(!1),w=(0,a.useRef)(!0),E=sr(()=>{x.current=!0;let t="function"==typeof g?g():g;return p?{[p]:sH(t,m)}:t},b);s=!(null!=v&&v.store),(0,a.useEffect)(()=>{s&&!of&&(!op&&(op=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(op),function(t,e){let r=console.error;console.error=()=>{},o.render(t,e),console.error=r}(a.createElement(og,{isRoot:!0}),op))),of=!0)},[s]);let[_]=(0,a.useState)(()=>(null==v?void 0:v.store)||sW),[A,S]=(0,a.useMemo)(()=>_.getDataFromSchema(E),[_,E]),[M,T,R,O,P]=(0,a.useMemo)(()=>{let t=[],e=[],r={},i={},n={};return Object.values(S).forEach(({path:s,onChange:o,onEditStart:a,onEditEnd:l,transient:u})=>{t.push(s),o?(r[s]=o,u||e.push(s)):e.push(s),a&&(i[s]=a),l&&(n[s]=l)}),[t,e,r,i,n]},[S]),C=(0,a.useMemo)(()=>_.orderPaths(M),[M,_]),k=_.useStore(t=>{var e;return e=eg(eg({},A),t.data),Object.entries(T.reduce((t,r)=>(e&&e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})).reduce((t,[,{value:e,disabled:r,key:i}])=>(t[i]=r?void 0:e,t),{})},h),I=(0,a.useCallback)(t=>{let e=Object.entries(t).reduce((t,[e,r])=>Object.assign(t,{[S[e].path]:r}),{});_.set(e,!1)},[_,S]),F=(0,a.useCallback)(t=>_.get(S[t].path),[_,S]);return((0,a.useEffect)(()=>{let t=!w.current&&x.current;return _.addData(A,t),w.current=!1,x.current=!1,()=>_.disposePaths(C)},[_,C,A]),(0,a.useEffect)(()=>{let t=[];return Object.entries(R).forEach(([e,r])=>{r(_.get(e),e,eg({initial:!0,get:_.get},_.getInput(e)));let i=_.useStore.subscribe(t=>{let r=t.data[e];return[r.disabled?void 0:r.value,r]},([t,i])=>r(t,e,eg({initial:!1,get:_.get},i)),{equalityFn:h});t.push(i)}),()=>t.forEach(t=>t())},[_,R]),(0,a.useEffect)(()=>{let t=[];return Object.entries(O).forEach(([e,r])=>t.push(_.subscribeToEditStart(e,r))),Object.entries(P).forEach(([e,r])=>t.push(_.subscribeToEditEnd(e,r))),()=>t.forEach(t=>t())},[O,P,_]),y)?[k,I,F]:k}eh(s.SELECT,rq),eh(s.IMAGE,sP),eh(s.NUMBER,rW),eh(s.COLOR,sp),eh(s.STRING,r0),eh(s.BOOLEAN,r5),eh(s.INTERVAL,sD),eh(s.VECTOR3D,sg),eh(s.VECTOR2D,sE)},71718:(t,e,r)=>{"use strict";var i=r(21182),n=r(91325),s=r(86668),o=r(41659);t.exports=function(t,e,r){if(!i(t))throw TypeError("expected an object");if("string"!=typeof e||null==r)return n.apply(null,arguments);if("string"==typeof r)return o(t,e,r),t;var a=s(t,e);return i(r)&&i(a)&&(r=n({},a,r)),o(t,e,r),t}},91325:(t,e,r)=>{"use strict";var i=r(21182),n=r(13696);function s(t,e){for(var r=arguments.length,i=0;++i<r;){var s=arguments[i];a(s)&&n(s,o,t)}return t}function o(t,e){if("__proto__"!==e&&"constructor"!==e&&"prototype"!==e){var r=this[e];a(t)&&a(r)?s(r,t):this[e]=t}}function a(t){return i(t)&&!Array.isArray(t)}t.exports=s},86440:(t,e,r)=>{"use strict";r.d(e,{default:()=>n.a});var i=r(43319),n=r.n(i)},27031:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addLocale",{enumerable:!0,get:function(){return i}}),r(25639);let i=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return t};("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},9651:(t,e,r)=>{"use strict";function i(t,e,r,i){return!1}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getDomainLocale",{enumerable:!0,get:function(){return i}}),r(25639),("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},43319:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return x}});let i=r(65471),n=r(69797),s=i._(r(15791)),o=r(45981),a=r(63760),l=r(33779),u=r(45510),c=r(27031),h=r(7934),d=r(21364),f=r(50832),p=r(9651),g=r(21273),m=r(8291),v=new Set;function b(t,e,r,i,n,s){if("undefined"!=typeof window&&(s||(0,a.isLocalURL)(e))){if(!i.bypassPrefetchedCheck){let n=e+"%"+r+"%"+(void 0!==i.locale?i.locale:"locale"in t?t.locale:void 0);if(v.has(n))return;v.add(n)}Promise.resolve(s?t.prefetch(e,n):t.prefetch(e,r,i)).catch(t=>{})}}function y(t){return"string"==typeof t?t:(0,l.formatUrl)(t)}let x=s.default.forwardRef(function(t,e){let r,i;let{href:l,as:v,children:x,prefetch:w=null,passHref:E,replace:_,shallow:A,scroll:S,locale:M,onClick:T,onMouseEnter:R,onTouchStart:O,legacyBehavior:P=!1,...C}=t;r=x,P&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let k=s.default.useContext(h.RouterContext),I=s.default.useContext(d.AppRouterContext),F=null!=k?k:I,N=!k,j=!1!==w,L=null===w?m.PrefetchKind.AUTO:m.PrefetchKind.FULL,{href:$,as:D}=s.default.useMemo(()=>{if(!k){let t=y(l);return{href:t,as:v?y(v):t}}let[t,e]=(0,o.resolveHref)(k,l,!0);return{href:t,as:v?(0,o.resolveHref)(k,v):e||t}},[k,l,v]),z=s.default.useRef($),B=s.default.useRef(D);P&&(i=s.default.Children.only(r));let U=P?i&&"object"==typeof i&&i.ref:e,[W,V,H]=(0,f.useIntersection)({rootMargin:"200px"}),G=s.default.useCallback(t=>{(B.current!==D||z.current!==$)&&(H(),B.current=D,z.current=$),W(t),U&&("function"==typeof U?U(t):"object"==typeof U&&(U.current=t))},[D,U,$,H,W]);s.default.useEffect(()=>{F&&V&&j&&b(F,$,D,{locale:M},{kind:L},N)},[D,$,V,M,j,null==k?void 0:k.locale,F,N,L]);let Y={ref:G,onClick(t){P||"function"!=typeof T||T(t),P&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(t),F&&!t.defaultPrevented&&function(t,e,r,i,n,o,l,u,c){let{nodeName:h}=t.currentTarget;if("A"===h.toUpperCase()&&(function(t){let e=t.currentTarget.getAttribute("target");return e&&"_self"!==e||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which}(t)||!c&&!(0,a.isLocalURL)(r)))return;t.preventDefault();let d=()=>{let t=null==l||l;"beforePopState"in e?e[n?"replace":"push"](r,i,{shallow:o,locale:u,scroll:t}):e[n?"replace":"push"](i||r,{scroll:t})};c?s.default.startTransition(d):d()}(t,F,$,D,_,A,S,M,N)},onMouseEnter(t){P||"function"!=typeof R||R(t),P&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(t),F&&(j||!N)&&b(F,$,D,{locale:M,priority:!0,bypassPrefetchedCheck:!0},{kind:L},N)},onTouchStart:function(t){P||"function"!=typeof O||O(t),P&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(t),F&&(j||!N)&&b(F,$,D,{locale:M,priority:!0,bypassPrefetchedCheck:!0},{kind:L},N)}};if((0,u.isAbsoluteUrl)(D))Y.href=D;else if(!P||E||"a"===i.type&&!("href"in i.props)){let t=void 0!==M?M:null==k?void 0:k.locale,e=(null==k?void 0:k.isLocaleDomain)&&(0,p.getDomainLocale)(D,t,null==k?void 0:k.locales,null==k?void 0:k.domainLocales);Y.href=e||(0,g.addBasePath)((0,c.addLocale)(D,t,null==k?void 0:k.defaultLocale))}return P?s.default.cloneElement(i,Y):(0,n.jsx)("a",{...C,...Y,children:r})});("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},45981:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"resolveHref",{enumerable:!0,get:function(){return h}});let i=r(17515),n=r(33779),s=r(58774),o=r(45510),a=r(25639),l=r(63760),u=r(10405),c=r(28520);function h(t,e,r){let h;let d="string"==typeof e?e:(0,n.formatWithValidation)(e),f=d.match(/^[a-zA-Z]{1,}:\/\//),p=f?d.slice(f[0].length):d;if((p.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+d+"' passed to next/router in page: '"+t.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let e=(0,o.normalizeRepeatedSlashes)(p);d=(f?f[0]:"")+e}if(!(0,l.isLocalURL)(d))return r?[d]:d;try{h=new URL(d.startsWith("#")?t.asPath:t.pathname,"http://n")}catch(t){h=new URL("/","http://n")}try{let t=new URL(d,h);t.pathname=(0,a.normalizePathTrailingSlash)(t.pathname);let e="";if((0,u.isDynamicRoute)(t.pathname)&&t.searchParams&&r){let r=(0,i.searchParamsToUrlQuery)(t.searchParams),{result:o,params:a}=(0,c.interpolateAs)(t.pathname,t.pathname,r);o&&(e=(0,n.formatWithValidation)({pathname:o,hash:t.hash,query:(0,s.omit)(r,a)}))}let o=t.origin===h.origin?t.href.slice(t.origin.length):t.href;return r?[o,e||o]:o}catch(t){return r?[d]:d}}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},50832:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useIntersection",{enumerable:!0,get:function(){return l}});let i=r(15791),n=r(39435),s="function"==typeof IntersectionObserver,o=new Map,a=[];function l(t){let{rootRef:e,rootMargin:r,disabled:l}=t,u=l||!s,[c,h]=(0,i.useState)(!1),d=(0,i.useRef)(null),f=(0,i.useCallback)(t=>{d.current=t},[]);return(0,i.useEffect)(()=>{if(s){if(u||c)return;let t=d.current;if(t&&t.tagName)return function(t,e,r){let{id:i,observer:n,elements:s}=function(t){let e;let r={root:t.root||null,margin:t.rootMargin||""},i=a.find(t=>t.root===r.root&&t.margin===r.margin);if(i&&(e=o.get(i)))return e;let n=new Map;return e={id:r,observer:new IntersectionObserver(t=>{t.forEach(t=>{let e=n.get(t.target),r=t.isIntersecting||t.intersectionRatio>0;e&&r&&e(r)})},t),elements:n},a.push(r),o.set(r,e),e}(r);return s.set(t,e),n.observe(t),function(){if(s.delete(t),n.unobserve(t),0===s.size){n.disconnect(),o.delete(i);let t=a.findIndex(t=>t.root===i.root&&t.margin===i.margin);t>-1&&a.splice(t,1)}}}(t,t=>t&&h(t),{root:null==e?void 0:e.current,rootMargin:r})}else if(!c){let t=(0,n.requestIdleCallback)(()=>h(!0));return()=>(0,n.cancelIdleCallback)(t)}},[u,r,e,c,d.current]),[f,c,(0,i.useCallback)(()=>{h(!1)},[])]}("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},34672:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{ACTION_SUFFIX:function(){return l},APP_DIR_ALIAS:function(){return T},CACHE_ONE_YEAR:function(){return x},DOT_NEXT_ALIAS:function(){return S},ESLINT_DEFAULT_DIRS:function(){return H},ESLINT_PROMPT_VALUES:function(){return G},GSP_NO_RETURNED_VALUE:function(){return D},GSSP_COMPONENT_MEMBER_ERROR:function(){return U},GSSP_NO_RETURNED_VALUE:function(){return z},INSTRUMENTATION_HOOK_FILENAME:function(){return _},MIDDLEWARE_FILENAME:function(){return w},MIDDLEWARE_LOCATION_REGEXP:function(){return E},NEXT_BODY_SUFFIX:function(){return h},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return y},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return p},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return g},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return f},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return b},NEXT_CACHE_TAGS_HEADER:function(){return d},NEXT_CACHE_TAG_MAX_ITEMS:function(){return m},NEXT_CACHE_TAG_MAX_LENGTH:function(){return v},NEXT_DATA_SUFFIX:function(){return u},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return i},NEXT_META_SUFFIX:function(){return c},NEXT_QUERY_PARAM_PREFIX:function(){return r},NON_STANDARD_NODE_ENV:function(){return W},PAGES_DIR_ALIAS:function(){return A},PRERENDER_REVALIDATE_HEADER:function(){return n},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return s},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return I},ROOT_DIR_ALIAS:function(){return M},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return k},RSC_ACTION_ENCRYPTION_ALIAS:function(){return C},RSC_ACTION_PROXY_ALIAS:function(){return P},RSC_ACTION_VALIDATE_ALIAS:function(){return O},RSC_MOD_REF_PROXY_ALIAS:function(){return R},RSC_PREFETCH_SUFFIX:function(){return o},RSC_SUFFIX:function(){return a},SERVER_PROPS_EXPORT_ERROR:function(){return $},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return N},SERVER_PROPS_SSG_CONFLICT:function(){return j},SERVER_RUNTIME:function(){return Y},SSG_FALLBACK_EXPORT_ERROR:function(){return V},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return F},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return L},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return B},WEBPACK_LAYERS:function(){return q},WEBPACK_RESOURCE_QUERIES:function(){return K}});let r="nxtP",i="nxtI",n="x-prerender-revalidate",s="x-prerender-revalidate-if-generated",o=".prefetch.rsc",a=".rsc",l=".action",u=".json",c=".meta",h=".body",d="x-next-cache-tags",f="x-next-cache-soft-tags",p="x-next-revalidated-tags",g="x-next-revalidate-tag-token",m=64,v=256,b=1024,y="_N_T_",x=31536e3,w="middleware",E=`(?:src/)?${w}`,_="instrumentation",A="private-next-pages",S="private-dot-next",M="private-next-root-dir",T="private-next-app-dir",R="private-next-rsc-mod-ref-proxy",O="private-next-rsc-action-validate",P="private-next-rsc-server-reference",C="private-next-rsc-action-encryption",k="private-next-rsc-action-client-wrapper",I="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",F="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",N="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",j="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",L="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",$="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",D="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",z="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",B="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",U="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",W='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',V="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",H=["app","pages","components","lib","src"],G=[{title:"Strict",recommended:!0,config:{extends:"next/core-web-vitals"}},{title:"Base",config:{extends:"next"}},{title:"Cancel",config:null}],Y={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},X={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"},q={...X,GROUP:{serverOnly:[X.reactServerComponents,X.actionBrowser,X.appMetadataRoute,X.appRouteHandler,X.instrument],clientOnly:[X.serverSideRendering,X.appPagesBrowser],nonClientServerTarget:[X.middleware,X.api],app:[X.reactServerComponents,X.actionBrowser,X.appMetadataRoute,X.appRouteHandler,X.serverSideRendering,X.appPagesBrowser,X.shared,X.instrument]}},K={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},41147:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"escapeStringRegexp",{enumerable:!0,get:function(){return n}});let r=/[|\\{}()[\]^$+*?.-]/,i=/[|\\{}()[\]^$+*?.-]/g;function n(t){return r.test(t)?t.replace(i,"\\$&"):t}},33779:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{formatUrl:function(){return s},formatWithValidation:function(){return a},urlObjectKeys:function(){return o}});let i=r(85226)._(r(17515)),n=/https?|ftp|gopher|file/;function s(t){let{auth:e,hostname:r}=t,s=t.protocol||"",o=t.pathname||"",a=t.hash||"",l=t.query||"",u=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",t.host?u=e+t.host:r&&(u=e+(~r.indexOf(":")?"["+r+"]":r),t.port&&(u+=":"+t.port)),l&&"object"==typeof l&&(l=String(i.urlQueryToSearchParams(l)));let c=t.search||l&&"?"+l||"";return s&&!s.endsWith(":")&&(s+=":"),t.slashes||(!s||n.test(s))&&!1!==u?(u="//"+(u||""),o&&"/"!==o[0]&&(o="/"+o)):u||(u=""),a&&"#"!==a[0]&&(a="#"+a),c&&"?"!==c[0]&&(c="?"+c),""+s+u+(o=o.replace(/[?#]/g,encodeURIComponent))+(c=c.replace("#","%23"))+a}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(t){return s(t)}},10405:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{getSortedRoutes:function(){return i.getSortedRoutes},isDynamicRoute:function(){return n.isDynamicRoute}});let i=r(84698),n=r(32331)},28520:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"interpolateAs",{enumerable:!0,get:function(){return s}});let i=r(17154),n=r(26832);function s(t,e,r){let s="",o=(0,n.getRouteRegex)(t),a=o.groups,l=(e!==t?(0,i.getRouteMatcher)(o)(e):"")||r;s=t;let u=Object.keys(a);return u.every(t=>{let e=l[t]||"",{repeat:r,optional:i}=a[t],n="["+(r?"...":"")+t+"]";return i&&(n=(e?"":"/")+"["+n+"]"),r&&!Array.isArray(e)&&(e=[e]),(i||t in l)&&(s=s.replace(n,r?e.map(t=>encodeURIComponent(t)).join("/"):encodeURIComponent(e))||"/")})||(s=""),{params:u,result:s}}},32331:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"isDynamicRoute",{enumerable:!0,get:function(){return s}});let i=r(81810),n=/\/\[[^/]+?\](?=\/|$)/;function s(t){return(0,i.isInterceptionRouteAppPath)(t)&&(t=(0,i.extractInterceptionRouteInformation)(t).interceptedRoute),n.test(t)}},63760:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"isLocalURL",{enumerable:!0,get:function(){return s}});let i=r(45510),n=r(99459);function s(t){if(!(0,i.isAbsoluteUrl)(t))return!0;try{let e=(0,i.getLocationOrigin)(),r=new URL(t,e);return r.origin===e&&(0,n.hasBasePath)(r.pathname)}catch(t){return!1}}},58774:(t,e)=>{"use strict";function r(t,e){let r={};return Object.keys(t).forEach(i=>{e.includes(i)||(r[i]=t[i])}),r}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"omit",{enumerable:!0,get:function(){return r}})},17515:(t,e)=>{"use strict";function r(t){let e={};return t.forEach((t,r)=>{void 0===e[r]?e[r]=t:Array.isArray(e[r])?e[r].push(t):e[r]=[e[r],t]}),e}function i(t){return"string"!=typeof t&&("number"!=typeof t||isNaN(t))&&"boolean"!=typeof t?"":String(t)}function n(t){let e=new URLSearchParams;return Object.entries(t).forEach(t=>{let[r,n]=t;Array.isArray(n)?n.forEach(t=>e.append(r,i(t))):e.set(r,i(n))}),e}function s(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return r.forEach(e=>{Array.from(e.keys()).forEach(e=>t.delete(e)),e.forEach((e,r)=>t.append(r,e))}),t}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{assign:function(){return s},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return n}})},17154:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getRouteMatcher",{enumerable:!0,get:function(){return n}});let i=r(45510);function n(t){let{re:e,groups:r}=t;return t=>{let n=e.exec(t);if(!n)return!1;let s=t=>{try{return decodeURIComponent(t)}catch(t){throw new i.DecodeError("failed to decode param")}},o={};return Object.keys(r).forEach(t=>{let e=r[t],i=n[e.pos];void 0!==i&&(o[t]=~i.indexOf("/")?i.split("/").map(t=>s(t)):e.repeat?[s(i)]:s(i))}),o}}},26832:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{getNamedMiddlewareRegex:function(){return g},getNamedRouteRegex:function(){return p},getRouteRegex:function(){return h},parseParameter:function(){return l}});let i=r(34672),n=r(81810),s=r(41147),o=r(62545),a=/\[((?:\[.*\])|.+)\]/;function l(t){let e=t.match(a);return e?u(e[1]):u(t)}function u(t){let e=t.startsWith("[")&&t.endsWith("]");e&&(t=t.slice(1,-1));let r=t.startsWith("...");return r&&(t=t.slice(3)),{key:t,repeat:r,optional:e}}function c(t){let e=(0,o.removeTrailingSlash)(t).slice(1).split("/"),r={},i=1;return{parameterizedRoute:e.map(t=>{let e=n.INTERCEPTION_ROUTE_MARKERS.find(e=>t.startsWith(e)),o=t.match(a);if(e&&o){let{key:t,optional:n,repeat:a}=u(o[1]);return r[t]={pos:i++,repeat:a,optional:n},"/"+(0,s.escapeStringRegexp)(e)+"([^/]+?)"}if(!o)return"/"+(0,s.escapeStringRegexp)(t);{let{key:t,repeat:e,optional:n}=u(o[1]);return r[t]={pos:i++,repeat:e,optional:n},e?n?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function h(t){let{parameterizedRoute:e,groups:r}=c(t);return{re:RegExp("^"+e+"(?:/)?$"),groups:r}}function d(t){let{interceptionMarker:e,getSafeRouteKey:r,segment:i,routeKeys:n,keyPrefix:o}=t,{key:a,optional:l,repeat:c}=u(i),h=a.replace(/\W/g,"");o&&(h=""+o+h);let d=!1;(0===h.length||h.length>30)&&(d=!0),isNaN(parseInt(h.slice(0,1)))||(d=!0),d&&(h=r()),o?n[h]=""+o+a:n[h]=a;let f=e?(0,s.escapeStringRegexp)(e):"";return c?l?"(?:/"+f+"(?<"+h+">.+?))?":"/"+f+"(?<"+h+">.+?)":"/"+f+"(?<"+h+">[^/]+?)"}function f(t,e){let r;let a=(0,o.removeTrailingSlash)(t).slice(1).split("/"),l=(r=0,()=>{let t="",e=++r;for(;e>0;)t+=String.fromCharCode(97+(e-1)%26),e=Math.floor((e-1)/26);return t}),u={};return{namedParameterizedRoute:a.map(t=>{let r=n.INTERCEPTION_ROUTE_MARKERS.some(e=>t.startsWith(e)),o=t.match(/\[((?:\[.*\])|.+)\]/);if(r&&o){let[r]=t.split(o[0]);return d({getSafeRouteKey:l,interceptionMarker:r,segment:o[1],routeKeys:u,keyPrefix:e?i.NEXT_INTERCEPTION_MARKER_PREFIX:void 0})}return o?d({getSafeRouteKey:l,segment:o[1],routeKeys:u,keyPrefix:e?i.NEXT_QUERY_PARAM_PREFIX:void 0}):"/"+(0,s.escapeStringRegexp)(t)}).join(""),routeKeys:u}}function p(t,e){let r=f(t,e);return{...h(t),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function g(t,e){let{parameterizedRoute:r}=c(t),{catchAll:i=!0}=e;if("/"===r)return{namedRegex:"^/"+(i?".*":"")+"$"};let{namedParameterizedRoute:n}=f(t,!1);return{namedRegex:"^"+n+(i?"(?:(/.*)?)":"")+"$"}}},84698:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getSortedRoutes",{enumerable:!0,get:function(){return i}});class r{insert(t){this._insert(t.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(t){void 0===t&&(t="/");let e=[...this.children.keys()].sort();null!==this.slugName&&e.splice(e.indexOf("[]"),1),null!==this.restSlugName&&e.splice(e.indexOf("[...]"),1),null!==this.optionalRestSlugName&&e.splice(e.indexOf("[[...]]"),1);let r=e.map(e=>this.children.get(e)._smoosh(""+t+e+"/")).reduce((t,e)=>[...t,...e],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(t+"["+this.slugName+"]/")),!this.placeholder){let e="/"===t?"/":t.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+e+'" and "'+e+"[[..."+this.optionalRestSlugName+']]").');r.unshift(e)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(t+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(t+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(t,e,i){if(0===t.length){this.placeholder=!1;return}if(i)throw Error("Catch-all must be the last part of the URL.");let n=t[0];if(n.startsWith("[")&&n.endsWith("]")){let r=n.slice(1,-1),o=!1;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1),o=!0),r.startsWith("...")&&(r=r.substring(3),i=!0),r.startsWith("[")||r.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+r+"').");if(r.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+r+"').");function s(t,r){if(null!==t&&t!==r)throw Error("You cannot use different slug names for the same dynamic path ('"+t+"' !== '"+r+"').");e.forEach(t=>{if(t===r)throw Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path');if(t.replace(/\W/g,"")===n.replace(/\W/g,""))throw Error('You cannot have the slug names "'+t+'" and "'+r+'" differ only by non-word symbols within a single dynamic path')}),e.push(r)}if(i){if(o){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+t[0]+'" ).');s(this.optionalRestSlugName,r),this.optionalRestSlugName=r,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+t[0]+'").');s(this.restSlugName,r),this.restSlugName=r,n="[...]"}}else{if(o)throw Error('Optional route parameters are not yet supported ("'+t[0]+'").');s(this.slugName,r),this.slugName=r,n="[]"}}this.children.has(n)||this.children.set(n,new r),this.children.get(n)._insert(t.slice(1),e,i)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function i(t){let e=new r;return t.forEach(t=>e.insert(t)),e.smoosh()}},45510:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){for(var r in e)Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}(e,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return v},NormalizeError:function(){return g},PageNotFoundError:function(){return m},SP:function(){return d},ST:function(){return f},WEB_VITALS:function(){return r},execOnce:function(){return i},getDisplayName:function(){return l},getLocationOrigin:function(){return o},getURL:function(){return a},isAbsoluteUrl:function(){return s},isResSent:function(){return u},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return c},stringifyError:function(){return y}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function i(t){let e,r=!1;return function(){for(var i=arguments.length,n=Array(i),s=0;s<i;s++)n[s]=arguments[s];return r||(r=!0,e=t(...n)),e}}let n=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=t=>n.test(t);function o(){let{protocol:t,hostname:e,port:r}=window.location;return t+"//"+e+(r?":"+r:"")}function a(){let{href:t}=window.location,e=o();return t.substring(e.length)}function l(t){return"string"==typeof t?t:t.displayName||t.name||"Unknown"}function u(t){return t.finished||t.headersSent}function c(t){let e=t.split("?");return e[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(e[1]?"?"+e.slice(1).join("?"):"")}async function h(t,e){let r=e.res||e.ctx&&e.ctx.res;if(!t.getInitialProps)return e.ctx&&e.Component?{pageProps:await h(e.Component,e.ctx)}:{};let i=await t.getInitialProps(e);if(r&&u(r))return i;if(!i)throw Error('"'+l(t)+'.getInitialProps()" should resolve to an object. But found "'+i+'" instead.');return i}let d="undefined"!=typeof performance,f=d&&["mark","measure","getEntriesByName"].every(t=>"function"==typeof performance[t]);class p extends Error{}class g extends Error{}class m extends Error{constructor(t){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+t}}class v extends Error{constructor(t,e){super(),this.message="Failed to load static file for page: "+t+" "+e}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function y(t){return JSON.stringify({message:t.message,stack:t.stack})}},20360:(t,e,r)=>{"use strict";var i=r(67335);function n(){}function s(){}s.resetWarningCache=n,t.exports=function(){function t(t,e,r,n,s,o){if(o!==i){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:n};return r.PropTypes=r,r}},53398:(t,e,r)=>{t.exports=r(20360)()},67335:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},41659:(t,e,r)=>{"use strict";/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var i=r(8570),n=r(18958),s=r(8697),o=r(15131);function a(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t}t.exports=function(t,e,r){if(!o(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),"string"!=typeof e))return t;for(var l=i(e,{sep:".",brackets:!0}).filter(a),u=l.length,c=-1,h=t;++c<u;){var d=l[c];if(c!==u-1){o(h[d])||(h[d]={}),h=h[d];continue}s(h[d])&&s(r)?h[d]=n({},h[d],r):h[d]=r}return t}},8570:(t,e,r)=>{"use strict";/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var i=r(2275);function n(t,e,r,i){var s=t.indexOf(e,r);return"\\"===t.charAt(s-1)?n(t,e,s+1):s}t.exports=function(t,e,r){if("string"!=typeof t)throw TypeError("expected a string");"function"==typeof e&&(r=e,e=null),"string"==typeof e&&(e={sep:e});var s,o,a=i({sep:"."},e),l=a.quotes||['"',"'","`"];!0===a.brackets?s={"<":">","(":")","[":"]","{":"}"}:a.brackets&&(s=a.brackets);var u=[],c=[],h=[""],d=a.sep,f=t.length,p=-1;function g(){if(s&&c.length)return s[c[c.length-1]]}for(;++p<f;){var m,v,b=t[p],y=t[p+1],x={val:b,idx:p,arr:h,str:t};if(u.push(x),"\\"===b){x.val=!0===(m=p,"function"==typeof a.keepEscaping?a.keepEscaping(t,m):!0===a.keepEscaping||"\\"===t[m+1])?b+y:y,x.escaped=!0,"function"==typeof r&&r(x),h[h.length-1]+=x.val,p++;continue}if(s&&s[b]){c.push(b);var w=g(),E=p+1;if(-1!==t.indexOf(w,E+1))for(;c.length&&E<f;){var _=t[++E];if("\\"===_){_++;continue}if(-1!==l.indexOf(_)){E=n(t,_,E+1);continue}if(w=g(),c.length&&-1===t.indexOf(w,E+1))break;if(s[_]){c.push(_);continue}w===_&&c.pop()}if(-1===(o=E)){h[h.length-1]+=b;continue}b=t.slice(p,o+1),x.val=b,x.idx=p=o}if(-1!==l.indexOf(b)){if(-1===(o=n(t,b,p+1))){h[h.length-1]+=b;continue}b=!0===(v=b,!0===a.keepDoubleQuotes&&'"'===v||!0===a.keepSingleQuotes&&"'"===v||a.keepQuotes)?t.slice(p,o+1):t.slice(p+1,o),x.val=b,x.idx=p=o}if("function"==typeof r&&(r(x,u),b=x.val,p=x.idx),x.val===d&&!1!==x.split){h.push("");continue}h[h.length-1]+=x.val}return h}},56486:t=>{function e(){}e.prototype={on:function(t,e,r){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var i=this;function n(){i.off(t,n),e.apply(r,arguments)}return n._=e,this.on(t,n,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),i=0,n=r.length;i<n;i++)r[i].fn.apply(r[i].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),i=r[t],n=[];if(i&&e)for(var s=0,o=i.length;s<o;s++)i[s].fn!==e&&i[s].fn._!==e&&n.push(i[s]);return n.length?r[t]=n:delete r[t],this}},t.exports=e,t.exports.TinyEmitter=e},74275:(t,e,r)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=r(15791),n=r(36648),s="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},o=n.useSyncExternalStore,a=i.useRef,l=i.useEffect,u=i.useMemo,c=i.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,r,i,n){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;var f=o(t,(h=u(function(){function t(t){if(!l){if(l=!0,o=t,t=i(t),void 0!==n&&d.hasValue){var e=d.value;if(n(e,t))return a=e}return a=t}if(e=a,s(o,t))return e;var r=i(t);return void 0!==n&&n(e,r)?e:(o=t,a=r)}var o,a,l=!1,u=void 0===r?null:r;return[function(){return t(e())},null===u?void 0:function(){return t(u())}]},[e,r,i,n]))[0],h[1]);return l(function(){d.hasValue=!0,d.value=f},[f]),c(f),f}},13444:(t,e,r)=>{"use strict";t.exports=r(74275)},16113:(t,e,r)=>{"use strict";r.d(e,{x0:()=>i});let i=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[t]];return e}},84391:(t,e,r)=>{"use strict";r.d(e,{V:()=>u});var i=r(22550),n=r(56957),s=r(18167);let o=new n.y,a=new s.A,l=new s.A;class u extends i.w{constructor(t,{near:e=.1,far:r=100,fov:i=45,aspect:o=1,left:a,right:l,bottom:u,top:c,zoom:h=1}={}){super(),Object.assign(this,{near:e,far:r,fov:i,aspect:o,left:a,right:l,bottom:u,top:c,zoom:h}),this.projectionMatrix=new n.y,this.viewMatrix=new n.y,this.projectionViewMatrix=new n.y,this.worldPosition=new s.A,this.type=a||l?"orthographic":"perspective","orthographic"===this.type?this.orthographic():this.perspective()}perspective({near:t=this.near,far:e=this.far,fov:r=this.fov,aspect:i=this.aspect}={}){return Object.assign(this,{near:t,far:e,fov:r,aspect:i}),this.projectionMatrix.fromPerspective({fov:Math.PI/180*r,aspect:i,near:t,far:e}),this.type="perspective",this}orthographic({near:t=this.near,far:e=this.far,left:r=this.left||-1,right:i=this.right||1,bottom:n=this.bottom||-1,top:s=this.top||1,zoom:o=this.zoom}={}){return Object.assign(this,{near:t,far:e,left:r,right:i,bottom:n,top:s,zoom:o}),r/=o,i/=o,n/=o,s/=o,this.projectionMatrix.fromOrthogonal({left:r,right:i,bottom:n,top:s,near:t,far:e}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(o.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new s.A,new s.A,new s.A,new s.A,new s.A,new s.A]);let t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let t=0;t<6;t++){let e=1/this.frustum[t].distance();this.frustum[t].multiply(e),this.frustum[t].constant*=e}}frustumIntersectsMesh(t,e=t.worldMatrix){if(!t.geometry.attributes.position||(t.geometry.bounds&&t.geometry.bounds.radius!==1/0||t.geometry.computeBoundingSphere(),!t.geometry.bounds))return!0;a.copy(t.geometry.bounds.center),a.applyMatrix4(e);let r=t.geometry.bounds.radius*e.getMaxScaleOnAxis();return this.frustumIntersectsSphere(a,r)}frustumIntersectsSphere(t,e){for(let r=0;r<6;r++){let i=this.frustum[r];if(l.copy(i).dot(t)+i.constant<-e)return!1}return!0}}},784:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});var i=r(18167);let n=new i.A,s=1,o=1,a=!1;class l{constructor(t,e={}){for(let r in t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=s++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state,e)this.addAttribute(r,e[r])}addAttribute(t,e){if(this.attributes[t]=e,e.id=o++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else"index"===t?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){let e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((t,{name:e,type:r})=>{if(!this.attributes[e]){console.warn(`active attribute ${e} not being supplied`);return}let i=this.attributes[e];this.gl.bindBuffer(i.target,i.buffer),this.glState.boundBuffer=i.buffer;let n=1;35674===r&&(n=2),35675===r&&(n=3),35676===r&&(n=4);let s=i.size/n,o=1===n?0:n*n*4,a=1===n?0:4*n;for(let e=0;e<n;e++)this.gl.vertexAttribPointer(t+e,s,i.type,i.normalized,i.stride+o,i.offset+e*a),this.gl.enableVertexAttribArray(t+e),this.gl.renderer.vertexAttribDivisor(t+e,i.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((t,{name:e})=>{let r=this.attributes[e];r.needsUpdate&&this.updateAttribute(r)});let r=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){let t=this.attributes.position;return t.data?t:a?void 0:(console.warn("No position buffer data found to compute bounds"),a=!0)}computeBoundingBox(t){t||(t=this.getPosition());let e=t.data,r=t.size;this.bounds||(this.bounds={min:new i.A,max:new i.A,center:new i.A,scale:new i.A,radius:1/0});let n=this.bounds.min,s=this.bounds.max,o=this.bounds.center,a=this.bounds.scale;n.set(Infinity),s.set(-1/0);for(let t=0,i=e.length;t<i;t+=r){let r=e[t],i=e[t+1],o=e[t+2];n.x=Math.min(r,n.x),n.y=Math.min(i,n.y),n.z=Math.min(o,n.z),s.x=Math.max(r,s.x),s.y=Math.max(i,s.y),s.z=Math.max(o,s.z)}a.sub(s,n),o.add(n,s).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());let e=t.data,r=t.size;this.bounds||this.computeBoundingBox(t);let i=0;for(let t=0,s=e.length;t<s;t+=r)n.fromArray(e,t),i=Math.max(i,this.bounds.center.squaredDistance(n));this.bounds.radius=Math.sqrt(i)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}},930:(t,e,r)=>{"use strict";r.d(e,{K:()=>a});var i=r(22550),n=r(78604),s=r(56957);let o=0;class a extends i.w{constructor(t,{geometry:e,program:r,mode:i=t.TRIANGLES,frustumCulled:a=!0,renderOrder:l=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=o++,this.geometry=e,this.program=r,this.mode=i,this.frustumCulled=a,this.renderOrder=l,this.modelViewMatrix=new s.y,this.normalMatrix=new n.T,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(e=>e&&e({mesh:this,camera:t}));let e=this.program.cullFace&&0>this.worldMatrix.determinant();this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(e=>e&&e({mesh:this,camera:t}))}}},77726:(t,e,r)=>{"use strict";r.d(e,{$:()=>s});let i=1,n={};class s{constructor(t,{vertex:e,fragment:r,uniforms:n={},transparent:s=!1,cullFace:o=t.BACK,frontFace:a=t.CCW,depthTest:l=!0,depthWrite:u=!0,depthFunc:c=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=n,this.id=i++,e||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=o,this.frontFace=a,this.depthTest=l,this.depthWrite=u,this.depthFunc=c,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:e,fragment:r})}setShaders({vertex:t,fragment:e}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),""!==this.gl.getShaderInfoLog(this.vertexShader)&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${a(t)}`)),e&&(this.gl.shaderSource(this.fragmentShader,e),this.gl.compileShader(this.fragmentShader),""!==this.gl.getShaderInfoLog(this.fragmentShader)&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${a(e)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let t=0;t<r;t++){let e=this.gl.getActiveUniform(this.program,t);this.uniformLocations.set(e,this.gl.getUniformLocation(this.program,e.name));let r=e.name.match(/(\w+)/g);e.uniformName=r[0],e.nameComponents=r.slice(1)}this.attributeLocations=new Map;let i=[],n=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let t=0;t<n;t++){let e=this.gl.getActiveAttrib(this.program,t),r=this.gl.getAttribLocation(this.program,e.name);-1!==r&&(i[r]=e.name,this.attributeLocations.set(e,r))}this.attributeOrder=i.join("")}setBlendFunc(t,e,r,i){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram!==this.id&&(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((t,r)=>{let i=this.uniforms[r.uniformName];for(let t of r.nameComponents){if(!i)break;if(t in i)i=i[t];else if(Array.isArray(i.value))break;else{i=void 0;break}}if(!i)return u(`Active uniform ${r.name} has not been supplied`);if(i&&void 0===i.value)return u(`${r.name} uniform is missing a value parameter`);if(i.value.texture)return e+=1,i.value.update(e),o(this.gl,r.type,t,e);if(i.value.length&&i.value[0].texture){let n=[];return i.value.forEach(t=>{e+=1,t.update(e),n.push(e)}),o(this.gl,r.type,t,n)}o(this.gl,r.type,t,i.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function o(t,e,r,i){i=i.length?function(t){let e=t.length,r=t[0].length;if(void 0===r)return t;let i=e*r,s=n[i];s||(n[i]=s=new Float32Array(i));for(let i=0;i<e;i++)s.set(t[i],i*r);return s}(i):i;let s=t.renderer.state.uniformLocations.get(r);if(i.length){if(void 0===s||s.length!==i.length)t.renderer.state.uniformLocations.set(r,i.slice(0));else{if(function(t,e){if(t.length!==e.length)return!1;for(let r=0,i=t.length;r<i;r++)if(t[r]!==e[r])return!1;return!0}(s,i))return;s.set?s.set(i):function(t,e){for(let r=0,i=t.length;r<i;r++)t[r]=e[r]}(s,i),t.renderer.state.uniformLocations.set(r,s)}}else{if(s===i)return;t.renderer.state.uniformLocations.set(r,i)}switch(e){case 5126:return i.length?t.uniform1fv(r,i):t.uniform1f(r,i);case 35664:return t.uniform2fv(r,i);case 35665:return t.uniform3fv(r,i);case 35666:return t.uniform4fv(r,i);case 35670:case 5124:case 35678:case 35680:return i.length?t.uniform1iv(r,i):t.uniform1i(r,i);case 35671:case 35667:return t.uniform2iv(r,i);case 35672:case 35668:return t.uniform3iv(r,i);case 35673:case 35669:return t.uniform4iv(r,i);case 35674:return t.uniformMatrix2fv(r,!1,i);case 35675:return t.uniformMatrix3fv(r,!1,i);case 35676:return t.uniformMatrix4fv(r,!1,i)}}function a(t){let e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}let l=0;function u(t){!(l>100)&&(console.warn(t),++l>100&&console.warn("More than 100 program warnings - stopping logs."))}},87213:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(47822);class n{constructor(t,{width:e=t.canvas.width,height:r=t.canvas.height,target:n=t.FRAMEBUFFER,color:s=1,depth:o=!0,stencil:a=!1,depthTexture:l=!1,wrapS:u=t.CLAMP_TO_EDGE,wrapT:c=t.CLAMP_TO_EDGE,minFilter:h=t.LINEAR,magFilter:d=h,type:f=t.UNSIGNED_BYTE,format:p=t.RGBA,internalFormat:g=p,unpackAlignment:m,premultiplyAlpha:v}={}){this.gl=t,this.width=e,this.height=r,this.depth=o,this.buffer=this.gl.createFramebuffer(),this.target=n,this.gl.renderer.bindFramebuffer(this),this.textures=[];let b=[];for(let n=0;n<s;n++)this.textures.push(new i.x(t,{width:e,height:r,wrapS:u,wrapT:c,minFilter:h,magFilter:d,type:f,format:p,internalFormat:g,unpackAlignment:m,premultiplyAlpha:v,flipY:!1,generateMipmaps:!1})),this.textures[n].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+n,this.gl.TEXTURE_2D,this.textures[n].texture,0),b.push(this.gl.COLOR_ATTACHMENT0+n);b.length>1&&this.gl.renderer.drawBuffers(b),this.texture=this.textures[0],l&&(this.gl.renderer.isWebgl2||this.gl.renderer.getExtension("WEBGL_depth_texture"))?(this.depthTexture=new i.x(t,{width:e,height:r,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,format:this.gl.DEPTH_COMPONENT,internalFormat:t.renderer.isWebgl2?this.gl.DEPTH_COMPONENT16:this.gl.DEPTH_COMPONENT,type:this.gl.UNSIGNED_INT}),this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(o&&!a&&(this.depthBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,e,r),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.RENDERBUFFER,this.depthBuffer)),a&&!o&&(this.stencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,e,r),this.gl.framebufferRenderbuffer(this.target,this.gl.STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.stencilBuffer)),o&&a&&(this.depthStencilBuffer=this.gl.createRenderbuffer(),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,e,r),this.gl.framebufferRenderbuffer(this.target,this.gl.DEPTH_STENCIL_ATTACHMENT,this.gl.RENDERBUFFER,this.depthStencilBuffer))),this.gl.renderer.bindFramebuffer({target:this.target})}setSize(t,e){if(this.width!==t||this.height!==e){this.width=t,this.height=e,this.gl.renderer.bindFramebuffer(this);for(let r=0;r<this.textures.length;r++)this.textures[r].width=t,this.textures[r].height=e,this.textures[r].needsUpdate=!0,this.textures[r].update(),this.gl.framebufferTexture2D(this.target,this.gl.COLOR_ATTACHMENT0+r,this.gl.TEXTURE_2D,this.textures[r].texture,0);this.depthTexture?(this.depthTexture.width=t,this.depthTexture.height=e,this.depthTexture.needsUpdate=!0,this.depthTexture.update(),this.gl.framebufferTexture2D(this.target,this.gl.DEPTH_ATTACHMENT,this.gl.TEXTURE_2D,this.depthTexture.texture,0)):(this.depthBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_COMPONENT16,t,e)),this.stencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.stencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.STENCIL_INDEX8,t,e)),this.depthStencilBuffer&&(this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,this.depthStencilBuffer),this.gl.renderbufferStorage(this.gl.RENDERBUFFER,this.gl.DEPTH_STENCIL,t,e))),this.gl.renderer.bindFramebuffer({target:this.target})}}}},88384:(t,e,r)=>{"use strict";r.d(e,{T:()=>s});let i=new(r(18167)).A,n=1;class s{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:r=150,dpr:i=1,alpha:s=!1,depth:o=!0,stencil:a=!1,antialias:l=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:c=!1,powerPreference:h="default",autoClear:d=!0,webgl:f=2}={}){let p={alpha:s,depth:o,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:h};this.dpr=i,this.alpha=s,this.color=!0,this.depth=o,this.stencil=a,this.premultipliedAlpha=u,this.autoClear=d,this.id=n++,2===f&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e,r=0,i=0){(this.state.viewport.width!==t||this.state.viewport.height!==e)&&(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,t,e))}setScissor(t,e,r=0,i=0){this.gl.scissor(r,i,t,e)}enable(t){!0!==this.state[t]&&(this.gl.enable(t),this.state[t]=!0)}disable(t){!1!==this.state[t]&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,r,i){(this.state.blendFunc.src!==t||this.state.blendFunc.dst!==e||this.state.blendFunc.srcAlpha!==r||this.state.blendFunc.dstAlpha!==i)&&(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,void 0!==r?this.gl.blendFuncSeparate(t,e,r,i):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,(this.state.blendEquation.modeRGB!==t||this.state.blendEquation.modeAlpha!==e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,void 0!==e?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,r){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e)?this.extensions[t]?this.extensions[t][r].bind(this.extensions[t]):null:this.extensions[t]}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:r,sort:n}){let s=[];if(e&&r&&e.updateFrustum(),t.traverse(t=>{if(!t.visible)return!0;if(t.draw){if(r&&t.frustumCulled&&e&&!e.frustumIntersectsMesh(t))return;s.push(t)}}),n){let t=[],r=[],n=[];s.forEach(s=>{s.program.transparent?s.program.depthTest?r.push(s):n.push(s):t.push(s),s.zDepth=0,0===s.renderOrder&&s.program.depthTest&&e&&(s.worldMatrix.getTranslation(i),i.applyMatrix4(e.projectionViewMatrix),s.zDepth=i.z)}),t.sort(this.sortOpaque),r.sort(this.sortTransparent),n.sort(this.sortUI),s=t.concat(r,n)}return s}render({scene:t,camera:e,target:r=null,update:i=!0,sort:n=!0,frustumCull:s=!0,clear:o}){null===r?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(o||this.autoClear&&!1!==o)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:s,sort:n}).forEach(t=>{t.draw({camera:e})})}}},47822:(t,e,r)=>{"use strict";r.d(e,{x:()=>s});let i=new Uint8Array(4),n=1;class s{constructor(t,{image:e,target:r=t.TEXTURE_2D,type:i=t.UNSIGNED_BYTE,format:s=t.RGBA,internalFormat:o=s,wrapS:a=t.CLAMP_TO_EDGE,wrapT:l=t.CLAMP_TO_EDGE,generateMipmaps:u=!0,minFilter:c=u?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:h=t.LINEAR,premultiplyAlpha:d=!1,unpackAlignment:f=4,flipY:p=r==t.TEXTURE_2D,anisotropy:g=0,level:m=0,width:v,height:b=v}={}){this.gl=t,this.id=n++,this.image=e,this.target=r,this.type=i,this.format=s,this.internalFormat=o,this.minFilter=c,this.magFilter=h,this.wrapS=a,this.wrapT=l,this.generateMipmaps=u,this.premultiplyAlpha=d,this.unpackAlignment=f,this.flipY=p,this.anisotropy=Math.min(g,this.gl.renderer.parameters.maxAnisotropy),this.level=m,this.width=v,this.height=b,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){let e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,this.level,this.internalFormat,this.format,this.type,this.image[t]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let t=0;t<this.image.length;t++)this.gl.compressedTexImage2D(this.target,t,this.internalFormat,this.image[t].width,this.image[t].height,0,this.image[t].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);if(this.generateMipmaps){var r,n;this.gl.renderer.isWebgl2||((r=this.image.width)&r-1)==0&&((n=this.image.height)&n-1)==0?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)}this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,i);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,i);this.store.image=this.image}}}},22550:(t,e,r)=>{"use strict";r.d(e,{w:()=>a});var i=r(18167),n=r(8211),s=r(56957),o=r(31984);class a{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new s.y,this.worldMatrix=new s.y,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new i.A,this.quaternion=new n.D,this.scale=new i.A(1),this.rotation=new o.U,this.up=new i.A(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,r=this.children.length;e<r;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,r=this.children.length;e<r;e++)this.children[e].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}},13355:(t,e,r)=>{"use strict";r.d(e,{h:()=>l});var i=r(87213),n=r(77726),s=r(930),o=r(36187),a=r(37302);class l{constructor(t,{size:e=128,falloff:r=.3,alpha:l=1,dissipation:h=.98,type:d}={}){let f=this;this.gl=t,this.uniform={value:null},this.mask={read:null,write:null,swap:()=>{let t=f.mask.read;f.mask.read=f.mask.write,f.mask.write=t,f.uniform.value=f.mask.read.texture}},function(){d||(d=t.HALF_FLOAT||t.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES);let r=t.renderer.isWebgl2||t.renderer.extensions[`OES_texture_${d===t.FLOAT?"":"half_"}float_linear`]?t.LINEAR:t.NEAREST,n={width:e,height:e,type:d,format:t.RGBA,internalFormat:t.renderer.isWebgl2?d===t.FLOAT?t.RGBA32F:t.RGBA16F:t.RGBA,minFilter:r,depth:!1};f.mask.read=new i.A(t,n),f.mask.write=new i.A(t,n),f.mask.swap()}(),this.aspect=1,this.mouse=new o.S,this.velocity=new o.S,this.mesh=new s.K(t,{geometry:new a.C(t),program:new n.$(t,{vertex:u,fragment:c,uniforms:{tMap:f.uniform,uFalloff:{value:.5*r},uAlpha:{value:l},uDissipation:{value:h},uAspect:{value:1},uMouse:{value:f.mouse},uVelocity:{value:f.velocity}},depthTest:!1})})}update(){this.mesh.program.uniforms.uAspect.value=this.aspect,this.gl.renderer.render({scene:this.mesh,target:this.mask.write,clear:!1}),this.mask.swap()}}let u=`
    attribute vec2 uv;
    attribute vec2 position;

    varying vec2 vUv;

    void main() {
        vUv = uv;
        gl_Position = vec4(position, 0, 1);
    }
`,c=`
    precision highp float;

    uniform sampler2D tMap;

    uniform float uFalloff;
    uniform float uAlpha;
    uniform float uDissipation;
    
    uniform float uAspect;
    uniform vec2 uMouse;
    uniform vec2 uVelocity;

    varying vec2 vUv;

    void main() {
        vec4 color = texture2D(tMap, vUv) * uDissipation;

        vec2 cursor = vUv - uMouse;
        cursor.x *= uAspect;

        vec3 stamp = vec3(uVelocity * vec2(1, -1), 1.0 - pow(1.0 - min(1.0, length(uVelocity)), 3.0));
        float falloff = smoothstep(uFalloff, 0.0, length(cursor)) * uAlpha;

        color.rgb = mix(color.rgb, stamp, vec3(falloff));

        gl_FragColor = color;
    }
`},11990:(t,e,r)=>{"use strict";r.d(e,{Q:()=>l});var i=r(77726),n=r(930),s=r(47822),o=r(87213),a=r(37302);class l{constructor(t,{data:e=new Float32Array(16),geometry:r=new a.C(t),type:i}){this.gl=t,this.passes=[],this.geometry=r,this.dataLength=e.length/4,this.size=Math.pow(2,Math.ceil(Math.log(Math.ceil(Math.sqrt(this.dataLength)))/Math.LN2)),this.coords=new Float32Array(2*this.dataLength);for(let t=0;t<this.dataLength;t++){let e=t%this.size/this.size,r=Math.floor(t/this.size)/this.size;this.coords.set([e,r],2*t)}let n=(()=>{if(e.length===this.size*this.size*4)return e;{let t=new Float32Array(this.size*this.size*4);return t.set(e),t}})();this.uniform={value:new s.x(t,{image:n,target:t.TEXTURE_2D,type:t.FLOAT,format:t.RGBA,internalFormat:t.renderer.isWebgl2?t.RGBA32F:t.RGBA,wrapS:t.CLAMP_TO_EDGE,wrapT:t.CLAMP_TO_EDGE,generateMipmaps:!1,minFilter:t.NEAREST,magFilter:t.NEAREST,width:this.size,flipY:!1})};let l={width:this.size,height:this.size,type:i||t.HALF_FLOAT||t.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES,format:t.RGBA,internalFormat:t.renderer.isWebgl2?i===t.FLOAT?t.RGBA32F:t.RGBA16F:t.RGBA,minFilter:t.NEAREST,depth:!1,unpackAlignment:1};this.fbo={read:new o.A(t,l),write:new o.A(t,l),swap:()=>{let t=this.fbo.read;this.fbo.read=this.fbo.write,this.fbo.write=t,this.uniform.value=this.fbo.read.texture}}}addPass({vertex:t=u,fragment:e=c,uniforms:r={},textureUniform:s="tMap",enabled:o=!0}={}){r[s]=this.uniform;let a=new i.$(this.gl,{vertex:t,fragment:e,uniforms:r}),l={mesh:new n.K(this.gl,{geometry:this.geometry,program:a}),program:a,uniforms:r,enabled:o,textureUniform:s};return this.passes.push(l),l}render(){this.passes.filter(t=>t.enabled).forEach((t,e)=>{this.gl.renderer.render({scene:t.mesh,target:this.fbo.write,clear:!1}),this.fbo.swap()})}}let u=`
    attribute vec2 uv;
    attribute vec2 position;

    varying vec2 vUv;

    void main() {
        vUv = uv;
        gl_Position = vec4(position, 0, 1);
    }
`,c=`
    precision highp float;

    uniform sampler2D tMap;
    varying vec2 vUv;

    void main() {
        gl_FragColor = texture2D(tMap, vUv);
    }
`},63669:(t,e,r)=>{"use strict";r.d(e,{o:()=>n});var i=r(47822);class n extends i.x{constructor(t,{buffer:e,wrapS:r=t.CLAMP_TO_EDGE,wrapT:i=t.CLAMP_TO_EDGE,anisotropy:n=0,minFilter:s,magFilter:o}={}){if(super(t,{generateMipmaps:!1,wrapS:r,wrapT:i,anisotropy:n,minFilter:s,magFilter:o}),e)return this.parseBuffer(e)}parseBuffer(t){let e=new s(t);e.mipmaps.isCompressedTexture=!0,this.image=e.mipmaps,this.internalFormat=e.glInternalFormat,e.numberOfMipmapLevels>1?this.minFilter===this.gl.LINEAR&&(this.minFilter=this.gl.NEAREST_MIPMAP_LINEAR):this.minFilter===this.gl.NEAREST_MIPMAP_LINEAR&&(this.minFilter=this.gl.LINEAR)}}function s(t){let e=[171,75,84,88,32,49,49,187,13,10,26,10],r=new Uint8Array(t,0,12);for(let t=0;t<r.length;t++)if(r[t]!==e[t])return console.error("File missing KTX identifier");let i=Uint32Array.BYTES_PER_ELEMENT,n=new DataView(t,12,13*i),s=67305985===n.getUint32(0,!0);if(0!==n.getUint32(1*i,s))return console.warn("only compressed formats currently supported");this.glInternalFormat=n.getUint32(4*i,s);let o=n.getUint32(6*i,s),a=n.getUint32(7*i,s);this.numberOfFaces=n.getUint32(10*i,s),this.numberOfMipmapLevels=Math.max(1,n.getUint32(11*i,s));let l=n.getUint32(12*i,s);this.mipmaps=[];let u=64+l;for(let e=0;e<this.numberOfMipmapLevels;e++){let e=new Int32Array(t,u,1)[0];u+=4;for(let r=0;r<this.numberOfFaces;r++){let r=new Uint8Array(t,u,e);this.mipmaps.push({data:r,width:o,height:a}),u+=e+(3-(e+3)%4)}o>>=1,a>>=1}}},47845:(t,e,r)=>{"use strict";r.d(e,{h:()=>o});var i=r(77726);let n=`
    precision highp float;
    precision highp int;

    attribute vec3 position;
    attribute vec3 normal;

    uniform mat3 normalMatrix;
    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    varying vec3 vNormal;

    void main() {
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
`,s=`
    precision highp float;
    precision highp int;

    varying vec3 vNormal;

    void main() {
        gl_FragColor.rgb = normalize(vNormal);
        gl_FragColor.a = 1.0;
    }
`;function o(t){return new i.$(t,{vertex:n,fragment:s,cullFace:!1})}},68696:(t,e,r)=>{"use strict";r.d(e,{q:()=>u});var i=r(18167),n=r(36187);let s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,DOLLY_PAN:3},o=new i.A,a=new n.S,l=new n.S;function u(t,{element:e=document,enabled:r=!0,target:u=new i.A,ease:c=.25,inertia:h=.85,enableRotate:d=!0,rotateSpeed:f=.1,autoRotate:p=!1,autoRotateSpeed:g=1,enableZoom:m=!0,zoomSpeed:v=1,zoomStyle:b="dolly",enablePan:y=!0,panSpeed:x=.1,minPolarAngle:w=0,maxPolarAngle:E=Math.PI,minAzimuthAngle:_=-1/0,maxAzimuthAngle:A=1/0,minDistance:S=0,maxDistance:M=1/0}={}){this.enabled=r,this.target=u,this.zoomStyle=b,c=c||1,h=h||0,this.minDistance=S,this.maxDistance=M;let T={radius:1,phi:0,theta:0},R={radius:1,phi:0,theta:0},O={radius:1,phi:0,theta:0},P=new i.A,C=new i.A;C.copy(t.position).sub(this.target),O.radius=R.radius=C.distance(),O.theta=R.theta=Math.atan2(C.x,C.z),O.phi=R.phi=Math.acos(Math.min(Math.max(C.y/R.radius,-1),1)),this.offset=C,this.update=()=>{p&&(T.theta-=2*Math.PI/60/60*g),R.radius*=T.radius,R.theta+=T.theta,R.phi+=T.phi,R.theta=Math.max(_,Math.min(A,R.theta)),R.phi=Math.max(w,Math.min(E,R.phi)),R.radius=Math.max(this.minDistance,Math.min(this.maxDistance,R.radius)),O.phi+=(R.phi-O.phi)*c,O.theta+=(R.theta-O.theta)*c,O.radius+=(R.radius-O.radius)*c,this.target.add(P);let e=O.radius*Math.sin(Math.max(1e-6,O.phi));C.x=e*Math.sin(O.theta),C.y=O.radius*Math.cos(O.phi),C.z=e*Math.cos(O.theta),t.position.copy(this.target).add(C),t.lookAt(this.target),T.theta*=h,T.phi*=h,P.multiply(h),T.radius=1},this.forcePosition=()=>{C.copy(t.position).sub(this.target),O.radius=R.radius=C.distance(),O.theta=R.theta=Math.atan2(C.x,C.z),O.phi=R.phi=Math.acos(Math.min(Math.max(C.y/R.radius,-1),1)),t.lookAt(this.target)};let k=new n.S,I=new n.S,F=new n.S,N=s.NONE;function j(){return Math.pow(.95,v)}this.mouseButtons={ORBIT:0,ZOOM:1,PAN:2};let L=(r,i)=>{var n,s,a,l;let u=e===document?document.body:e;o.copy(t.position).sub(this.target);let c=o.distance();c*=Math.tan((t.fov||45)/2*Math.PI/180),n=2*r*c/u.clientHeight,s=t.matrix,o.set(s[0],s[1],s[2]),o.multiply(-n),P.add(o),a=2*i*c/u.clientHeight,l=t.matrix,o.set(l[4],l[5],l[6]),o.multiply(a),P.add(o)},$=e=>{"dolly"===this.zoomStyle?T.radius/=e:(t.fov/=e,"orthographic"===t.type?t.orthographic():t.perspective())};function D(t,r){a.set(t,r),l.sub(a,k).multiply(f);let i=e===document?document.body:e;T.theta-=2*Math.PI*l.x/i.clientHeight,T.phi-=2*Math.PI*l.y/i.clientHeight,k.copy(a)}function z(t,e){a.set(t,e),l.sub(a,I).multiply(x),L(l.x,l.y),I.copy(a)}let B=t=>{if(this.enabled){switch(t.button){case this.mouseButtons.ORBIT:if(!1===d)return;k.set(t.clientX,t.clientY),N=s.ROTATE;break;case this.mouseButtons.ZOOM:if(!1===m)return;F.set(t.clientX,t.clientY),N=s.DOLLY;break;case this.mouseButtons.PAN:if(!1===y)return;I.set(t.clientX,t.clientY),N=s.PAN}N!==s.NONE&&(window.addEventListener("mousemove",U,!1),window.addEventListener("mouseup",W,!1))}},U=t=>{if(this.enabled)switch(N){case s.ROTATE:if(!1===d)return;D(t.clientX,t.clientY);break;case s.DOLLY:if(!1===m)return;a.set(t.clientX,t.clientY),l.sub(a,F),l.y>0?$(j()):l.y<0&&$(1/j()),F.copy(a);break;case s.PAN:if(!1===y)return;z(t.clientX,t.clientY)}},W=()=>{window.removeEventListener("mousemove",U,!1),window.removeEventListener("mouseup",W,!1),N=s.NONE},V=t=>{this.enabled&&m&&(N===s.NONE||N===s.ROTATE)&&(t.stopPropagation(),t.preventDefault(),t.deltaY<0?$(1/j()):t.deltaY>0&&$(j()))},H=t=>{if(this.enabled)switch(t.preventDefault(),t.touches.length){case 1:if(!1===d)return;k.set(t.touches[0].pageX,t.touches[0].pageY),N=s.ROTATE;break;case 2:if(!1===m&&!1===y)return;!function(t){if(m){let e=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY;F.set(0,Math.sqrt(e*e+r*r))}if(y){let e=.5*(t.touches[0].pageX+t.touches[1].pageX),r=.5*(t.touches[0].pageY+t.touches[1].pageY);I.set(e,r)}}(t),N=s.DOLLY_PAN;break;default:N=s.NONE}},G=t=>{if(this.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===d)return;D(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!1===m&&!1===y)return;!function(t){if(m){let e=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY;a.set(0,Math.sqrt(e*e+r*r)),l.set(0,Math.pow(a.y/F.y,v)),$(l.y),F.copy(a)}y&&z(.5*(t.touches[0].pageX+t.touches[1].pageX),.5*(t.touches[0].pageY+t.touches[1].pageY))}(t);break;default:N=s.NONE}},Y=()=>{this.enabled&&(N=s.NONE)},X=t=>{this.enabled&&t.preventDefault()};this.remove=function(){e.removeEventListener("contextmenu",X),e.removeEventListener("mousedown",B),e.removeEventListener("wheel",V),e.removeEventListener("touchstart",H),e.removeEventListener("touchend",Y),e.removeEventListener("touchmove",G),window.removeEventListener("mousemove",U),window.removeEventListener("mouseup",W)},e.addEventListener("contextmenu",X,!1),e.addEventListener("mousedown",B,!1),e.addEventListener("wheel",V,{passive:!1}),e.addEventListener("touchstart",H,{passive:!1}),e.addEventListener("touchend",Y,!1),e.addEventListener("touchmove",G,{passive:!1})}},5870:(t,e,r)=>{"use strict";r.d(e,{J:()=>n});var i=r(784);class n extends i.Z{constructor(t,{width:e=1,height:r=1,widthSegments:i=1,heightSegments:s=1,attributes:o={}}={}){let a=(i+1)*(s+1),l=i*s*6,u=new Float32Array(3*a),c=new Float32Array(3*a),h=new Float32Array(2*a),d=l>65536?new Uint32Array(l):new Uint16Array(l);n.buildPlane(u,c,h,d,e,r,0,i,s),Object.assign(o,{position:{size:3,data:u},normal:{size:3,data:c},uv:{size:2,data:h},index:{data:d}}),super(t,o)}static buildPlane(t,e,r,i,n,s,o,a,l,u=0,c=1,h=2,d=1,f=-1,p=0,g=0){let m=p,v=n/a,b=s/l;for(let y=0;y<=l;y++){let x=y*b-s/2;for(let s=0;s<=a;s++,p++){let b=s*v-n/2;if(t[3*p+u]=b*d,t[3*p+c]=x*f,t[3*p+h]=o/2,e[3*p+u]=0,e[3*p+c]=0,e[3*p+h]=o>=0?1:-1,r[2*p]=s/a,r[2*p+1]=1-y/l,y===l||s===a)continue;let w=m+s+y*(a+1),E=m+s+(y+1)*(a+1),_=m+s+(y+1)*(a+1)+1,A=m+s+y*(a+1)+1;i[6*g]=w,i[6*g+1]=E,i[6*g+2]=A,i[6*g+3]=E,i[6*g+4]=_,i[6*g+5]=A,g++}}}}},57134:(t,e,r)=>{"use strict";r.d(e,{a:()=>c});var i=r(784),n=r(77726),s=r(930),o=r(36187),a=r(18167),l=r(28027);let u=new a.A;class c{constructor(t,{points:e,vertex:r=h,fragment:a=d,uniforms:u={},attributes:c={}}){this.gl=t,this.points=e,this.count=e.length,this.position=new Float32Array(6*this.count),this.prev=new Float32Array(6*this.count),this.next=new Float32Array(6*this.count);let f=new Float32Array(2*this.count),p=new Float32Array(4*this.count),g=new Uint16Array((this.count-1)*6);for(let t=0;t<this.count;t++){f.set([-1,1],2*t);let e=t/(this.count-1);if(p.set([0,e,1,e],4*t),t===this.count-1)continue;let r=2*t;g.set([r+0,r+1,r+2],(r+0)*3),g.set([r+2,r+1,r+3],(r+1)*3)}let m=this.geometry=new i.Z(t,Object.assign(c,{position:{size:3,data:this.position},prev:{size:3,data:this.prev},next:{size:3,data:this.next},side:{size:1,data:f},uv:{size:2,data:p},index:{size:1,data:g}}));this.updateGeometry(),u.uResolution||(this.resolution=u.uResolution={value:new o.S}),u.uDPR||(this.dpr=u.uDPR={value:1}),u.uThickness||(this.thickness=u.uThickness={value:1}),u.uColor||(this.color=u.uColor={value:new l.I("#000")}),u.uMiter||(this.miter=u.uMiter={value:1}),this.resize();let v=this.program=new n.$(t,{vertex:r,fragment:a,uniforms:u});this.mesh=new s.K(t,{geometry:m,program:v})}updateGeometry(){this.points.forEach((t,e)=>{t.toArray(this.position,6*e),t.toArray(this.position,6*e+3),e?(t.toArray(this.next,(e-1)*6),t.toArray(this.next,(e-1)*6+3)):(u.copy(t).sub(this.points[e+1]).add(t),u.toArray(this.prev,6*e),u.toArray(this.prev,6*e+3)),e===this.points.length-1?(u.copy(t).sub(this.points[e-1]).add(t),u.toArray(this.next,6*e),u.toArray(this.next,6*e+3)):(t.toArray(this.prev,(e+1)*6),t.toArray(this.prev,(e+1)*6+3))}),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.prev.needsUpdate=!0,this.geometry.attributes.next.needsUpdate=!0}resize(){this.resolution&&this.resolution.value.set(this.gl.canvas.width,this.gl.canvas.height),this.dpr&&(this.dpr.value=this.gl.renderer.dpr)}}let h=`
    precision highp float;

    attribute vec3 position;
    attribute vec3 next;
    attribute vec3 prev;
    attribute vec2 uv;
    attribute float side;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    uniform vec2 uResolution;
    uniform float uDPR;
    uniform float uThickness;
    uniform float uMiter;

    varying vec2 vUv;

    vec4 getPosition() {
        mat4 mvp = projectionMatrix * modelViewMatrix;
        vec4 current = mvp * vec4(position, 1);
        vec4 nextPos = mvp * vec4(next, 1);
        vec4 prevPos = mvp * vec4(prev, 1);

        vec2 aspect = vec2(uResolution.x / uResolution.y, 1);    
        vec2 currentScreen = current.xy / current.w * aspect;
        vec2 nextScreen = nextPos.xy / nextPos.w * aspect;
        vec2 prevScreen = prevPos.xy / prevPos.w * aspect;
    
        vec2 dir1 = normalize(currentScreen - prevScreen);
        vec2 dir2 = normalize(nextScreen - currentScreen);
        vec2 dir = normalize(dir1 + dir2);
    
        vec2 normal = vec2(-dir.y, dir.x);
        normal /= mix(1.0, max(0.3, dot(normal, vec2(-dir1.y, dir1.x))), uMiter);
        normal /= aspect;

        float pixelWidthRatio = 1.0 / (uResolution.y / uDPR);
        float pixelWidth = current.w * pixelWidthRatio;
        normal *= pixelWidth * uThickness;
        current.xy -= normal * side;
    
        return current;
    }

    void main() {
        vUv = uv;
        gl_Position = getPosition();
    }
`,d=`
    precision highp float;

    uniform vec3 uColor;
    
    varying vec2 vUv;

    void main() {
        gl_FragColor.rgb = uColor;
        gl_FragColor.a = 1.0;
    }
`},55886:(t,e,r)=>{"use strict";r.d(e,{S:()=>a});var i=r(77726),n=r(930),s=r(87213),o=r(37302);class a{constructor(t,{width:e,height:r,dpr:i,wrapS:n=t.CLAMP_TO_EDGE,wrapT:a=t.CLAMP_TO_EDGE,minFilter:l=t.LINEAR,magFilter:u=t.LINEAR,geometry:c=new o.C(t),targetOnly:h=null}={}){this.gl=t,this.passes=[],this.geometry=c,this.uniform={value:null},this.targetOnly=h,i&&(this.dpr=i),e&&(this.width=e),r&&(this.height=r),i=this.dpr||this.gl.renderer.dpr,this.resolutionWidth=Math.floor(this.width||this.gl.renderer.width*i),this.resolutionHeight=Math.floor(this.height||this.gl.renderer.height*i);let d={dpr:this.dpr,width:this.resolutionWidth,height:this.resolutionHeight,wrapS:n,wrapT:a,minFilter:l,magFilter:u},f=this.fbo={read:new s.A(this.gl,d),write:new s.A(this.gl,d),swap:()=>{let t=f.read;f.read=f.write,f.write=t}}}addPass({vertex:t=l,fragment:e=u,uniforms:r={},textureUniform:s="tMap",enabled:o=!0}={}){r[s]={value:this.fbo.read.texture};let a=new i.$(this.gl,{vertex:t,fragment:e,uniforms:r}),c={mesh:new n.K(this.gl,{geometry:this.geometry,program:a}),program:a,uniforms:r,enabled:o,textureUniform:s};return this.passes.push(c),c}resize({width:t,height:e,dpr:r}={}){r&&(this.dpr=r),t&&(this.width=t),e&&(this.height=e),r=this.dpr||this.gl.renderer.dpr,this.resolutionWidth=Math.floor(this.width||this.gl.renderer.width*r),this.resolutionHeight=Math.floor(this.height||this.gl.renderer.height*r),this.fbo.read.setSize(this.resolutionWidth,this.resolutionHeight),this.fbo.write.setSize(this.resolutionWidth,this.resolutionHeight)}render({scene:t,camera:e,texture:r,target:i=null,update:n=!0,sort:s=!0,frustumCull:o=!0,beforePostCallbacks:a}){let l=this.passes.filter(t=>t.enabled);!r&&(this.gl.renderer.render({scene:t,camera:e,target:l.length||!i&&this.targetOnly?this.fbo.write:i,update:n,sort:s,frustumCull:o}),this.fbo.swap(),a&&a.forEach(t=>t&&t())),l.forEach((t,e)=>{t.mesh.program.uniforms[t.textureUniform].value=!e&&r?r:this.fbo.read.texture,this.gl.renderer.render({scene:t.mesh,target:e===l.length-1&&(i||!this.targetOnly)?i:this.fbo.write,clear:!0}),this.fbo.swap()}),this.uniform.value=this.fbo.read.texture}}let l=`
    attribute vec2 uv;
    attribute vec2 position;

    varying vec2 vUv;

    void main() {
        vUv = uv;
        gl_Position = vec4(position, 0, 1);
    }
`,u=`
    precision highp float;

    uniform sampler2D tMap;
    varying vec2 vUv;

    void main() {
        gl_FragColor = texture2D(tMap, vUv);
    }
`},7598:(t,e,r)=>{"use strict";r.d(e,{Q:()=>w});var i=r(36187),n=r(18167),s=r(56957);let o=new i.S,a=new i.S,l=new i.S,u=new n.A,c=new n.A,h=new n.A,d=new n.A,f=new n.A,p=new n.A,g=new n.A,m=new n.A,v=new n.A,b=new n.A,y=new n.A,x=new s.y;class w{constructor(){this.origin=new n.A,this.direction=new n.A}castMouse(t,e=[0,0]){if("orthographic"===t.type){let{left:r,right:i,bottom:n,top:s,zoom:o}=t,a=r/o+(i-r)/o*(.5*e[0]+.5),l=n/o+(s-n)/o*(.5*e[1]+.5);this.origin.set(a,l,0),this.origin.applyMatrix4(t.worldMatrix),this.direction.x=-t.worldMatrix[8],this.direction.y=-t.worldMatrix[9],this.direction.z=-t.worldMatrix[10]}else t.worldMatrix.getTranslation(this.origin),this.direction.set(e[0],e[1],.5),t.unproject(this.direction),this.direction.sub(this.origin).normalize()}intersectBounds(t,{maxDistance:e,output:r=[]}={}){return Array.isArray(t)||(t=[t]),r.length=0,t.forEach(t=>{let i;t.geometry.bounds&&t.geometry.bounds.radius!==1/0||t.geometry.computeBoundingSphere();let s=t.geometry.bounds;if(x.inverse(t.worldMatrix),e&&(c.copy(this.direction).scaleRotateMatrix4(x),i=e*c.len()),u.copy(this.origin).applyMatrix4(x),c.copy(this.direction).transformDirection(x),e&&u.distance(s.center)-s.radius>i)return;let o=0;if("sphere"===t.geometry.raycast){if(u.distance(s.center)>s.radius&&!(o=this.intersectSphere(s,u,c)))return}else if((u.x<s.min.x||u.x>s.max.x||u.y<s.min.y||u.y>s.max.y||u.z<s.min.z||u.z>s.max.z)&&!(o=this.intersectBox(s,u,c)))return;e&&o>i||(t.hit||(t.hit={localPoint:new n.A,point:new n.A}),t.hit.localPoint.copy(c).multiply(o).add(u),t.hit.point.copy(t.hit.localPoint).applyMatrix4(t.worldMatrix),t.hit.distance=t.hit.point.distance(this.origin),r.push(t))}),r.sort((t,e)=>t.hit.distance-e.hit.distance),r}intersectMeshes(t,{cullFace:e=!0,maxDistance:r,includeUV:s=!0,includeNormal:v=!0,output:b=[]}={}){let y=this.intersectBounds(t,{maxDistance:r,output:b});if(!y.length)return y;for(let t=y.length-1;t>=0;t--){let b,w,E,_;let A=y[t];x.inverse(A.worldMatrix),r&&(c.copy(this.direction).scaleRotateMatrix4(x),b=r*c.len()),u.copy(this.origin).applyMatrix4(x),c.copy(this.direction).transformDirection(x);let S=0,M=A.geometry,T=M.attributes,R=T.index,O=T.position,P=Math.max(0,M.drawRange.start),C=Math.min(R?R.count:O.count,M.drawRange.start+M.drawRange.count),k=O.size;for(let t=P;t<C;t+=3){let i=R?R.data[t]:t,n=R?R.data[t+1]:t+1,s=R?R.data[t+2]:t+2;h.fromArray(O.data,i*k),d.fromArray(O.data,n*k),f.fromArray(O.data,s*k);let o=this.intersectTriangle(h,d,f,e,u,c,g);o&&(r&&o>b||S&&!(o<S)||(S=o,w=i,E=n,_=s,p.copy(g)))}S||y.splice(t,1),A.hit.localPoint.copy(c).multiply(S).add(u),A.hit.point.copy(A.hit.localPoint).applyMatrix4(A.worldMatrix),A.hit.distance=A.hit.point.distance(this.origin),A.hit.faceNormal||(A.hit.localFaceNormal=new n.A,A.hit.faceNormal=new n.A,A.hit.uv=new i.S,A.hit.localNormal=new n.A,A.hit.normal=new n.A),A.hit.localFaceNormal.copy(p),A.hit.faceNormal.copy(A.hit.localFaceNormal).transformDirection(A.worldMatrix),(s||v)&&(h.fromArray(O.data,3*w),d.fromArray(O.data,3*E),f.fromArray(O.data,3*_),this.getBarycoord(A.hit.localPoint,h,d,f,m)),s&&T.uv&&(o.fromArray(T.uv.data,2*w),a.fromArray(T.uv.data,2*E),l.fromArray(T.uv.data,2*_),A.hit.uv.set(o.x*m.x+a.x*m.y+l.x*m.z,o.y*m.x+a.y*m.y+l.y*m.z)),v&&T.normal&&(h.fromArray(T.normal.data,3*w),d.fromArray(T.normal.data,3*E),f.fromArray(T.normal.data,3*_),A.hit.localNormal.set(h.x*m.x+d.x*m.y+f.x*m.z,h.y*m.x+d.y*m.y+f.y*m.z,h.z*m.x+d.z*m.y+f.z*m.z),A.hit.normal.copy(A.hit.localNormal).transformDirection(A.worldMatrix))}return y.sort((t,e)=>t.hit.distance-e.hit.distance),y}intersectPlane(t,e=this.origin,r=this.direction){u.sub(t.origin,e);let i=u.dot(t.normal),n=r.dot(t.normal);if(0==n)return 0;let s=i/n;return s<=0?0:e.add(r.scale(s))}intersectSphere(t,e=this.origin,r=this.direction){h.sub(t.center,e);let i=h.dot(r),n=h.dot(h)-i*i,s=t.radius*t.radius;if(n>s)return 0;let o=Math.sqrt(s-n),a=i-o,l=i+o;return a<0&&l<0?0:a<0?l:a}intersectBox(t,e=this.origin,r=this.direction){let i,n,s,o,a,l;let u=1/r.x,c=1/r.y,h=1/r.z,d=t.min,f=t.max;return(i=((u>=0?d.x:f.x)-e.x)*u,n=((u>=0?f.x:d.x)-e.x)*u,s=((c>=0?d.y:f.y)-e.y)*c,i>(o=((c>=0?f.y:d.y)-e.y)*c)||s>n)?0:(s>i&&(i=s),o<n&&(n=o),a=((h>=0?d.z:f.z)-e.z)*h,i>(l=((h>=0?f.z:d.z)-e.z)*h)||a>n)?0:(a>i&&(i=a),l<n&&(n=l),n<0)?0:i>=0?i:n}intersectTriangle(t,e,r,i=!0,n=this.origin,s=this.direction,o=g){let a;m.sub(e,t),v.sub(r,t),o.cross(m,v);let l=s.dot(o);if(!l)return 0;if(l>0){if(i)return 0;a=1}else a=-1,l=-l;b.sub(n,t);let u=a*s.dot(v.cross(b,v));if(u<0)return 0;let c=a*s.dot(m.cross(b));if(c<0||u+c>l)return 0;let h=-a*b.dot(o);return h<0?0:h/l}getBarycoord(t,e,r,i,n=m){v.sub(i,e),b.sub(r,e),y.sub(t,e);let s=v.dot(v),o=v.dot(b),a=v.dot(y),l=b.dot(b),u=b.dot(y),c=s*l-o*o;if(0===c)return n.set(-2,-1,-1);let h=1/c,d=(l*a-o*u)*h,f=(s*u-o*a)*h;return n.set(1-d-f,f,d)}}},91583:(t,e,r)=>{"use strict";r.d(e,{j:()=>o});var i=r(84391),n=r(77726),s=r(87213);class o{constructor(t,{light:e=new i.V(t),width:r=1024,height:o=r}){this.gl=t,this.light=e,this.target=new s.A(t,{width:r,height:o}),this.targetUniform={value:this.target.texture},this.depthProgram=new n.$(t,{vertex:a,fragment:l,cullFace:!1}),this.castMeshes=[]}add({mesh:t,receive:e=!0,cast:r=!0,vertex:i=a,fragment:s=l,uniformProjection:o="shadowProjectionMatrix",uniformView:u="shadowViewMatrix",uniformTexture:c="tShadow"}){if(e&&!t.program.uniforms[o]&&(t.program.uniforms[o]={value:this.light.projectionMatrix},t.program.uniforms[u]={value:this.light.viewMatrix},t.program.uniforms[c]=this.targetUniform),r&&(this.castMeshes.push(t),t.colorProgram=t.program,!t.depthProgram)){if(i===a&&s===l){t.depthProgram=this.depthProgram;return}t.depthProgram=new n.$(this.gl,{vertex:i,fragment:s,cullFace:!1})}}setSize({width:t=1024,height:e=t}){this.target=new s.A(this.gl,{width:t,height:e}),this.targetUniform.value=this.target.texture}render({scene:t}){t.traverse(t=>{t.draw&&(~this.castMeshes.indexOf(t)?t.program=t.depthProgram:(t.isForceVisibility=t.visible,t.visible=!1))}),this.gl.renderer.render({scene:t,camera:this.light,target:this.target}),t.traverse(t=>{t.draw&&(~this.castMeshes.indexOf(t)?t.program=t.colorProgram:t.visible=t.isForceVisibility)})}}let a=`
    attribute vec3 position;
    attribute vec2 uv;

    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;

    void main() {
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
`,l=`
    precision highp float;

    vec4 packRGBA (float v) {
        vec4 pack = fract(vec4(1.0, 255.0, 65025.0, 16581375.0) * v);
        pack -= pack.yzww * vec2(1.0 / 255.0, 0.0).xxxy;
        return pack;
    }

    void main() {
        gl_FragColor = packRGBA(gl_FragCoord.z);
    }
`},94071:(t,e,r)=>{"use strict";r.d(e,{d:()=>a});var i=r(47822),n=r(63669);let s={},o=[];class a{static load(t,{src:e,wrapS:r=t.CLAMP_TO_EDGE,wrapT:o=t.CLAMP_TO_EDGE,anisotropy:a=0,format:l=t.RGBA,internalFormat:u=l,generateMipmaps:c=!0,minFilter:h=c?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:d=t.LINEAR,premultiplyAlpha:f=!1,unpackAlignment:p=4,flipY:g=!0}={}){let m;let v=this.getSupportedExtensions(t),b="none";if("string"==typeof e&&(b=e.split(".").pop().split("?")[0].toLowerCase()),"object"==typeof e){for(let t in e)if(v.includes(t.toLowerCase())){b=t.toLowerCase(),e=e[t];break}}let y=e+r+o+a+l+u+c+h+d+f+p+g+t.renderer.id;if(s[y])return s[y];switch(b){case"ktx":case"pvrtc":case"s3tc":case"etc":case"etc1":case"astc":(m=new n.o(t,{src:e,wrapS:r,wrapT:o,anisotropy:a,minFilter:h,magFilter:d})).loaded=this.loadKTX(e,m);break;case"webp":case"jpg":case"jpeg":case"png":(m=new i.x(t,{wrapS:r,wrapT:o,anisotropy:a,format:l,internalFormat:u,generateMipmaps:c,minFilter:h,magFilter:d,premultiplyAlpha:f,unpackAlignment:p,flipY:g})).loaded=this.loadImage(t,e,m,g);break;default:console.warn("No supported format supplied"),m=new i.x(t)}return m.ext=b,s[y]=m,m}static getSupportedExtensions(t){if(o.length)return o;let e={pvrtc:t.renderer.getExtension("WEBGL_compressed_texture_pvrtc")||t.renderer.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),s3tc:t.renderer.getExtension("WEBGL_compressed_texture_s3tc"),etc1:t.renderer.getExtension("WEBGL_compressed_texture_etc1"),astc:t.renderer.getExtension("WEBGL_compressed_texture_astc"),bc7:t.renderer.getExtension("EXT_texture_compression_bptc")};for(let t in e)e[t]&&o.push(t);return o.push("png","jpg","webp"),o}static loadKTX(t,e){return fetch(t).then(t=>t.arrayBuffer()).then(t=>e.parseBuffer(t))}static loadImage(t,e,r,i){return new Promise(t=>{if(function(){if(!navigator.userAgent.toLowerCase().includes("chrome"))return!1;try{createImageBitmap}catch(t){return!1}return!0}())fetch(e,{mode:"cors"}).then(t=>t.blob()).then(t=>createImageBitmap(t,{imageOrientation:i?"flipY":"none",premultiplyAlpha:"none"})).then(t);else{let r=new Image;r.crossOrigin="",r.src=e,r.onload=()=>t(r)}}).then(e=>(t.renderer.isWebgl2||l(e.width)&&l(e.height)||(r.generateMipmaps&&(r.generateMipmaps=!1),r.minFilter===t.NEAREST_MIPMAP_LINEAR&&(r.minFilter=t.LINEAR),r.wrapS!==t.REPEAT||(r.wrapS=r.wrapT=t.CLAMP_TO_EDGE)),r.image=e,r.onUpdate=()=>{e.close&&e.close(),r.onUpdate=null},e))}static clearCache(){s={}}}function l(t){return Math.log2(t)%1==0}},37302:(t,e,r)=>{"use strict";r.d(e,{C:()=>n});var i=r(784);class n extends i.Z{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}},92859:(t,e,r)=>{"use strict";r.d(e,{a:()=>a});var i=r(930),n=r(77726),s=r(784),o=r(28027);class a extends i.K{constructor(t,{geometry:e,wireColor:r=new o.I(0,.75,.5),...i}={}){let a=new n.$(t,{vertex:l,fragment:u,uniforms:{wireColor:{value:r}}}),c=e.attributes.position.data,h=[],d=new Set;function f(t){for(let e=0;e<t.length;e+=2)(function(t,e,r,i){let n=[r[t],r[t+1],r[t+2],r[e],r[e+1],r[e+2]].join("#"),s=[r[e],r[e+1],r[e+2],r[t],r[t+1],r[t+2]].join("#"),o=i.size;return i.add(n),i.add(s),i.size-o==2})(3*t[e],3*t[e+1],c,d)&&h.push(t[e],t[e+1])}if(e.attributes.index){let t=e.attributes.index.data;for(let e=0;e<t.length;e+=3)f([t[e],t[e+1],t[e+1],t[e+2],t[e+2],t[e]])}else{let t=Math.floor(c.length/3);for(let e=0;e<t;e+=3)f([e,e+1,e+1,e+2,e+2,e])}super(t,{...i,mode:t.LINES,geometry:new s.Z(t,{position:{...e.attributes.position},index:{data:h.length>65536?new Uint32Array(h):new Uint16Array(h)}}),program:a})}}let l=`
attribute vec3 position;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

void main() {    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,u=`
precision highp float;
uniform vec3 wireColor;

void main() {    
    gl_FragColor = vec4(wireColor, 1.0);
}
`},638:(t,e,r)=>{"use strict";r.d(e,{y:()=>a});var i=r(930),n=r(77726),s=r(784),o=r(18167);class a extends i.K{constructor(t,{size:e=1,symmetric:r=!1,xColor:i=new o.A(.96,.21,.32),yColor:a=new o.A(.44,.64,.11),zColor:c=new o.A(.18,.52,.89),...h}={}){let d=r?-e:0,f=new Float32Array([d,0,0,e,0,0,0,d,0,0,e,0,0,0,d,0,0,e]);super(t,{...h,mode:t.LINES,geometry:new s.Z(t,{position:{size:3,data:f},color:{size:3,data:new Float32Array([...i,...i,...a,...a,...c,...c])}}),program:new n.$(t,{vertex:l,fragment:u})})}}let l=`
attribute vec3 position;
attribute vec3 color;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

varying vec3 vColor;

void main() {    
    vColor = color;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,u=`
precision highp float;
varying vec3 vColor;

void main() {    
    gl_FragColor = vec4(vColor, 1.0);
}
`},12277:(t,e,r)=>{"use strict";r.d(e,{V:()=>a});var i=r(930),n=r(77726),s=r(784),o=r(18167);class a extends i.K{constructor(t,{size:e=10,divisions:r=10,color:i=new o.A(.75,.75,.75),...a}={}){let c=new Float32Array((e+1)*12),h=e/2;for(let t=0;t<=r;t++){let i=t/r*e-h;c.set([i,0,-h,i,0,h],12*t),c.set([-h,0,i,h,0,i],12*t+6)}super(t,{...a,mode:t.LINES,geometry:new s.Z(t,{position:{size:3,data:c}}),program:new n.$(t,{vertex:l,fragment:u,uniforms:{color:{value:i}}})})}}let l=`
attribute vec3 position;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;

void main() {    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,u=`
precision highp float;
uniform vec3 color;

void main() {    
    gl_FragColor = vec4(color, 1.0);
}
`},35762:(t,e,r)=>{"use strict";let i;r.r(e),r.d(e,{Animation:()=>ty,AxesHelper:()=>tZ.y,BasisManager:()=>tq,Box:()=>E,Camera:()=>a.V,Color:()=>d.I,Curve:()=>$,Cylinder:()=>A,Euler:()=>f.U,FaceNormalsHelper:()=>t8,Flowmap:()=>tA.h,GLTFAnimation:()=>t$,GLTFLoader:()=>tY,GLTFSkin:()=>tB,GPGPU:()=>tS.Q,Geometry:()=>n.Z,GridHelper:()=>tQ.V,InstancedMesh:()=>tU,KTXTexture:()=>tR.o,Mat3:()=>p.T,Mat4:()=>g.y,Mesh:()=>u.K,NormalProgram:()=>t_.h,Orbit:()=>T.q,Path:()=>to,Plane:()=>w.J,Polyline:()=>tM.a,Post:()=>td.S,Program:()=>s.$,Quat:()=>m.D,Raycast:()=>R.Q,RenderTarget:()=>h.A,Renderer:()=>o.T,Shadow:()=>tT.j,Skin:()=>tw,Sphere:()=>_,Text:()=>tE,Texture:()=>c.x,TextureLoader:()=>tO.d,Torus:()=>M,Transform:()=>l.w,Triangle:()=>S.C,Tube:()=>th,Vec2:()=>v.S,Vec3:()=>b.A,Vec4:()=>x,VertexNormalsHelper:()=>tJ,WireMesh:()=>tK.a});var n=r(784),s=r(77726),o=r(88384),a=r(84391),l=r(22550),u=r(930),c=r(47822),h=r(87213),d=r(28027),f=r(31984),p=r(78604),g=r(56957),m=r(8211),v=r(36187),b=r(18167),y=r(7106);class x extends Array{constructor(t=0,e=t,r=t,i=t){return super(t,e,r,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set w(t){this[3]=t}set(t,e=t,r=t,i=t){return t.length?this.copy(t):(y.t8(this,t,e,r,i),this)}copy(t){return y.JG(this,t),this}normalize(){return y.Fv(this,this),this}multiply(t){return y.bA(this,this,t),this}dot(t){return y.AK(this,t)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}var w=r(5870);class E extends n.Z{constructor(t,{width:e=1,height:r=1,depth:i=1,widthSegments:n=1,heightSegments:s=1,depthSegments:o=1,attributes:a={}}={}){let l=(n+1)*(s+1)*2+(n+1)*(o+1)*2+(s+1)*(o+1)*2,u=(n*s*2+n*o*2+s*o*2)*6,c=new Float32Array(3*l),h=new Float32Array(3*l),d=new Float32Array(2*l),f=l>65536?new Uint32Array(u):new Uint16Array(u),p=0,g=0;w.J.buildPlane(c,h,d,f,i,r,e,o,s,2,1,0,-1,-1,p,g),p+=(o+1)*(s+1),g+=o*s,w.J.buildPlane(c,h,d,f,i,r,-e,o,s,2,1,0,1,-1,p,g),p+=(o+1)*(s+1),g+=o*s,w.J.buildPlane(c,h,d,f,e,i,r,o,n,0,2,1,1,1,p,g),p+=(n+1)*(o+1),g+=n*o,w.J.buildPlane(c,h,d,f,e,i,-r,o,n,0,2,1,1,-1,p,g),p+=(n+1)*(o+1),g+=n*o,w.J.buildPlane(c,h,d,f,e,r,-i,n,s,0,1,2,-1,-1,p,g),p+=(n+1)*(s+1),g+=n*s,w.J.buildPlane(c,h,d,f,e,r,i,n,s,0,1,2,1,-1,p,g),Object.assign(a,{position:{size:3,data:c},normal:{size:3,data:h},uv:{size:2,data:d},index:{data:f}}),super(t,a)}}class _ extends n.Z{constructor(t,{radius:e=.5,widthSegments:r=16,heightSegments:i=Math.ceil(.5*r),phiStart:n=0,phiLength:s=2*Math.PI,thetaStart:o=0,thetaLength:a=Math.PI,attributes:l={}}={}){let u=(r+1)*(i+1),c=r*i*6,h=new Float32Array(3*u),d=new Float32Array(3*u),f=new Float32Array(2*u),p=u>65536?new Uint32Array(c):new Uint16Array(c),g=0,m=0,v=0,y=o+a,x=[],w=new b.A;for(let t=0;t<=i;t++){let l=[],u=t/i;for(let t=0;t<=r;t++,g++){let i=t/r,c=-e*Math.cos(n+i*s)*Math.sin(o+u*a),p=e*Math.cos(o+u*a),v=e*Math.sin(n+i*s)*Math.sin(o+u*a);h[3*g]=c,h[3*g+1]=p,h[3*g+2]=v,w.set(c,p,v).normalize(),d[3*g]=w.x,d[3*g+1]=w.y,d[3*g+2]=w.z,f[2*g]=i,f[2*g+1]=1-u,l.push(m++)}x.push(l)}for(let t=0;t<i;t++)for(let e=0;e<r;e++){let r=x[t][e+1],n=x[t][e],s=x[t+1][e],a=x[t+1][e+1];(0!==t||o>0)&&(p[3*v]=r,p[3*v+1]=n,p[3*v+2]=a,v++),(t!==i-1||y<Math.PI)&&(p[3*v]=n,p[3*v+1]=s,p[3*v+2]=a,v++)}Object.assign(l,{position:{size:3,data:h},normal:{size:3,data:d},uv:{size:2,data:f},index:{data:p}}),super(t,l)}}class A extends n.Z{constructor(t,{radiusTop:e=.5,radiusBottom:r=.5,height:i=1,radialSegments:n=8,heightSegments:s=1,openEnded:o=!1,thetaStart:a=0,thetaLength:l=2*Math.PI,attributes:u={}}={}){let c=o?0:r&&e?2:1,h=(n+1)*(s+1+c)+c,d=n*s*6+c*n*3,f=new Float32Array(3*h),p=new Float32Array(3*h),g=new Float32Array(2*h),m=h>65536?new Uint32Array(d):new Uint16Array(d),v=0,y=0,x=[];function w(t){let s;let o=!0===t?e:r,u=!0===t?1:-1,c=v;for(f.set([0,.5*i*u,0],3*v),p.set([0,u,0],3*v),g.set([.5,.5],2*v),v++,s=0;s<=n;s++){let t=s/n*l+a,e=Math.cos(t),r=Math.sin(t);f.set([o*r,.5*i*u,o*e],3*v),p.set([0,u,0],3*v),g.set([.5*e+.5,.5*r*u+.5],2*v),v++}for(s=0;s<n;s++){let e=c+s+1;t?m.set([e,e+1,c],3*y):m.set([e+1,e,c],3*y),y++}}(function(){let t,o;let u=new b.A,c=(r-e)/i;for(o=0;o<=s;o++){let h=[],d=o/s,m=d*(r-e)+e;for(t=0;t<=n;t++){let e=t/n,r=e*l+a,s=Math.sin(r),o=Math.cos(r);f.set([m*s,(.5-d)*i,m*o],3*v),u.set(s,c,o).normalize(),p.set([u.x,u.y,u.z],3*v),g.set([e,1-d],2*v),h.push(v++)}x.push(h)}for(t=0;t<n;t++)for(o=0;o<s;o++){let e=x[o][t],r=x[o+1][t],i=x[o+1][t+1],n=x[o][t+1];m.set([e,r,n,r,i,n],3*y),y+=2}})(),!o&&(e&&w(!0),r&&w(!1)),Object.assign(u,{position:{size:3,data:f},normal:{size:3,data:p},uv:{size:2,data:g},index:{data:m}}),super(t,u)}}var S=r(37302);class M extends n.Z{constructor(t,{radius:e=.5,tube:r=.2,radialSegments:i=8,tubularSegments:n=6,arc:s=2*Math.PI,attributes:o={}}={}){let a=(i+1)*(n+1),l=i*n*6,u=new Float32Array(3*a),c=new Float32Array(3*a),h=new Float32Array(2*a),d=a>65536?new Uint32Array(l):new Uint16Array(l),f=new b.A,p=new b.A,g=new b.A,m=0;for(let t=0;t<=i;t++)for(let o=0;o<=n;o++,m++){let a=o/n*s,l=t/i*Math.PI*2;p.x=(e+r*Math.cos(l))*Math.cos(a),p.y=(e+r*Math.cos(l))*Math.sin(a),p.z=r*Math.sin(l),u.set([p.x,p.y,p.z],3*m),f.x=e*Math.cos(a),f.y=e*Math.sin(a),g.sub(p,f).normalize(),c.set([g.x,g.y,g.z],3*m),h.set([o/n,t/i],2*m)}m=0;for(let t=1;t<=i;t++)for(let e=1;e<=n;e++,m++){let r=(n+1)*t+e-1,i=(n+1)*(t-1)+e-1,s=(n+1)*(t-1)+e,o=(n+1)*t+e;d.set([r,i,o,i,s,o],6*m)}Object.assign(o,{position:{size:3,data:u},normal:{size:3,data:c},uv:{size:2,data:h},index:{data:d}}),super(t,o)}}var T=r(68696),R=r(7598);let O="catmullrom",P="cubicbezier",C="quadraticbezier",k=new b.A,I=new b.A,F=new b.A,N=new b.A;function j(t,e,r,i){let n=1-t;k.copy(e).scale(n**2),I.copy(r).scale(2*n*t),F.copy(i).scale(t**2);let s=new b.A;return s.add(k,I).add(F),s}function L(t,e,r,i,n){let s=1-t;k.copy(e).scale(s**3),I.copy(r).scale(3*s**2*t),F.copy(i).scale(3*s*t**2),N.copy(n).scale(t**3);let o=new b.A;return o.add(k,I).add(F).add(N),o}class ${constructor({points:t=[new b.A(0,0,0),new b.A(0,1,0),new b.A(1,1,0),new b.A(1,0,0)],divisions:e=12,type:r=O}={}){this.points=t,this.divisions=e,this.type=r}_getQuadraticBezierPoints(t=this.divisions){let e=[],r=this.points.length;if(r<3)return console.warn("Not enough points provided."),[];let i=this.points[0],n=this.points[1],s=this.points[2];for(let r=0;r<=t;r++){let o=j(r/t,i,n,s);e.push(o)}let o=3;for(;r-o>0;){i.copy(s),n=s.scale(2).sub(n),s=this.points[o];for(let r=1;r<=t;r++){let o=j(r/t,i,n,s);e.push(o)}o++}return e}_getCubicBezierPoints(t=this.divisions){let e=[],r=this.points.length;if(r<4)return console.warn("Not enough points provided."),[];let i=this.points[0],n=this.points[1],s=this.points[2],o=this.points[3];for(let r=0;r<=t;r++){let a=L(r/t,i,n,s,o);e.push(a)}let a=4;for(;r-a>1;){i.copy(o),n=o.scale(2).sub(s),s=this.points[a],o=this.points[a+1];for(let r=1;r<=t;r++){let a=L(r/t,i,n,s,o);e.push(a)}a+=2}return e}_getCatmullRomPoints(t=this.divisions,e=.168,r=.168){let i;let n=[];return this.points.length<=2?this.points:(this.points.forEach((s,o)=>{if(0===o)i=s;else{let[a,l]=function(t,e,r=.168,i=.168){if(e<1?k.sub(t[1],t[0]).scale(r).add(t[0]):k.sub(t[e+1],t[e-1]).scale(r).add(t[e]),e>t.length-3){let e=t.length-1;I.sub(t[e-1],t[e]).scale(i).add(t[e])}else I.sub(t[e],t[e+2]).scale(i).add(t[e+1]);return[k.clone(),I.clone()]}(this.points,o-1,e,r),u=new $({points:[i,a,l,s],type:P});n.pop(),n.push(...u.getPoints(t)),i=s}}),n)}getPoints(t=this.divisions,e=.168,r=.168){let i=this.type;return i===C?this._getQuadraticBezierPoints(t):i===P?this._getCubicBezierPoints(t):i===O?this._getCatmullRomPoints(t,e,r):this.points}}$.CATMULLROM=O,$.CUBICBEZIER=P,$.QUADRATICBEZIER=C;class D{constructor(){this._len=-1,this.tiltStart=0,this.tiltEnd=0}getLength(){return this._len<0&&this.updateLength(),this._len}getTiltAt(t){return this.tiltStart*(1-t)*this.tiltEnd*t}clone(){return new this.constructor().copy(this)}copy(t){return this._len=t._len,this.tiltStart=t.tiltStart,this.tiltEnd=t.tiltEnd,this}}let z=[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],B=[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],U=t=>t*Math.PI/180,W=t=>180*t/Math.PI,V=(t,e,r)=>Math.max(e,Math.min(t,r));function H(t,e,r,i=e,n=r){let s=Math.sin(t),o=Math.cos(t),a=o*e.x+s*r.x,l=o*e.y+s*r.y,u=o*e.z+s*r.z,c=o*r.x-s*e.x,h=o*r.y-s*e.y,d=o*r.z-s*e.z;i.set(a,l,u),n.set(c,h,d)}let G=new b.A;function Y(t,e,r,i,n){let s=1-t;return s*s*s*e+3*s*s*t*r+3*s*t*t*i+t*t*t*n}function X(t,e,r,i,n){let s=1-t;return 3*s*s*(r-e)+6*s*t*(i-r)+3*t*t*(n-i)}class q extends D{constructor(t,e,r,i,n=0,s=0){super(),this.p0=t,this.p1=e,this.p2=r,this.p3=i,this.tiltStart=n,this.tiltEnd=s,this._len=-1}updateLength(){let t=z.length,e=0;for(let r=0,i;r<t;r++)i=.5*z[r]+.5,e+=B[r]*this.getDerivativeAt(i,G).len();this._len=.5*e}getPointAt(t,e=new b.A){return e.x=Y(t,this.p0.x,this.p1.x,this.p2.x,this.p3.x),e.y=Y(t,this.p0.y,this.p1.y,this.p2.y,this.p3.y),e.z=Y(t,this.p0.z,this.p1.z,this.p2.z,this.p3.z),e}getDerivativeAt(t,e=new b.A){return e.x=X(t,this.p0.x,this.p1.x,this.p2.x,this.p3.x),e.y=X(t,this.p0.y,this.p1.y,this.p2.y,this.p3.y),e.z=X(t,this.p0.z,this.p1.z,this.p2.z,this.p3.z),e}getTangentAt(t,e=new b.A){return this.getDerivativeAt(t,e).normalize()}lastPoint(){return this.p3}}let K=new b.A;function Z(t,e,r,i){let n=1-t;return n*n*e+2*n*t*r+t*t*i}function Q(t,e,r,i){return 2*(1-t)*(r-e)+2*t*(i-r)}class J extends D{constructor(t,e,r,i=0,n=0){super(),this.p0=t,this.p1=e,this.p2=r,this.tiltStart=i,this.tiltEnd=n,this._len=-1}updateLength(){let t=z.length,e=0;for(let r=0,i;r<t;r++)i=.5*z[r]+.5,e+=B[r]*this.getDerivativeAt(i,K).len();this._len=.5*e}getPointAt(t,e=new b.A){return e.x=Z(t,this.p0.x,this.p1.x,this.p2.x),e.y=Z(t,this.p0.y,this.p1.y,this.p2.y),e.z=Z(t,this.p0.z,this.p1.z,this.p2.z),e}getDerivativeAt(t,e=new b.A){return e.x=Q(t,this.p0.x,this.p1.x,this.p2.x),e.y=Q(t,this.p0.y,this.p1.y,this.p2.y),e.z=Q(t,this.p0.z,this.p1.z,this.p2.z),e}getTangentAt(t,e=new b.A){return this.getDerivativeAt(t,e).normalize()}lastPoint(){return this.p2}}var tt=r(13597);let te=new b.A;class tr extends D{constructor(t,e,r=0,i=0){super(),this.p0=t,this.p1=e,this.tiltStart=r,this.tiltEnd=i,this._len=-1}updateLength(){this._len=te.sub(this.p1,this.p0).len()}getPointAt(t,e=new b.A){return(0,tt.t7)(e,this.p0,this.p1,t),e}getTangentAt(t,e=new b.A){return e.sub(this.p1,this.p0).normalize()}lastPoint(){return this.p1}}let ti=new b.A,tn=new g.y;function ts(t,e){if(null==this[t])throw Error(e)}class to{constructor(){this._segments=[],this._lengthOffsets=null,this._totalLength=-1,this._lastPoint=null,this._lastTilt=0,this._assertLastPoint=ts.bind(this,"_lastPoint","Can`t get previous point of curve. Did you forget moveTo command?"),this.tiltFunction=null}moveTo(t,e=0){this._totalLength=-1,this._lastPoint=t,this._lastTilt=e}bezierCurveTo(t,e,r,i=0){this._assertLastPoint();let n=new q(this._lastPoint,t,e,r,this._lastTilt,i);return this.addSegment(n),this}quadraticCurveTo(t,e,r=0){this._assertLastPoint();let i=new J(this._lastPoint,t,e,this._lastTilt,r);return this.addSegment(i),this}lineTo(t,e=0){this._assertLastPoint();let r=new tr(this._lastPoint,t,this._lastTilt,e);return this.addSegment(r),this}addSegment(t){return this._totalLength=-1,this._lastPoint=t.lastPoint(),this._lastTilt=t.tiltEnd,this._segments.push(t),this}getSegments(){return this._segments}updateLength(){let t=this._segments.length;this._lengthOffsets=Array(t);let e=0;for(let r=0;r<t;r++)this._lengthOffsets[r]=e,e+=this._segments[r].getLength();this._totalLength=e}getLength(){return this._totalLength<0&&this.updateLength(),this._totalLength}findSegmentIndexAtLength(t){let e;let r=this.getLength();if(t<=0)return[0,0];if(t>=r)return[this._segments.length-1,1];let i=0,n=this._lengthOffsets.length-1,s=-1;for(;i<=n;){if(0===(e=Math.ceil((i+n)/2))||e===this._lengthOffsets.length-1||t>=this._lengthOffsets[e]&&t<this._lengthOffsets[e+1]){s=e;break}t<this._lengthOffsets[e]?n=e-1:i=e+1}let o=this._segments[s].getLength(),a=(t-this._lengthOffsets[s])/o;return[s,a]}getPointAtLength(t,e=new b.A){let[r,i]=this.findSegmentIndexAtLength(t);return this._segments[r].getPointAt(i,e)}getPointAt(t,e=new b.A){let r=this.getLength();return this.getPointAtLength(t*r,e)}getTangentAtLength(t,e=new b.A){let[r,i]=this.findSegmentIndexAtLength(t);return this._segments[r].getTangentAt(i,e)}getTangentAt(t,e=new b.A){let r=this.getLength();return this.getTangentAtLength(t*r,e)}getTiltAtLength(t){let[e,r]=this.findSegmentIndexAtLength(t);return this._segments[e].getTiltAt(r)}getTiltAt(t){let e=this.getLength();return this.getTiltAtLength(t*e)}getPoints(t=64){let e=Array(t+1);for(let r=0;r<=t;r++)e[r]=this.getPointAt(r/t);return e}computeFrenetFrames(t=64,e=!1){let r=Array(t+1),i=Array(t+1),n=this.tiltFunction??(t=>t),s=this.getLength();for(let e=0;e<=t;e++){let[o,a]=this.findSegmentIndexAtLength(s*e/t),l=this._segments[o];r[e]=l.getTangentAt(a),i[e]=n(l.getTiltAt(a),e/t,this)}let o=Math.abs(r[0].x),a=Math.abs(r[0].y),l=Math.abs(r[0].z),u=new b.A;o<a&&o<l?u.set(1,0,0):a<o&&a<l?u.set(0,1,0):u.set(0,0,1);let c=Array(t+1),h=Array(t+1);c[0]=new b.A,h[0]=new b.A,ti.cross(r[0],u).normalize(),c[0].cross(r[0],ti),h[0].cross(r[0],c[0]);for(let t=1;t<r.length;t++){c[t]=c[t-1].clone(),h[t]=new b.A,ti.cross(r[t-1],r[t]);let e=ti.len();if(e>Number.EPSILON){ti.scale(1/e);let i=V(r[t-1].dot(r[t]),-1,1);!function(t,e,r,i){let n=e[0],s=e[1],o=e[2],a=1-i;t[0]=n*n*a+i,t[1]=s*n*a+o*r,t[2]=o*n*a-s*r,t[3]=0,t[4]=n*s*a-o*r,t[5]=s*s*a+i,t[6]=o*s*a+n*r,t[7]=0,t[8]=n*o*a+s*r,t[9]=s*o*a-n*r,t[10]=o*o*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(tn,ti,V(e,-1,1),i),c[t].applyMatrix4(tn)}h[t].cross(r[t],c[t])}for(let t=0;t<i.length;t++)H(U(i[t]),c[t],h[t]);if(!0===e){let t=c[c.length-1],e=Math.acos(V(c[0].dot(t),-1,1))/(c.length-1);r[0].dot(ti.cross(c[0],t))>0&&(e=-e);for(let t=1;t<c.length-1;t++){let r=e*t;H(r,c[t],h[t]),i[t]+=W(r)}c[c.length-1]=c[0].clone(),h[h.length-1]=h[0].clone()}return{tangents:r,normals:c,binormals:h,tilts:i}}}let ta=new b.A,tl=new b.A,tu=new v.S,tc=new b.A;class th extends n.Z{constructor(t,{path:e,radius:r=1,tubularSegments:i=64,radialSegments:n=8,closed:s=!1,attributes:o={}}={}){super(t,o),this.path=e,this.radius=r,this.tubularSegments=i,this.radialSegments=n,this.closed=s,this.frenetFrames=e.computeFrenetFrames(i,s);let a=(i+1)*(n+1),l=i*n*6;this.positions=new Float32Array(3*a),this.normals=new Float32Array(3*a),this.uvs=new Float32Array(2*a),this.indices=a>65536?new Uint32Array(l):new Uint16Array(l),this._generateAttributes(),this._generateIndices(),this.addAttribute("position",{size:3,data:this.positions}),this.addAttribute("normal",{size:3,data:this.normals}),this.addAttribute("uv",{size:2,data:this.uvs}),this.setIndex({data:this.indices})}_generateAttributes(){for(let t=0;t<=this.tubularSegments;t++){let e=t;t===this.tubularSegments&&(e=this.closed?0:this.tubularSegments),this.path.getPointAt(e/this.tubularSegments,tc);let r=this.frenetFrames.normals[e],i=this.frenetFrames.binormals[e];for(let e=0;e<=this.radialSegments;e++){let n=e/this.radialSegments*Math.PI*2,s=Math.sin(n),o=-Math.cos(n),a=t*(this.radialSegments+1)+e;tl.x=o*r.x+s*i.x,tl.y=o*r.y+s*i.y,tl.z=o*r.z+s*i.z,this.normals.set(tl,3*a),ta.x=tc.x+this.radius*tl.x,ta.y=tc.y+this.radius*tl.y,ta.z=tc.z+this.radius*tl.z,this.positions.set(ta,3*a),tu.x=t/this.tubularSegments,tu.y=e/this.radialSegments,this.uvs.set(tu,2*a)}}}_generateIndices(){for(let t=1;t<=this.tubularSegments;t++)for(let e=1;e<=this.radialSegments;e++){let r=(this.radialSegments+1)*(t-1)+(e-1),i=(this.radialSegments+1)*t+(e-1),n=(this.radialSegments+1)*t+e,s=(this.radialSegments+1)*(t-1)+e,o=(t-1)*this.radialSegments+(e-1);this.indices.set([r,i,s,i,n,s],6*o)}}}var td=r(55886);let tf=new b.A,tp=new m.D,tg=new b.A,tm=new b.A,tv=new m.D,tb=new b.A;class ty{constructor({objects:t,data:e}){this.objects=t,this.data=e,this.elapsed=0,this.weight=1,this.duration=e.frames.length-1}update(t=1,e){let r=e?1:this.weight/t,i=this.elapsed%this.duration,n=Math.floor(i),s=i-n,o=this.data.frames[n],a=this.data.frames[(n+1)%this.duration];this.objects.forEach((t,e)=>{tf.fromArray(o.position,3*e),tp.fromArray(o.quaternion,4*e),tg.fromArray(o.scale,3*e),tm.fromArray(a.position,3*e),tv.fromArray(a.quaternion,4*e),tb.fromArray(a.scale,3*e),tf.lerp(tm,s),tp.slerp(tv,s),tg.lerp(tb,s),t.position.lerp(tf,r),t.quaternion.slerp(tp,r),t.scale.lerp(tg,r)})}}let tx=new g.y;class tw extends u.K{constructor(t,{rig:e,geometry:r,program:i,mode:n=t.TRIANGLES}={}){super(t,{geometry:r,program:i,mode:n}),this.createBones(e),this.createBoneTexture(),this.animations=[],Object.assign(this.program.uniforms,{boneTexture:{value:this.boneTexture},boneTextureSize:{value:this.boneTextureSize}})}createBones(t){if(this.root=new l.w,this.bones=[],t.bones&&t.bones.length){for(let e=0;e<t.bones.length;e++){let r=new l.w;r.position.fromArray(t.bindPose.position,3*e),r.quaternion.fromArray(t.bindPose.quaternion,4*e),r.scale.fromArray(t.bindPose.scale,3*e),this.bones.push(r)}t.bones.forEach((t,e)=>{if(this.bones[e].name=t.name,-1===t.parent)return this.bones[e].setParent(this.root);this.bones[e].setParent(this.bones[t.parent])}),this.root.updateMatrixWorld(!0),this.bones.forEach(t=>{t.bindInverse=new g.y(...t.worldMatrix).inverse()})}}createBoneTexture(){if(!this.bones.length)return;let t=Math.max(4,Math.pow(2,Math.ceil(Math.log(Math.sqrt(4*this.bones.length))/Math.LN2)));this.boneMatrices=new Float32Array(t*t*4),this.boneTextureSize=t,this.boneTexture=new c.x(this.gl,{image:this.boneMatrices,generateMipmaps:!1,type:this.gl.FLOAT,internalFormat:this.gl.renderer.isWebgl2?this.gl.RGBA32F:this.gl.RGBA,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,flipY:!1,width:t})}addAnimation(t){let e=new ty({objects:this.bones,data:t});return this.animations.push(e),e}update(){let t=0;this.animations.forEach(e=>t+=e.weight),this.animations.forEach((e,r)=>{e.update(t,0===r)})}draw({camera:t}={}){this.root.updateMatrixWorld(!0),this.bones.forEach((t,e)=>{tx.multiply(t.worldMatrix,t.bindInverse),this.boneMatrices.set(tx,16*e)}),this.boneTexture&&(this.boneTexture.needsUpdate=!0),super.draw({camera:t})}}function tE({font:t,text:e,width:r=1/0,align:i="left",size:n=1,letterSpacing:s=0,lineHeight:o=1.4,wordSpacing:a=0,wordBreak:l=!1}){let u,c,h;let d=this,f=/\n/,p=/\s/;function g(){t.common.lineHeight,h=n/t.common.base;let r=e.replace(/[ \n]/g,"").length;c={position:new Float32Array(12*r),uv:new Float32Array(8*r),id:new Float32Array(4*r),index:new Uint16Array(6*r)};for(let t=0;t<r;t++)c.id.set([t,t,t,t],4*t),c.index.set([4*t,4*t+2,4*t+1,4*t+1,4*t+2,4*t+3],6*t);m()}function m(){let g=[],m=0,v=0,b=0,y=x();function x(){let t={width:0,glyphs:[]};return g.push(t),v=m,b=0,t}let w=0;for(;m<e.length&&w<100;){w++;let i=e[m];if(!y.width&&p.test(i)){v=++m,b=0;continue}if(f.test(i)){m++,y=x();continue}let o=u[i]||u[" "];if(y.glyphs.length){let e=y.glyphs[y.glyphs.length-1][0],r=function(e,r){for(let i=0;i<t.kernings.length;i++){let n=t.kernings[i];if(!(n.first<e)&&!(n.second<r)){if(n.first>e||n.first===e&&n.second>r)return 0;return n.amount}}return 0}(o.id,e.id)*h;y.width+=r,b+=r}y.glyphs.push([o,y.width]);let c=0;if(p.test(i)?(v=m,b=0,c+=a*n):c+=s*n,c+=o.xadvance*h,y.width+=c,b+=c,y.width>r){if(l&&y.glyphs.length>1){y.width-=c,y.glyphs.pop(),y=x();continue}if(!l&&b!==y.width){let t=m-v+1;y.glyphs.splice(-t,t),m=v,y.width-=b,y=x();continue}}m++,w=0}y.width||g.pop(),function(e){let r=t.common.scaleW,s=t.common.scaleH,a=.07*n,l=0;for(let t=0;t<e.length;t++){let u=e[t];for(let t=0;t<u.glyphs.length;t++){let e=u.glyphs[t][0],n=u.glyphs[t][1];if("center"===i?n-=.5*u.width:"right"===i&&(n-=u.width),p.test(e.char))continue;n+=e.xoffset*h,a-=e.yoffset*h;let o=e.width*h,d=e.height*h;c.position.set([n,a-d,0,n,a,0,n+o,a-d,0,n+o,a,0],12*l);let f=e.x/r,g=e.width/r,m=1-e.y/s,v=e.height/s;c.uv.set([f,m-v,f,m,f+g,m-v,f+g,m],8*l),a+=e.yoffset*h,l++}a-=n*o}d.buffers=c,d.numLines=e.length,d.height=d.numLines*n*o,d.width=Math.max(...e.map(t=>t.width))}(g)}u={},t.chars.forEach(t=>u[t.char]=t),g(),this.resize=function(t){({width:r}=t),m()},this.update=function(t){({text:e}=t),g()}}var t_=r(47845),tA=r(13355),tS=r(11990),tM=r(57134),tT=r(91583),tR=r(63669),tO=r(94071);let tP=new b.A,tC=new b.A,tk=new b.A,tI=new b.A,tF=new m.D,tN=new m.D,tj=new m.D,tL=new m.D;class t${constructor(t,e=1){this.data=t,this.elapsed=0,this.weight=e,this.loop=!0,this.startTime=t.reduce((t,{times:e})=>Math.min(t,e[0]),1/0),this.endTime=t.reduce((t,{times:e})=>Math.max(t,e[e.length-1]),0),this.duration=this.endTime-this.startTime}update(t=1,e){let r=e?1:this.weight/t,i=this.duration?(this.loop?this.elapsed%this.duration:Math.min(this.elapsed,this.duration-.001))+this.startTime:0;this.data.forEach(({node:t,transform:e,interpolation:n,times:s,values:o})=>{if(!this.duration){let i=tP,n=3;"quaternion"===e&&(i=tF,n=4),i.fromArray(o,0),4===n?t[e].slerp(i,r):t[e].lerp(i,r);return}let a=Math.max(1,s.findIndex(t=>t>i))-1,l=a+1,u=(i-s[a])/(s[l]-s[a]);"STEP"===n&&(u=0);let c=tP,h=tC,d=tk,f=tI,p=3;"quaternion"===e&&(c=tF,h=tN,d=tj,f=tL,p=4),"CUBICSPLINE"===n?(c.fromArray(o,a*p*3+1*p),h.fromArray(o,a*p*3+2*p),d.fromArray(o,l*p*3+0*p),f.fromArray(o,l*p*3+1*p),c=this.cubicSplineInterpolate(u,c,h,d,f),4===p&&c.normalize()):(c.fromArray(o,a*p),f.fromArray(o,l*p),4===p?c.slerp(f,u):c.lerp(f,u)),4===p?t[e].slerp(c,r):t[e].lerp(c,r)})}cubicSplineInterpolate(t,e,r,i,n){let s=t*t,o=s*t,a=3*s-2*o,l=o-s,u=1-a,c=l-s+t;for(let s=0;s<e.length;s++)e[s]=u*e[s]+c*(1-t)*r[s]+a*n[s]+l*t*i[s];return e}}let tD=new g.y,tz=new g.y;class tB extends u.K{constructor(t,{skeleton:e,geometry:r,program:i,mode:n=t.TRIANGLES}={}){super(t,{geometry:r,program:i,mode:n}),this.skeleton=e,this.program=i,this.createBoneTexture()}createBoneTexture(){if(!this.skeleton.joints.length)return;let t=Math.max(4,Math.pow(2,Math.ceil(Math.log(Math.sqrt(4*this.skeleton.joints.length))/Math.LN2)));this.boneMatrices=new Float32Array(t*t*4),this.boneTextureSize=t,this.boneTexture=new c.x(this.gl,{image:this.boneMatrices,generateMipmaps:!1,type:this.gl.FLOAT,internalFormat:this.gl.renderer.isWebgl2?this.gl.RGBA32F:this.gl.RGBA,minFilter:this.gl.NEAREST,magFilter:this.gl.NEAREST,flipY:!1,width:t})}updateUniforms(){this.skeleton.joints.forEach((t,e)=>{tD.multiply(t.worldMatrix,t.bindInverse),this.boneMatrices.set(tD,16*e)}),this.boneTexture.needsUpdate=!0,this.program.uniforms.boneTexture.value=this.boneTexture,this.program.uniforms.boneTextureSize.value=this.boneTextureSize}draw({camera:t}={}){this.program.uniforms.boneTexture||Object.assign(this.program.uniforms,{boneTexture:{value:this.boneTexture},boneTextureSize:{value:this.boneTextureSize}}),this.updateUniforms();let e=this.worldMatrix;this.worldMatrix=tz,super.draw({camera:t}),this.worldMatrix=e}}class tU extends u.K{constructor(...t){super(...t),this.frustumCulled=!1,this.isInstancedMesh=!0}addFrustumCull(){this.instanceTransforms=null,this.instanceLightmapScaleOffset=null,this.totalInstanceCount=0,this.frustumCullFunction=null,this.instanceRenderList=null,this.geometry.attributes.instanceMatrix||console.error(`mesh ${this.name?`"${this.name}" `:""}missing instanceMatrix attribute; unable to frustum cull`);let t=this.geometry.attributes.instanceMatrix.data;this.instanceTransforms=[];for(let e=0,r=0;e<t.length;e+=16,r++){let i=new l.w;i.index=r,i.matrix.fromArray(t,e),i.decompose(),this.instanceTransforms.push(i),i.setParent(this.parent)}if(this.totalInstanceCount=this.instanceTransforms.length,this.geometry.attributes.lightmapScaleOffset){let t=this.geometry.attributes.lightmapScaleOffset.data;for(let e=0,r=0;e<t.length;e+=4,r++)this.instanceTransforms[r].lightmapData=new x().fromArray(t,e)}this.frustumCullFunction=({camera:t})=>{this.instanceRenderList=[],this.instanceTransforms.forEach(e=>{t.frustumIntersectsMesh(this,e.worldMatrix)&&this.instanceRenderList.push(e)}),this.instanceRenderList.forEach((t,e)=>{t.matrix.toArray(this.geometry.attributes.instanceMatrix.data,16*e),t.lightmapData&&(t.lightmapData.toArray(this.geometry.attributes.lightmapScaleOffset.data,4*e),this.geometry.attributes.lightmapScaleOffset.needsUpdate=!0)}),this.geometry.instancedCount=this.instanceRenderList.length,this.geometry.attributes.instanceMatrix.needsUpdate=!0},this.onBeforeRender(this.frustumCullFunction)}removeFrustumCull(){this.offBeforeRender(this.frustumCullFunction),this.geometry.instancedCount=this.totalInstanceCount,this.instanceTransforms.forEach((t,e)=>{t.matrix.toArray(this.geometry.attributes.instanceMatrix.data,16*e),t.lightmapData&&(t.lightmapData.toArray(this.geometry.attributes.lightmapScaleOffset.data,4*e),this.geometry.attributes.lightmapScaleOffset.needsUpdate=!0)}),this.geometry.attributes.instanceMatrix.needsUpdate=!0}}let tW={5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array,"image/jpeg":Uint8Array,"image/png":Uint8Array},tV={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},tH={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},tG={translation:"position",rotation:"quaternion",scale:"scale"};class tY{static setBasisManager(t){this.basisManager=t}static async load(t,e){let r=e.split("/").slice(0,-1).join("/")+"/",i=await this.parseDesc(e);return this.parse(t,i,r)}static async parse(t,e,r){(void 0===e.asset||e.asset.version[0]<2)&&console.warn("Only GLTF >=2.0 supported. Attempting to parse."),e.extensionsRequired?.includes("KHR_texture_basisu")&&!this.basisManager&&console.warn("KHR_texture_basisu extension required but no manager supplied. Use .setBasisManager()");let i=await this.loadBuffers(e,r);t.renderer.bindVertexArray(null);let n=this.parseBufferViews(t,e,i),s=await this.parseImages(t,e,r,n),o=this.parseTextures(t,e,s),a=this.parseMaterials(t,e,o),l=this.parseSkins(t,e,n),u=this.parseMeshes(t,e,n,a,l),c=this.parseNodes(t,e,u,l,s);this.populateSkins(l,c);let h=this.parseAnimations(t,e,c,n),d=this.parseScenes(e,c),f=d[e.scene],p=this.parseLights(t,e,c,d);for(let t=c.length;t>=0;t--)c[t]||c.splice(t,1);return{json:e,buffers:i,bufferViews:n,images:s,textures:o,materials:a,meshes:u,nodes:c,lights:p,animations:h,scenes:d,scene:f}}static parseDesc(t){return t.match(/\.glb/)?fetch(t).then(t=>t.arrayBuffer()).then(t=>this.unpackGLB(t)):fetch(t).then(t=>t.json())}static unpackGLB(t){let e=new Uint32Array(t,0,3);if(1179937895!==e[0])throw Error("Invalid glTF asset.");if(2!==e[1])throw Error(`Unsupported glTF binary version, "${e[1]}".`);let r=new Uint32Array(t,12,2),i=r[0];if(1313821514!==r[1])throw Error("Unexpected GLB layout.");let n=JSON.parse(new TextDecoder().decode(t.slice(20,20+i)));if(20+i===t.byteLength)return n;let s=new Uint32Array(t,20+i,2);if(5130562!==s[1])throw Error("Unexpected GLB layout.");let o=20+i+8,a=s[0],l=t.slice(o,o+a);return n.buffers[0].binary=l,n}static resolveURI(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t))?t:e+t}static loadBuffers(t,e){return t.buffers?Promise.all(t.buffers.map(t=>t.binary?t.binary:fetch(this.resolveURI(t.uri,e)).then(t=>t.arrayBuffer()))):null}static parseBufferViews(t,e,r){if(!e.bufferViews)return null;let i=e.bufferViews.map(t=>Object.assign({},t));return e.meshes&&e.meshes.forEach(({primitives:r})=>{r.forEach(({attributes:r,indices:n})=>{for(let t in r)i[e.accessors[r[t]].bufferView].isAttribute=!0;void 0!==n&&(i[e.accessors[n].bufferView].isAttribute=!0,i[e.accessors[n].bufferView].target=t.ELEMENT_ARRAY_BUFFER)})}),e.accessors.forEach(({bufferView:t,componentType:e})=>{i[t].componentType=e}),e.images&&e.images.forEach(({uri:t,bufferView:e,mimeType:r})=>{void 0!==e&&(i[e].mimeType=r)}),i.forEach(({buffer:e,byteOffset:n=0,byteLength:s,byteStride:o,target:a=t.ARRAY_BUFFER,name:l,extensions:u,extras:c,componentType:h,mimeType:d,isAttribute:f},p)=>{if(i[p].data=r[e].slice(n,n+s),!f)return;let g=t.createBuffer();t.bindBuffer(a,g),t.renderer.state.boundBuffer=g,t.bufferData(a,i[p].data,t.STATIC_DRAW),i[p].buffer=g}),i}static parseImages(t,e,r,i){return e.images?Promise.all(e.images.map(async({uri:t,bufferView:e,mimeType:n,name:s})=>{if("image/ktx2"===n){let{data:t}=i[e];return await this.basisManager.parseTexture(t)}let o=new Image;if(o.name=s,t)o.src=this.resolveURI(t,r);else if(void 0!==e){let{data:t}=i[e],r=new Blob([t],{type:n});o.src=URL.createObjectURL(r)}return o.ready=new Promise(t=>{o.onload=()=>t()}),o})):null}static parseTextures(t,e,r){return e.textures?e.textures.map(i=>this.createTexture(t,e,r,i)):null}static createTexture(t,e,r,{sampler:i,source:n,name:s,extensions:o,extras:a}){void 0===n&&o&&o.KHR_texture_basisu&&(n=o.KHR_texture_basisu.source);let l=r[n];if(l.texture)return l.texture;let u={flipY:!1,wrapS:t.REPEAT,wrapT:t.REPEAT},h=void 0!==i?e.samplers[i]:null;if(h&&["magFilter","minFilter","wrapS","wrapT"].forEach(t=>{h[t]&&(u[t]=h[t])}),l.isBasis){u.image=l,u.internalFormat=l.internalFormat,l.isCompressedTexture&&(u.generateMipmaps=!1,l.length>1&&(this.minFilter=t.NEAREST_MIPMAP_LINEAR));let e=new c.x(t,u);return e.name=s,l.texture=e,e}let d=new c.x(t,u);return d.name=s,l.texture=d,l.ready.then(()=>{d.image=l}),d}static parseMaterials(t,e,r){return e.materials?e.materials.map(({name:t,extensions:e,extras:i,pbrMetallicRoughness:n={},normalTexture:s,occlusionTexture:o,emissiveTexture:a,emissiveFactor:l=[0,0,0],alphaMode:u="OPAQUE",alphaCutoff:c=.5,doubleSided:h=!1})=>{let{baseColorFactor:d=[1,1,1,1],baseColorTexture:f,metallicFactor:p=1,roughnessFactor:g=1,metallicRoughnessTexture:m}=n;return f&&(f.texture=r[f.index]),s&&(s.texture=r[s.index]),m&&(m.texture=r[m.index]),o&&(o.texture=r[o.index]),a&&(a.texture=r[a.index]),{name:t,extensions:e,extras:i,baseColorFactor:d,baseColorTexture:f,metallicFactor:p,roughnessFactor:g,metallicRoughnessTexture:m,normalTexture:s,occlusionTexture:o,emissiveTexture:a,emissiveFactor:l,alphaMode:u,alphaCutoff:c,doubleSided:h}}):null}static parseSkins(t,e,r){return e.skins?e.skins.map(({inverseBindMatrices:t,skeleton:i,joints:n})=>({inverseBindMatrices:this.parseAccessor(t,e,r),skeleton:i,joints:n})):null}static parseMeshes(t,e,r,i,n){return e.meshes?e.meshes.map(({primitives:s,weights:o,name:a,extensions:l,extras:c={}},h)=>{let d=0,f=[],p=!1;return e.nodes&&e.nodes.forEach(({mesh:t,skin:e,extras:r})=>{t===h&&(d++,void 0!==e&&f.push(e),r&&r.lightmap_scale_offset&&(p=!0))}),f.length?((s=f.map(o=>this.parsePrimitives(t,s,e,r,i,1,p).map(({geometry:e,program:r,mode:i})=>{let s=new tB(t,{skeleton:n[o],geometry:e,program:r,mode:i});return s.name=a,s.extras=c,l&&(s.extensions=l),s.frustumCulled=!1,s}))).instanceCount=0,s.numInstances=d):s=this.parsePrimitives(t,s,e,r,i,d,p).map(({geometry:e,program:r,mode:i})=>{let n=new(e.attributes.instanceMatrix?tU:u.K)(t,{geometry:e,program:r,mode:i});return n.name=a,n.extras=c,l&&(n.extensions=l),n.numInstances=d,n}),{primitives:s,weights:o,name:a}}):null}static parsePrimitives(t,e,r,i,s,o,a){return e.map(({attributes:e,indices:l,material:u,mode:c=4,targets:h,extensions:d,extras:f})=>{let p=new t_.h(t);void 0!==u&&(p.gltfMaterial=s[u]);let g=new n.Z(t);for(let t in f&&(g.extras=f),d&&(g.extensions=d),e)g.addAttribute(tH[t],this.parseAccessor(e[t],r,i));return void 0!==l&&g.addAttribute("index",this.parseAccessor(l,r,i)),o>1&&g.addAttribute("instanceMatrix",{instanced:1,size:16,data:new Float32Array(16*o)}),a&&g.addAttribute("lightmapScaleOffset",{instanced:1,size:4,data:new Float32Array(4*o)}),{geometry:g,program:p,mode:c}})}static parseAccessor(t,e,r){let i;let{bufferView:n,byteOffset:s=0,componentType:o,normalized:a=!1,count:l,type:u,min:c,max:h,sparse:d}=e.accessors[t],{data:f,buffer:p,byteOffset:g=0,byteStride:m=0,target:v}=r[n],b=tV[u],y=tW[o],x=m/y.BYTES_PER_ELEMENT;if(m&&x!==b){let t=new y(f,s);i=new y(l*b);for(let e=0;e<l;e++){let r=x*e,n=r+b;i.set(t.slice(r,n),e*b)}}else i=new y(f,s,l*b);return{data:i,size:b,type:o,normalized:a,buffer:p,stride:m,offset:s,count:l,min:c,max:h}}static parseNodes(t,e,r,i,n){if(!e.nodes)return null;let s=e.nodes.map(({camera:i,children:s,skin:o,matrix:a,mesh:u,rotation:c,scale:h,translation:d,weights:f,name:p,extensions:g,extras:m})=>{let v=new l.w;p&&(v.name=p),m&&(v.extras=m),g&&(v.extensions=g),m&&void 0!==m.lightmapTexture&&(m.lightmapTexture.texture=this.createTexture(t,e,n,{source:m.lightmapTexture.index})),a?(v.matrix.copy(a),v.decompose()):(c&&v.quaternion.copy(c),h&&v.scale.copy(h),d&&v.position.copy(d),v.updateMatrix());let b=!1,y=!0,x=!1;if(void 0!==u&&(void 0!==o?(r[u].primitives[r[u].primitives.instanceCount].forEach(t=>{m&&Object.assign(t.extras,m),t.setParent(v)}),r[u].primitives.instanceCount++,r[u].primitives.instanceCount===r[u].primitives.numInstances&&(delete r[u].primitives.numInstances,delete r[u].primitives.instanceCount)):r[u].primitives.forEach(t=>{m&&Object.assign(t.extras,m),t.geometry.isInstanced&&(b=!0,t.instanceCount?y=!1:t.instanceCount=0,t.geometry.attributes.instanceMatrix&&(x=!0,v.matrix.toArray(t.geometry.attributes.instanceMatrix.data,16*t.instanceCount)),t.geometry.attributes.lightmapScaleOffset&&t.geometry.attributes.lightmapScaleOffset.data.set(m.lightmap_scale_offset,4*t.instanceCount),t.instanceCount++,t.instanceCount===t.numInstances&&(delete t.numInstances,delete t.instanceCount,t.geometry.attributes.instanceMatrix&&(t.geometry.attributes.instanceMatrix.needsUpdate=!0),t.geometry.attributes.lightmapScaleOffset&&(t.geometry.attributes.lightmapScaleOffset.needsUpdate=!0))),b?y&&t.setParent(v):t.setParent(v)})),x){if(!y)return null;v.matrix.identity(),v.decompose()}return v});return e.nodes.forEach(({children:t=[]},e)=>{t.forEach(t=>{s[t]&&s[t].setParent(s[e])})}),r.forEach(({primitives:t},e)=>{t.forEach((t,e)=>{t.isInstancedMesh&&t.addFrustumCull()})}),s}static populateSkins(t,e){t&&t.forEach(t=>{t.joints=t.joints.map((r,i)=>{let n=e[r];return n.skin=t,n.bindInverse=new g.y(...t.inverseBindMatrices.data.slice(16*i,(i+1)*16)),n}),t.skeleton&&(t.skeleton=e[t.skeleton])})}static parseAnimations(t,e,r,i){return e.animations?e.animations.map(({channels:t,samplers:n,name:s},o)=>({name:s,animation:new t$(t.map(({sampler:t,target:s})=>{let{input:a,interpolation:l="LINEAR",output:u}=n[t],{node:c,path:h}=s,d=r[c],f=tG[h],p=this.parseAccessor(a,e,i).data,g=this.parseAccessor(u,e,i).data;return d.animations||(d.animations=[]),d.animations.includes(o)||d.animations.push(o),{node:d,transform:f,interpolation:l,times:p,values:g}}))})):null}static parseScenes(t,e){return t.scenes?t.scenes.map(({nodes:t=[],name:r,extensions:i,extras:n})=>{let s=t.reduce((t,r)=>(e[r]&&t.push(e[r]),t),[]);return s.extras=n,s}):null}static parseLights(t,e,r,i){let n={directional:[],point:[],spot:[]};i.forEach(t=>t.forEach(t=>t.updateMatrixWorld()));let s=e.extensions?.KHR_lights_punctual?.lights||[];return r.forEach(t=>{if(!t?.extensions?.KHR_lights_punctual)return;let e=s[t.extensions.KHR_lights_punctual.light],r={name:e.name||"",color:{value:new b.A().set(e.color||1)}};switch(void 0!==e.intensity&&r.color.value.multiply(e.intensity),e.type){case"directional":r.direction={value:new b.A(0,0,1).transformDirection(t.worldMatrix)};break;case"point":r.position={value:new b.A().applyMatrix4(t.worldMatrix)},r.distance={value:e.range},r.decay={value:2};break;case"spot":Object.assign(r,e)}n[e.type].push(r)}),n}}let tX=0;class tq{constructor(t,e){i||(i=this.getSupportedFormat(e)),this.onMessage=this.onMessage.bind(this),this.queue=new Map,this.initWorker(t)}getSupportedFormat(t=document.createElement("canvas").getContext("webgl")){return t.getExtension("WEBGL_compressed_texture_astc")?"astc":t.getExtension("EXT_texture_compression_bptc")?"bptc":t.getExtension("WEBGL_compressed_texture_s3tc")?"s3tc":t.getExtension("WEBGL_compressed_texture_etc1")?"etc1":t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc")?"pvrtc":"none"}initWorker(t){this.worker=new Worker(t),this.worker.onmessage=this.onMessage}onMessage({data:t}){let{id:e,error:r,image:i}=t;if(r){console.log(r,e);return}let n=this.queue.get(e);this.queue.delete(e),i.isBasis=!0,n(i)}parseTexture(t){let e;tX++,this.worker.postMessage({id:tX,buffer:t,supportedFormat:i});let r=new Promise(t=>e=t);return this.queue.set(tX,e),r}}var tK=r(92859),tZ=r(638),tQ=r(12277);class tJ extends u.K{constructor(t,{size:e=.1,color:r=new b.A(.86,.16,.86),...i}={}){let o=t.gl,a=t.geometry.attributes.normal.count,l=new Float32Array(6*a),u=new Float32Array(6*a),c=new Float32Array(2*a),h=t.geometry.attributes.normal.data,d=t.geometry.attributes.position.data,f=new Float32Array([0,e]);for(let t=0;t<a;t++){let e=6*t,r=3*t,i=d.subarray(r,r+3);l.set(i,e),l.set(i,e+3);let n=h.subarray(r,r+3);u.set(n,e),u.set(n,e+3),c.set(f,2*t)}super(o,{...i,mode:o.LINES,geometry:new n.Z(o,{position:{size:3,data:l},normal:{size:3,data:u},size:{size:1,data:c}}),program:new s.$(o,{vertex:t0,fragment:t1,uniforms:{color:{value:r},worldNormalMatrix:{value:new p.T},objectWorldMatrix:{value:t.worldMatrix}}})}),this.object=t}draw(t){this.program.uniforms.worldNormalMatrix.value.getNormalMatrix(this.object.worldMatrix),super.draw(t)}}let t0=`
attribute vec3 position;
attribute vec3 normal;
attribute float size;

uniform mat4 viewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 objectWorldMatrix;
uniform mat3 worldNormalMatrix;

void main() {
    vec3 n = normalize(worldNormalMatrix * normal) * size;
    vec3 p = (objectWorldMatrix * vec4(position, 1.0)).xyz;
    gl_Position = projectionMatrix * viewMatrix * vec4(p + n, 1.0);
}
`,t1=`
precision highp float;
uniform vec3 color;

void main() {    
    gl_FragColor = vec4(color, 1.0);
}
`,t2=new b.A,t3=new b.A,t5=new b.A,t4=new b.A,t6=new b.A;class t8 extends u.K{constructor(t,{size:e=.1,color:r=new b.A(.15,.86,.86),...i}={}){let o=t.gl,a=t.geometry.attributes.position.data,l=new Float32Array([0,e]),u=t.geometry.attributes.index,c=u?t=>u.data[t]:t=>t,h=u?u.data.length:Math.floor(a.length/3),d=Math.floor(h/3),f=new Float32Array(6*d),g=new Float32Array(6*d),m=new Float32Array(2*d);for(let t=0;t<h;t+=3){t2.fromArray(a,3*c(t+0)),t3.fromArray(a,3*c(t+1)),t5.fromArray(a,3*c(t+2)),t4.add(t2,t3).add(t5).multiply(1/3),t2.sub(t2,t3),t5.sub(t5,t3),t6.cross(t5,t2).normalize();let e=2*t;f.set(t4,e),f.set(t4,e+3),g.set(t6,e),g.set(t6,e+3),m.set(l,t/3*2)}super(o,{...i,mode:o.LINES,geometry:new n.Z(o,{position:{size:3,data:f},normal:{size:3,data:g},size:{size:1,data:m}}),program:new s.$(o,{vertex:t9,fragment:t7,uniforms:{color:{value:r},worldNormalMatrix:{value:new p.T},objectWorldMatrix:{value:t.worldMatrix}}})}),this.object=t}draw(t){this.program.uniforms.worldNormalMatrix.value.getNormalMatrix(this.object.worldMatrix),super.draw(t)}}let t9=`
attribute vec3 position;
attribute vec3 normal;
attribute float size;

uniform mat4 viewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 objectWorldMatrix;
uniform mat3 worldNormalMatrix;

void main() {
    vec3 n = normalize(worldNormalMatrix * normal) * size;
    vec3 p = (objectWorldMatrix * vec4(position, 1.0)).xyz;
    gl_Position = projectionMatrix * viewMatrix * vec4(p + n, 1.0);
}
`,t7=`
precision highp float;
uniform vec3 color;

void main() {    
    gl_FragColor = vec4(color, 1.0);
}
`},28027:(t,e,r)=>{"use strict";r.d(e,{I:()=>o});let i={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function n(t){4===t.length&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function s(t){if(void 0===t)return[0,0,0];if(3==arguments.length)return arguments;if(!isNaN(t)){var e;return[((e=parseInt(e=t))>>16&255)/255,(e>>8&255)/255,(255&e)/255]}return"#"===t[0]?n(t):i[t.toLowerCase()]?n(i[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0])}class o extends Array{constructor(t){if(Array.isArray(t))return super(...t);return super(...s(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(t){this[0]=t}set g(t){this[1]=t}set b(t){this[2]=t}set(t){return Array.isArray(t)?this.copy(t):this.copy(s(...arguments))}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this}}},31984:(t,e,r)=>{"use strict";r.d(e,{U:()=>n});let i=new(r(56957)).y;class n extends Array{constructor(t=0,e=t,r=t,i="YXZ"){super(t,e,r),this.order=i,this.onChange=()=>{},this._target=this;let n=["0","1","2"];return new Proxy(this,{set(t,e){let r=Reflect.set(...arguments);return r&&n.includes(e)&&t.onChange(),r}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,e=t,r=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=e,this._target[2]=r,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return!function(t,e,r="YXZ"){"XYZ"===r?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),.99999>Math.abs(e[8])?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):"YXZ"===r?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),.99999>Math.abs(e[9])?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):"ZXY"===r?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),.99999>Math.abs(e[6])?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):"ZYX"===r?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),.99999>Math.abs(e[2])?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):"YZX"===r?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),.99999>Math.abs(e[1])?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):"XZY"===r&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),.99999>Math.abs(e[4])?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0))}(this._target,t,e),this.onChange(),this}fromQuaternion(t,e=this.order,r){return i.fromQuaternion(t),this._target.fromRotationMatrix(i,e),r||this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}},78604:(t,e,r)=>{"use strict";function i(t,e,r){let i=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=r[0],f=r[1],p=r[2],g=r[3],m=r[4],v=r[5],b=r[6],y=r[7],x=r[8];return t[0]=d*i+f*o+p*u,t[1]=d*n+f*a+p*c,t[2]=d*s+f*l+p*h,t[3]=g*i+m*o+v*u,t[4]=g*n+m*a+v*c,t[5]=g*s+m*l+v*h,t[6]=b*i+y*o+x*u,t[7]=b*n+y*a+x*c,t[8]=b*s+y*l+x*h,t}r.d(e,{T:()=>n});class n extends Array{constructor(t=1,e=0,r=0,i=0,n=1,s=0,o=0,a=0,l=1){return super(t,e,r,i,n,s,o,a,l),this}set(t,e,r,i,n,s,o,a,l){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=r,this[3]=i,this[4]=n,this[5]=s,this[6]=o,this[7]=a,this[8]=l,this)}translate(t,e=this){let r,i,n,s,o,a,l,u,c,h,d;return r=e[0],i=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=t[0],d=t[1],this[0]=r,this[1]=i,this[2]=n,this[3]=s,this[4]=o,this[5]=a,this[6]=h*r+d*s+l,this[7]=h*i+d*o+u,this[8]=h*n+d*a+c,this}rotate(t,e=this){let r,i,n,s,o,a,l,u,c,h,d;return r=e[0],i=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=Math.sin(t),d=Math.cos(t),this[0]=d*r+h*s,this[1]=d*i+h*o,this[2]=d*n+h*a,this[3]=d*s-h*r,this[4]=d*o-h*i,this[5]=d*a-h*n,this[6]=l,this[7]=u,this[8]=c,this}scale(t,e=this){let r,i;return r=t[0],i=t[1],this[0]=r*e[0],this[1]=r*e[1],this[2]=r*e[2],this[3]=i*e[3],this[4]=i*e[4],this[5]=i*e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this}multiply(t,e){return e?i(this,t,e):i(this,this,t),this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this}fromMatrix4(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[4],this[4]=t[5],this[5]=t[6],this[6]=t[8],this[7]=t[9],this[8]=t[10],this}fromQuaternion(t){let e,r,i,n,s,o,a,l,u,c,h,d,f,p,g,m;return e=t[0],r=t[1],i=t[2],n=t[3],s=e+e,o=r+r,a=i+i,l=e*s,u=r*s,c=r*o,h=i*s,d=i*o,f=i*a,p=n*s,g=n*o,m=n*a,this[0]=1-c-f,this[3]=u-m,this[6]=h+g,this[1]=u+m,this[4]=1-l-f,this[7]=d-p,this[2]=h-g,this[5]=d+p,this[8]=1-l-c,this}fromBasis(t,e,r){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],r[0],r[1],r[2]),this}inverse(t=this){let e,r,i,n,s,o,a,l,u,c,h,d,f;return e=t[0],r=t[1],i=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],(f=e*(c=(u=t[8])*s-o*l)+r*(h=-u*n+o*a)+i*(d=l*n-s*a))&&(f=1/f,this[0]=c*f,this[1]=(-u*r+i*l)*f,this[2]=(o*r-i*s)*f,this[3]=h*f,this[4]=(u*e-i*a)*f,this[5]=(-o*e+i*n)*f,this[6]=d*f,this[7]=(-l*e+r*a)*f,this[8]=(s*e-r*n)*f),this}getNormalMatrix(t){let e,r,i,n,s,o,a,l,u,c,h,d,f,p,g,m,v,b,y,x,w,E,_,A,S,M,T,R,O;return e=t[0],r=t[1],i=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],m=t[15],v=e*o-r*s,b=e*a-i*s,y=e*l-n*s,x=r*a-i*o,w=r*l-n*o,E=i*l-n*a,_=u*p-c*f,A=u*g-h*f,S=u*m-d*f,M=c*g-h*p,T=c*m-d*p,(O=v*(R=h*m-d*g)-b*T+y*M+x*S-w*A+E*_)&&(O=1/O,this[0]=(o*R-a*T+l*M)*O,this[1]=(a*S-s*R-l*A)*O,this[2]=(s*T-o*S+l*_)*O,this[3]=(i*T-r*R-n*M)*O,this[4]=(e*R-i*S+n*A)*O,this[5]=(r*S-e*T-n*_)*O,this[6]=(p*E-g*w+m*x)*O,this[7]=(g*y-f*E-m*b)*O,this[8]=(f*w-p*y+m*v)*O),this}}},56957:(t,e,r)=>{"use strict";r.d(e,{y:()=>c});var i=r(13597);function n(t){let e=t[0],r=t[1],i=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],m=t[15];return(e*o-r*s)*(h*m-d*g)-(e*a-i*s)*(c*m-d*p)+(e*l-n*s)*(c*g-h*p)+(r*a-i*o)*(u*m-d*f)-(r*l-n*o)*(u*g-h*f)+(i*l-n*a)*(u*p-c*f)}function s(t,e,r){let i=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],b=e[15],y=r[0],x=r[1],w=r[2],E=r[3];return t[0]=y*i+x*a+w*h+E*g,t[1]=y*n+x*l+w*d+E*m,t[2]=y*s+x*u+w*f+E*v,t[3]=y*o+x*c+w*p+E*b,y=r[4],x=r[5],w=r[6],E=r[7],t[4]=y*i+x*a+w*h+E*g,t[5]=y*n+x*l+w*d+E*m,t[6]=y*s+x*u+w*f+E*v,t[7]=y*o+x*c+w*p+E*b,y=r[8],x=r[9],w=r[10],E=r[11],t[8]=y*i+x*a+w*h+E*g,t[9]=y*n+x*l+w*d+E*m,t[10]=y*s+x*u+w*f+E*v,t[11]=y*o+x*c+w*p+E*b,y=r[12],x=r[13],w=r[14],E=r[15],t[12]=y*i+x*a+w*h+E*g,t[13]=y*n+x*l+w*d+E*m,t[14]=y*s+x*u+w*f+E*v,t[15]=y*o+x*c+w*p+E*b,t}function o(t,e){let r=e[0],i=e[1],n=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(r,i,n),t[1]=Math.hypot(s,o,a),t[2]=Math.hypot(l,u,c),t}let a=function(){let t=[1,1,1];return function(e,r){o(t,r);let i=1/t[0],n=1/t[1],s=1/t[2],a=r[0]*i,l=r[1]*n,u=r[2]*s,c=r[4]*i,h=r[5]*n,d=r[6]*s,f=r[8]*i,p=r[9]*n,g=r[10]*s,m=a+h+g,v=0;return m>0?(v=2*Math.sqrt(m+1),e[3]=.25*v,e[0]=(d-p)/v,e[1]=(f-u)/v,e[2]=(l-c)/v):a>h&&a>g?(v=2*Math.sqrt(1+a-h-g),e[3]=(d-p)/v,e[0]=.25*v,e[1]=(l+c)/v,e[2]=(f+u)/v):h>g?(v=2*Math.sqrt(1+h-a-g),e[3]=(f-u)/v,e[0]=(l+c)/v,e[1]=.25*v,e[2]=(d+p)/v):(v=2*Math.sqrt(1+g-a-h),e[3]=(l-c)/v,e[0]=(f+u)/v,e[1]=(d+p)/v,e[2]=.25*v),e}}();function l(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function u(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}class c extends Array{constructor(t=1,e=0,r=0,i=0,n=0,s=1,o=0,a=0,l=0,u=0,c=1,h=0,d=0,f=0,p=0,g=1){return super(t,e,r,i,n,s,o,a,l,u,c,h,d,f,p,g),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,r,i,n,s,o,a,l,u,c,h,d,f,p,g){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=r,this[3]=i,this[4]=n,this[5]=s,this[6]=o,this[7]=a,this[8]=l,this[9]=u,this[10]=c,this[11]=h,this[12]=d,this[13]=f,this[14]=p,this[15]=g,this)}translate(t,e=this){let r,i,n,s,o,a,l,u,c,h,d,f,p,g,m;return p=t[0],g=t[1],m=t[2],e===this?(this[12]=e[0]*p+e[4]*g+e[8]*m+e[12],this[13]=e[1]*p+e[5]*g+e[9]*m+e[13],this[14]=e[2]*p+e[6]*g+e[10]*m+e[14],this[15]=e[3]*p+e[7]*g+e[11]*m+e[15]):(r=e[0],i=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],f=e[11],this[0]=r,this[1]=i,this[2]=n,this[3]=s,this[4]=o,this[5]=a,this[6]=l,this[7]=u,this[8]=c,this[9]=h,this[10]=d,this[11]=f,this[12]=r*p+o*g+c*m+e[12],this[13]=i*p+a*g+h*m+e[13],this[14]=n*p+l*g+d*m+e[14],this[15]=s*p+u*g+f*m+e[15]),this}rotate(t,e,r=this){let i,n,s,o,a,l,u,c,h,d,f,p,g,m,v,b,y,x,w,E,_,A,S,M,T,R,O,P;return 1e-6>Math.abs(P=Math.hypot(T=e[0],R=e[1],O=e[2]))||(T*=P=1/P,R*=P,O*=P,i=Math.sin(t),s=1-(n=Math.cos(t)),o=r[0],a=r[1],l=r[2],u=r[3],c=r[4],h=r[5],d=r[6],f=r[7],p=r[8],g=r[9],m=r[10],v=r[11],b=T*T*s+n,y=R*T*s+O*i,x=O*T*s-R*i,w=T*R*s-O*i,E=R*R*s+n,_=O*R*s+T*i,A=T*O*s+R*i,S=R*O*s-T*i,M=O*O*s+n,this[0]=o*b+c*y+p*x,this[1]=a*b+h*y+g*x,this[2]=l*b+d*y+m*x,this[3]=u*b+f*y+v*x,this[4]=o*w+c*E+p*_,this[5]=a*w+h*E+g*_,this[6]=l*w+d*E+m*_,this[7]=u*w+f*E+v*_,this[8]=o*A+c*S+p*M,this[9]=a*A+h*S+g*M,this[10]=l*A+d*S+m*M,this[11]=u*A+f*S+v*M,r!==this&&(this[12]=r[12],this[13]=r[13],this[14]=r[14],this[15]=r[15])),this}scale(t,e=this){var r;let i,n,s;return i=(r="number"==typeof t?[t,t,t]:t)[0],n=r[1],s=r[2],this[0]=e[0]*i,this[1]=e[1]*i,this[2]=e[2]*i,this[3]=e[3]*i,this[4]=e[4]*n,this[5]=e[5]*n,this[6]=e[6]*n,this[7]=e[7]*n,this[8]=e[8]*s,this[9]=e[9]*s,this[10]=e[10]*s,this[11]=e[11]*s,this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this}add(t,e){return e?l(this,t,e):l(this,this,t),this}sub(t,e){return e?u(this,t,e):u(this,this,t),this}multiply(t,e){return t.length?e?s(this,t,e):s(this,this,t):(this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,this[4]=this[4]*t,this[5]=this[5]*t,this[6]=this[6]*t,this[7]=this[7]*t,this[8]=this[8]*t,this[9]=this[9]*t,this[10]=this[10]*t,this[11]=this[11]*t,this[12]=this[12]*t,this[13]=this[13]*t,this[14]=this[14]*t,this[15]=this[15]*t),this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=1,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this}fromPerspective({fov:t,aspect:e,near:r,far:i}={}){let n,s;return n=1/Math.tan(t/2),s=1/(r-i),this[0]=n/e,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=n,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=(i+r)*s,this[11]=-1,this[12]=0,this[13]=0,this[14]=2*i*r*s,this[15]=0,this}fromOrthogonal({left:t,right:e,bottom:r,top:i,near:n,far:s}){let o,a,l;return o=1/(t-e),a=1/(r-i),l=1/(n-s),this[0]=-2*o,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=-2*a,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=2*l,this[11]=0,this[12]=(t+e)*o,this[13]=(i+r)*a,this[14]=(s+n)*l,this[15]=1,this}fromQuaternion(t){let e,r,i,n,s,o,a,l,u,c,h,d,f,p,g,m;return e=t[0],r=t[1],i=t[2],n=t[3],s=e+e,o=r+r,a=i+i,l=e*s,u=r*s,c=r*o,h=i*s,d=i*o,f=i*a,p=n*s,g=n*o,m=n*a,this[0]=1-c-f,this[1]=u+m,this[2]=h-g,this[3]=0,this[4]=u-m,this[5]=1-l-f,this[6]=d+p,this[7]=0,this[8]=h+g,this[9]=d-p,this[10]=1-l-c,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){let e,r,i,n,s,o,a,l,u,c,h,d,f,p,g,m,v,b,y,x,w,E,_,A,S,M,T,R,O;return e=t[0],r=t[1],i=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],m=t[15],v=e*o-r*s,b=e*a-i*s,y=e*l-n*s,x=r*a-i*o,w=r*l-n*o,E=i*l-n*a,_=u*p-c*f,A=u*g-h*f,S=u*m-d*f,M=c*g-h*p,T=c*m-d*p,(O=v*(R=h*m-d*g)-b*T+y*M+x*S-w*A+E*_)&&(O=1/O,this[0]=(o*R-a*T+l*M)*O,this[1]=(i*T-r*R-n*M)*O,this[2]=(p*E-g*w+m*x)*O,this[3]=(h*w-c*E-d*x)*O,this[4]=(a*S-s*R-l*A)*O,this[5]=(e*R-i*S+n*A)*O,this[6]=(g*y-f*E-m*b)*O,this[7]=(u*E-h*y+d*b)*O,this[8]=(s*T-o*S+l*_)*O,this[9]=(r*S-e*T-n*_)*O,this[10]=(f*w-p*y+m*v)*O,this[11]=(c*y-u*w-d*v)*O,this[12]=(o*A-s*M-a*_)*O,this[13]=(e*M-r*A+i*_)*O,this[14]=(p*b-f*x-g*v)*O,this[15]=(u*x-c*b+h*v)*O),this}compose(t,e,r){return!function(t,e,r,i){let n=e[0],s=e[1],o=e[2],a=e[3],l=n+n,u=s+s,c=o+o,h=n*l,d=n*u,f=n*c,p=s*u,g=s*c,m=o*c,v=a*l,b=a*u,y=a*c,x=i[0],w=i[1],E=i[2];t[0]=(1-(p+m))*x,t[1]=(d+y)*x,t[2]=(f-b)*x,t[3]=0,t[4]=(d-y)*w,t[5]=(1-(h+m))*w,t[6]=(g+v)*w,t[7]=0,t[8]=(f+b)*E,t[9]=(g-v)*E,t[10]=(1-(h+p))*E,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1}(this,t,e,r),this}decompose(t,e,r){return!function(t,e,r,s){let o=i.kE([t[0],t[1],t[2]]),l=i.kE([t[4],t[5],t[6]]),u=i.kE([t[8],t[9],t[10]]);0>n(t)&&(o=-o),r[0]=t[12],r[1]=t[13],r[2]=t[14];let c=t.slice(),h=1/o,d=1/l,f=1/u;c[0]*=h,c[1]*=h,c[2]*=h,c[4]*=d,c[5]*=d,c[6]*=d,c[8]*=f,c[9]*=f,c[10]*=f,a(e,c),s[0]=o,s[1]=l,s[2]=u}(this,t,e,r),this}getRotation(t){return a(t,this),this}getTranslation(t){return t[0]=this[12],t[1]=this[13],t[2]=this[14],this}getScaling(t){return o(t,this),this}getMaxScaleOnAxis(){let t,e,r,i,n,s,o,a,l;return t=this[0],e=this[1],r=this[2],i=this[4],n=this[5],s=this[6],Math.sqrt(Math.max(t*t+e*e+r*r,i*i+n*n+s*s,(o=this[8])*o+(a=this[9])*a+(l=this[10])*l))}lookAt(t,e,r){let i,n,s,o,a,l,u,c,h,d,f,p,g;return i=t[0],n=t[1],s=t[2],o=r[0],a=r[1],l=r[2],0==(d=(u=i-e[0])*u+(c=n-e[1])*c+(h=s-e[2])*h)?h=1:(u*=d=1/Math.sqrt(d),c*=d,h*=d),0==(d=(f=a*h-l*c)*f+(p=l*u-o*h)*p+(g=o*c-a*u)*g)&&(l?o+=1e-6:a?l+=1e-6:a+=1e-6,d=(f=a*h-l*c)*f+(p=l*u-o*h)*p+(g=o*c-a*u)*g),f*=d=1/Math.sqrt(d),p*=d,g*=d,this[0]=f,this[1]=p,this[2]=g,this[3]=0,this[4]=c*g-h*p,this[5]=h*f-u*g,this[6]=u*p-c*f,this[7]=0,this[8]=u,this[9]=c,this[10]=h,this[11]=0,this[12]=i,this[13]=n,this[14]=s,this[15]=1,this}determinant(){return n(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}},8211:(t,e,r)=>{"use strict";r.d(e,{D:()=>u});var i=r(7106);function n(t,e,r){let i=e[0],n=e[1],s=e[2],o=e[3],a=r[0],l=r[1],u=r[2],c=r[3];return t[0]=i*c+o*a+n*u-s*l,t[1]=n*c+o*l+s*a-i*u,t[2]=s*c+o*u+i*l-n*a,t[3]=o*c-i*a-n*l-s*u,t}let s=i.JG,o=i.t8;i.IH,i.bA;let a=i.AK;i.t7,i.kE;let l=i.Fv;class u extends Array{constructor(t=0,e=0,r=0,i=1){super(t,e,r,i),this.onChange=()=>{},this._target=this;let n=["0","1","2","3"];return new Proxy(this,{set(t,e){let r=Reflect.set(...arguments);return r&&n.includes(e)&&t.onChange(),r}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){var t;return(t=this._target)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.onChange(),this}set(t,e,r,i){return t.length?this.copy(t):(o(this._target,t,e,r,i),this.onChange(),this)}rotateX(t){var e,r,i;let n,s,o,a,l,u;return e=this._target,r=this._target,i=.5*t,n=r[0],s=r[1],o=r[2],a=r[3],l=Math.sin(i),u=Math.cos(i),e[0]=n*u+a*l,e[1]=s*u+o*l,e[2]=o*u-s*l,e[3]=a*u-n*l,this.onChange(),this}rotateY(t){var e,r,i;let n,s,o,a,l,u;return e=this._target,r=this._target,i=.5*t,n=r[0],s=r[1],o=r[2],a=r[3],l=Math.sin(i),u=Math.cos(i),e[0]=n*u-o*l,e[1]=s*u+a*l,e[2]=o*u+n*l,e[3]=a*u-s*l,this.onChange(),this}rotateZ(t){var e,r,i;let n,s,o,a,l,u;return e=this._target,r=this._target,i=.5*t,n=r[0],s=r[1],o=r[2],a=r[3],l=Math.sin(i),u=Math.cos(i),e[0]=n*u+s*l,e[1]=s*u-n*l,e[2]=o*u+a*l,e[3]=a*u-o*l,this.onChange(),this}inverse(t=this._target){var e;let r,i,n,s,o,a;return e=this._target,r=t[0],a=(o=r*r+(i=t[1])*i+(n=t[2])*n+(s=t[3])*s)?1/o:0,e[0]=-r*a,e[1]=-i*a,e[2]=-n*a,e[3]=s*a,this.onChange(),this}conjugate(t=this._target){var e;return(e=this._target)[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.onChange(),this}copy(t){return s(this._target,t),this.onChange(),this}normalize(t=this._target){return l(this._target,t),this.onChange(),this}multiply(t,e){return e?n(this._target,t,e):n(this._target,this._target,t),this.onChange(),this}dot(t){return a(this._target,t)}fromMatrix3(t){return!function(t,e){let r,i=e[0]+e[4]+e[8];if(i>0)r=Math.sqrt(i+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);let n=(i+1)%3,s=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*n+n]-e[3*s+s]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*n+s]-e[3*s+n])*r,t[n]=(e[3*n+i]+e[3*i+n])*r,t[s]=(e[3*s+i]+e[3*i+s])*r}}(this._target,t),this.onChange(),this}fromEuler(t,e){return!function(t,e,r="YXZ"){let i=Math.sin(.5*e[0]),n=Math.cos(.5*e[0]),s=Math.sin(.5*e[1]),o=Math.cos(.5*e[1]),a=Math.sin(.5*e[2]),l=Math.cos(.5*e[2]);"XYZ"===r?(t[0]=i*o*l+n*s*a,t[1]=n*s*l-i*o*a,t[2]=n*o*a+i*s*l,t[3]=n*o*l-i*s*a):"YXZ"===r?(t[0]=i*o*l+n*s*a,t[1]=n*s*l-i*o*a,t[2]=n*o*a-i*s*l,t[3]=n*o*l+i*s*a):"ZXY"===r?(t[0]=i*o*l-n*s*a,t[1]=n*s*l+i*o*a,t[2]=n*o*a+i*s*l,t[3]=n*o*l-i*s*a):"ZYX"===r?(t[0]=i*o*l-n*s*a,t[1]=n*s*l+i*o*a,t[2]=n*o*a-i*s*l,t[3]=n*o*l+i*s*a):"YZX"===r?(t[0]=i*o*l+n*s*a,t[1]=n*s*l+i*o*a,t[2]=n*o*a-i*s*l,t[3]=n*o*l-i*s*a):"XZY"===r&&(t[0]=i*o*l-n*s*a,t[1]=n*s*l-i*o*a,t[2]=n*o*a+i*s*l,t[3]=n*o*l+i*s*a)}(this._target,t,t.order),e||this.onChange(),this}fromAxisAngle(t,e){var r,i;let n;return r=this._target,n=Math.sin(i=.5*e),r[0]=n*t[0],r[1]=n*t[1],r[2]=n*t[2],r[3]=Math.cos(i),this.onChange(),this}slerp(t,e){var r,i;let n,s,o,a,l,u,c,h,d,f,p,g,m;return r=this._target,u=(i=this._target)[0],c=i[1],h=i[2],d=i[3],f=t[0],(s=u*f+c*(p=t[1])+h*(g=t[2])+d*(m=t[3]))<0&&(s=-s,f=-f,p=-p,g=-g,m=-m),1-s>1e-6?(o=Math.sin(n=Math.acos(s)),a=Math.sin((1-e)*n)/o,l=Math.sin(e*n)/o):(a=1-e,l=e),r[0]=a*u+l*f,r[1]=a*c+l*p,r[2]=a*h+l*g,r[3]=a*d+l*m,this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this._target[3]=t[e+3],this.onChange(),this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}},36187:(t,e,r)=>{"use strict";function i(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function n(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function s(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function o(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function a(t,e){return t[0]*e[1]-t[1]*e[0]}r.d(e,{S:()=>l});class l extends Array{constructor(t=0,e=t){return super(t,e),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,e=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this)}copy(t){return this[0]=t[0],this[1]=t[1],this}add(t,e){return e?i(this,t,e):i(this,this,t),this}sub(t,e){return e?n(this,t,e):n(this,this,t),this}multiply(t){return t.length?(this[0]=this[0]*t[0],this[1]=this[1]*t[1]):s(this,this,t),this}divide(t){return t.length?(this[0]=this[0]/t[0],this[1]=this[1]/t[1]):s(this,this,1/t),this}inverse(t=this){return this[0]=1/t[0],this[1]=1/t[1],this}len(){return o(this)}distance(t){var e,r;return t?Math.sqrt((e=t[0]-this[0])*e+(r=t[1]-this[1])*r):o(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){var e,r,i,n;return t?(e=t[0]-this[0])*e+(r=t[1]-this[1])*r:(i=this[0])*i+(n=this[1])*n}negate(t=this){return this[0]=-t[0],this[1]=-t[1],this}cross(t,e){return e?a(t,e):a(this,t)}scale(t){return s(this,this,t),this}normalize(){var t,e,r;return(r=(t=this[0])*t+(e=this[1])*e)>0&&(r=1/Math.sqrt(r)),this[0]=this[0]*r,this[1]=this[1]*r,this}dot(t){return this[0]*t[0]+this[1]*t[1]}equals(t){return this[0]===t[0]&&this[1]===t[1]}applyMatrix3(t){var e,r;return e=this[0],r=this[1],this[0]=t[0]*e+t[3]*r+t[6],this[1]=t[1]*e+t[4]*r+t[7],this}applyMatrix4(t){let e,r;return e=this[0],r=this[1],this[0]=t[0]*e+t[4]*r+t[12],this[1]=t[1]*e+t[5]*r+t[13],this}lerp(t,e){var r,i;return r=this[0],i=this[1],this[0]=r+e*(t[0]-r),this[1]=i+e*(t[1]-i),this}clone(){return new l(this[0],this[1])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t}}},18167:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});var i=r(13597);class n extends Array{constructor(t=0,e=t,r=t){return super(t,e,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,r=t){return t.length?this.copy(t):(i.t8(this,t,e,r),this)}copy(t){return i.JG(this,t),this}add(t,e){return e?i.IH(this,t,e):i.IH(this,this,t),this}sub(t,e){return e?i.$X(this,t,e):i.$X(this,this,t),this}multiply(t){return t.length?i.Jp(this,this,t):i.bA(this,this,t),this}divide(t){return t.length?i.cs(this,this,t):i.bA(this,this,1/t),this}inverse(t=this){return i.SO(this,t),this}len(){return i.kE(this)}distance(t){return t?i.TE(this,t):i.kE(this)}squaredLen(){return i.we(this)}squaredDistance(t){return t?i.bI(this,t):i.we(this)}negate(t=this){return i.tk(this,t),this}cross(t,e){return e?i.kC(this,t,e):i.kC(this,this,t),this}scale(t){return i.bA(this,this,t),this}normalize(){return i.Fv(this,this),this}dot(t){return i.AK(this,t)}equals(t){return i.I6(this,t)}applyMatrix3(t){return i.kK(this,this,t),this}applyMatrix4(t){return i.fF(this,this,t),this}scaleRotateMatrix4(t){return i.YY(this,this,t),this}applyQuaternion(t){return i.VC(this,this,t),this}angle(t){return i.EU(this,t)}lerp(t,e){return i.t7(this,this,t,e),this}clone(){return new n(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){let e=this[0],r=this[1],i=this[2];return this[0]=t[0]*e+t[4]*r+t[8]*i,this[1]=t[1]*e+t[5]*r+t[9]*i,this[2]=t[2]*e+t[6]*r+t[10]*i,this.normalize()}}},13597:(t,e,r)=>{"use strict";function i(t){let e=t[0],r=t[1],i=t[2];return Math.sqrt(e*e+r*r+i*i)}function n(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function s(t,e,r,i){return t[0]=e,t[1]=r,t[2]=i,t}function o(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function u(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function c(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function h(t,e){let r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}function d(t,e){let r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return r*r+i*i+n*n}function f(t){let e=t[0],r=t[1],i=t[2];return e*e+r*r+i*i}function p(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function g(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function m(t,e){let r=e[0],i=e[1],n=e[2],s=r*r+i*i+n*n;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function v(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function b(t,e,r){let i=e[0],n=e[1],s=e[2],o=r[0],a=r[1],l=r[2];return t[0]=n*l-s*a,t[1]=s*o-i*l,t[2]=i*a-n*o,t}function y(t,e,r,i){let n=e[0],s=e[1],o=e[2];return t[0]=n+i*(r[0]-n),t[1]=s+i*(r[1]-s),t[2]=o+i*(r[2]-o),t}function x(t,e,r){let i=e[0],n=e[1],s=e[2],o=r[3]*i+r[7]*n+r[11]*s+r[15];return o=o||1,t[0]=(r[0]*i+r[4]*n+r[8]*s+r[12])/o,t[1]=(r[1]*i+r[5]*n+r[9]*s+r[13])/o,t[2]=(r[2]*i+r[6]*n+r[10]*s+r[14])/o,t}function w(t,e,r){let i=e[0],n=e[1],s=e[2],o=r[3]*i+r[7]*n+r[11]*s+r[15];return o=o||1,t[0]=(r[0]*i+r[4]*n+r[8]*s)/o,t[1]=(r[1]*i+r[5]*n+r[9]*s)/o,t[2]=(r[2]*i+r[6]*n+r[10]*s)/o,t}function E(t,e,r){let i=e[0],n=e[1],s=e[2];return t[0]=i*r[0]+n*r[3]+s*r[6],t[1]=i*r[1]+n*r[4]+s*r[7],t[2]=i*r[2]+n*r[5]+s*r[8],t}function _(t,e,r){let i=e[0],n=e[1],s=e[2],o=r[0],a=r[1],l=r[2],u=r[3],c=a*s-l*n,h=l*i-o*s,d=o*n-a*i,f=a*d-l*h,p=l*c-o*d,g=o*h-a*c,m=2*u;return c*=m,h*=m,d*=m,f*=2,p*=2,g*=2,t[0]=i+c+f,t[1]=n+h+p,t[2]=s+d+g,t}r.d(e,{$X:()=>a,AK:()=>v,EU:()=>A,Fv:()=>m,I6:()=>S,IH:()=>o,JG:()=>n,Jp:()=>l,SO:()=>g,TE:()=>h,VC:()=>_,YY:()=>w,bA:()=>c,bI:()=>d,cs:()=>u,fF:()=>x,kC:()=>b,kE:()=>i,kK:()=>E,t7:()=>y,t8:()=>s,tk:()=>p,we:()=>f});let A=function(){let t=[0,0,0],e=[0,0,0];return function(r,i){n(t,r),n(e,i),m(t,t),m(e,e);let s=v(t,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();function S(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},7106:(t,e,r)=>{"use strict";function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function n(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}function s(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function o(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function a(t){let e=t[0],r=t[1],i=t[2],n=t[3];return Math.sqrt(e*e+r*r+i*i+n*n)}function l(t,e){let r=e[0],i=e[1],n=e[2],s=e[3],o=r*r+i*i+n*n+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=i*o,t[2]=n*o,t[3]=s*o,t}function u(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function c(t,e,r,i){let n=e[0],s=e[1],o=e[2],a=e[3];return t[0]=n+i*(r[0]-n),t[1]=s+i*(r[1]-s),t[2]=o+i*(r[2]-o),t[3]=a+i*(r[3]-a),t}r.d(e,{AK:()=>u,Fv:()=>l,IH:()=>s,JG:()=>i,bA:()=>o,kE:()=>a,t7:()=>c,t8:()=>n})},19416:(t,e,r)=>{"use strict";r.d(e,{L_:()=>n,XI:()=>i,zj:()=>s});let i=["onClick","onPointerUp","onPointerDown","onPointerMove","onPointerOver","onPointerOut"],n=["children","key","ref","__self","__source"],s=["args","object","dispose","attach"]},42983:(t,e,r)=>{"use strict";r.d(e,{qZ:()=>d,xQ:()=>g,LI:()=>h,U2:()=>m,Cp:()=>p,oR:()=>f});var i,n,s=r(15791),o=r(94071);let a=t=>"object"==typeof t&&"function"==typeof t.then,l=[],u=(t,e,r)=>(function(t,e=null,r=!1,i={}){for(let n of(null===e&&(e=[t]),l))if(function(t,e,r=(t,e)=>t===e){if(t===e)return!0;if(!t||!e)return!1;let i=t.length;if(e.length!==i)return!1;for(let n=0;n<i;n++)if(!r(t[n],e[n]))return!1;return!0}(e,n.keys,n.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return i.lifespan&&i.lifespan>0&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(n.remove,i.lifespan)),n.response;if(!r)throw n.promise}let n={keys:e,equal:i.equal,remove:()=>{let t=l.indexOf(n);-1!==t&&l.splice(t,1)},promise:(a(t)?t:t(...e)).then(t=>{n.response=t,i.lifespan&&i.lifespan>0&&(n.timeout=setTimeout(n.remove,i.lifespan))}).catch(t=>n.error=t)};if(l.push(n),!r)throw n.promise})(t,e,!1,r);var c=r(96022);let h="undefined"!=typeof window&&((null==(i=window.document)?void 0:i.createElement)||(null==(n=window.navigator)?void 0:n.product)==="ReactNative")?s.useLayoutEffect:s.useEffect,d=s.createContext(null);function f(){let t=s.useContext(d);if(!t)throw"react-ogl hooks can only used inside a canvas or OGLContext provider!";return t}function p(t=t=>t,e){return f()(t,e)}function g(t,e=0){let r=p(t=>t.subscribe),i=p(t=>t.unsubscribe),n=s.useRef(t);h(()=>void(n.current=t),[t]),h(()=>(r(n,e),()=>void i(n,e)),[r,i,e])}function m(t,e,r){return u(async(t,i,...n)=>{null==r||r(i);let s=await Promise.all(n.map(async e=>(0,c.wN)(i,o.d)?i.load(t,{src:e}):await i.load(t,e)));return Array.isArray(e)?s:s[0]},[p(t=>t.gl),t,...Array.isArray(e)?e:[e]])}},96022:(t,e,r)=>{"use strict";r.d(e,{KN:()=>h,Mh:()=>u,Pl:()=>d,SV:()=>x,gO:()=>y,nH:()=>v,nj:()=>b,og:()=>m,ub:()=>g,wN:()=>c});var i=r(15791),n=r(28027),s=r(35762),o=r(930),a=r(19416),l=r(42983);let u=t=>t.charAt(0).toUpperCase()+t.substring(1),c=(t,e)=>Object.prototype.isPrototypeOf.call(t,e)||t===e,h=t=>Array.isArray(t)?Math.min(Math.max(t[0],window.devicePixelRatio),t[1]):t;function d(t,e,r,i){let n=null!=t?t:{},s=n.__ogl;return s||(s={root:e,parent:null,children:[],type:r,props:function(t){let e={};for(let r in t)a.L_.includes(r)||(e[r]=t[r]);return e}(i),object:n,isHidden:!1},n.__ogl=s),s}function f(t,e){let r=t[e];if(!e.includes("-"))return{root:t,key:e,target:r};let i=e.split("-");return r=i.reduce((t,e)=>t[e],t),e=i.pop(),(null==r?void 0:r.set)||(t=i.reduce((t,e)=>t[e],t)),{root:t,key:e,target:r}}let p=/-\d+$/;function g(t,e){if("string"==typeof e.props.attach){if(p.test(e.props.attach)){let r=e.props.attach.replace(p,""),{root:i,key:n}=f(t.object,r);Array.isArray(i[n])||(i[n]=[])}let{root:r,key:i}=f(t.object,e.props.attach);e.object.__previousAttach=r[i],r[i]=e.object,e.object.__currentAttach=t.object.__currentAttach=r[i]}else"function"==typeof e.props.attach&&(e.object.__previousAttach=e.props.attach(t.object,e.object))}function m(t,e){if("string"==typeof e.props.attach){if(t.object.__currentAttach===e.object.__currentAttach){let{root:r,key:i}=f(t.object,e.props.attach);r[i]=e.object.__previousAttach}}else e.object.__previousAttach(t.object,e.object);delete e.object.__previousAttach,delete e.object.__currentAttach,delete t.object.__currentAttach}function v(t,e,r){var i,o;for(let l in e){if(a.L_.includes(l)||a.zj.includes(l)||e[l]===(null==r?void 0:r[l]))continue;if(a.XI.includes(l)){t.__handlers={...t.__handlers,[l]:e[l]};continue}let u=e[l],{root:c,key:h,target:d}=f(t,l),p="function"==typeof(null==d?void 0:d.set)&&"function"==typeof(null==d?void 0:d.copy);if(!ArrayBuffer.isView(u)&&p){if(d.constructor===u.constructor)d.copy(u);else if(Array.isArray(u))d.set(...u);else{let t=Array(d.length).fill(u);d.set(...t)}}else if("uniforms"===h)for(let t in u){let e=null!=(o=null==(i=u[t])?void 0:i.value)?o:u[t];"string"==typeof e?e=new n.I(e):(null==e?void 0:e.constructor)===Array&&e.every(t=>"number"==typeof t)&&(e=new s[`Vec${e.length}`](...e)),c.uniforms[t]={value:e}}else c[h]=u}}function b(t){return{handleEvent:(e,r)=>{var i,n,s;t.mouse.x=e.offsetX/t.size.width*2-1,t.mouse.y=-(e.offsetY/t.size.height*2)+1;let a=[];t.scene.traverse(t=>{var e,r;t instanceof o.K&&t.__handlers&&(null==(r=null==(e=t.geometry)?void 0:e.attributes)?void 0:r.position)&&a.push(t)}),t.raycaster.castMouse(t.camera,t.mouse);let l=t.raycaster.intersectMeshes(a),u="onPointerMove"===r;for(let o of l){if(!o.__handlers)continue;let a=o.__handlers;u&&!t.hovered.get(o.id)?(t.hovered.set(o.id,o),null==(i=a.onPointerMove)||i.call(a,{...o.hit,nativeEvent:e}),null==(n=a.onPointerOver)||n.call(a,{...o.hit,nativeEvent:e})):null==(s=a[r])||s.call(a,{...o.hit,nativeEvent:e})}return(u||"onPointerDown"===r)&&t.hovered.forEach(r=>{let i=r.__handlers;(!l.length||!l.find(t=>t===r))&&(t.hovered.delete(r.id),(null==i?void 0:i.onPointerOut)&&i.onPointerOut({...r.hit,nativeEvent:e}))}),l}}}function y({set:t}){return(0,l.LI)(()=>(t(new Promise(()=>null)),()=>t(!1)),[]),null}class x extends i.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}x.getDerivedStateFromError=()=>({error:!0})},40577:(t,e,r)=>{"use strict";r.d(e,{Ue:()=>d});let i=t=>{let e;let r=new Set,i=(t,i)=>{let n="function"==typeof t?t(e):t;if(!Object.is(n,e)){let t=e;e=(null!=i?i:"object"!=typeof n||null===n)?n:Object.assign({},e,n),r.forEach(r=>r(e,t))}},n=()=>e,s={setState:i,getState:n,getInitialState:()=>o,subscribe:t=>(r.add(t),()=>r.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},o=e=t(i,n,s);return s},n=t=>t?i(t):i;var s=r(15791),o=r(13444);let{useDebugValue:a}=s,{useSyncExternalStoreWithSelector:l}=o,u=!1,c=t=>t,h=t=>{"function"!=typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let e="function"==typeof t?n(t):t,r=(t,r)=>(function(t,e=c,r){r&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let i=l(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return a(i),i})(e,t,r);return Object.assign(r,e),r},d=t=>t?h(t):h}}]);