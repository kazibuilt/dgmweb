(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3281],{42638:function(e,t,r){"use strict";var n=r(56961);Object.defineProperty(t,"__esModule",{value:!0}),t.BroadcastChannel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nextauth.message";return{receive:function(t){var r=function(r){if(r.key===e){var n,a=JSON.parse(null!==(n=r.newValue)&&void 0!==n?n:"{}");(null==a?void 0:a.event)==="session"&&null!=a&&a.data&&t(a)}};return window.addEventListener("storage",r),function(){return window.removeEventListener("storage",r)}},post:function(t){if("undefined"!=typeof window)try{localStorage.setItem(e,JSON.stringify(c(c({},t),{},{timestamp:d()})))}catch(e){}}}},t.apiBaseUrl=l,t.fetchData=function(e,t,r){return u.apply(this,arguments)},t.now=d;var a=n(r(69670)),o=n(r(80935)),i=n(r(88286));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(){return(u=(0,i.default)(a.default.mark(function e(t,r,n){var o,i,s,u,d,f,p,h,y,v=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(o=v.length>3&&void 0!==v[3]?v[3]:{}).ctx,u=void 0===(s=o.req)?null==i?void 0:i.req:s,d="".concat(l(r),"/").concat(t),e.prev=2,p={headers:c({"Content-Type":"application/json"},null!=u&&null!==(f=u.headers)&&void 0!==f&&f.cookie?{cookie:u.headers.cookie}:{})},null!=u&&u.body&&(p.body=JSON.stringify(u.body),p.method="POST"),e.next=7,fetch(d,p);case 7:return h=e.sent,e.next=10,h.json();case 10:if(y=e.sent,h.ok){e.next=13;break}throw y;case 13:return e.abrupt("return",Object.keys(y).length>0?y:null);case 16:return e.prev=16,e.t0=e.catch(2),n.error("CLIENT_FETCH_ERROR",{error:e.t0,url:d}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,null,[[2,16]])}))).apply(this,arguments)}function l(e){return"undefined"==typeof window?"".concat(e.baseUrlServer).concat(e.basePathServer):e.basePath}function d(){return Math.floor(Date.now()/1e3)}},11244:function(e,t,r){"use strict";var n=r(56961);Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedStrategy=t.UnknownError=t.OAuthCallbackError=t.MissingSecret=t.MissingAuthorize=t.MissingAdapterMethods=t.MissingAdapter=t.MissingAPIRoute=t.InvalidCallbackUrl=t.AccountNotLinkedError=void 0,t.adapterErrorHandler=function(e,t){if(e)return Object.keys(e).reduce(function(r,n){return r[n]=(0,o.default)(a.default.mark(function r(){var o,i,s,c,u,l=arguments;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,i=Array(o=l.length),s=0;s<o;s++)i[s]=l[s];return t.debug("adapter_".concat(n),{args:i}),c=e[n],r.next=6,c.apply(void 0,i);case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(0),t.error("adapter_error_".concat(n),r.t0),(u=new h(r.t0)).name="".concat(x(n),"Error"),u;case 15:case"end":return r.stop()}},r,null,[[0,9]])})),r},{})},t.capitalize=x,t.eventsErrorHandler=function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=(0,o.default)(a.default.mark(function r(){var o,i=arguments;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=e[n],r.next=4,o.apply(void 0,i);case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(0),t.error("".concat(_(n),"_EVENT_ERROR"),r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])})),r},{})},t.upperSnake=_;var a=n(r(69670)),o=n(r(88286)),i=n(r(41405)),s=n(r(80935)),c=n(r(13245)),u=n(r(75885)),l=n(r(66891)),d=n(r(72199)),f=n(r(67791));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);return r=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,r)}}var h=function(e){(0,l.default)(r,e);var t=p(r);function r(e){var n,a;return(0,c.default)(this,r),(a=t.call(this,null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e)).name="UnknownError",a.code=e.code,e instanceof Error&&(a.stack=e.stack),a}return(0,u.default)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}]),r}((0,n(r(67466)).default)(Error));t.UnknownError=h;var y=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","OAuthCallbackError"),e}return(0,u.default)(r)}(h);t.OAuthCallbackError=y;var v=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","AccountNotLinkedError"),e}return(0,u.default)(r)}(h);t.AccountNotLinkedError=v;var w=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingAPIRouteError"),(0,s.default)((0,i.default)(e),"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),e}return(0,u.default)(r)}(h);t.MissingAPIRoute=w;var g=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingSecretError"),(0,s.default)((0,i.default)(e),"code","NO_SECRET"),e}return(0,u.default)(r)}(h);t.MissingSecret=g;var m=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingAuthorizeError"),(0,s.default)((0,i.default)(e),"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),e}return(0,u.default)(r)}(h);t.MissingAuthorize=m;var b=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingAdapterError"),(0,s.default)((0,i.default)(e),"code","EMAIL_REQUIRES_ADAPTER_ERROR"),e}return(0,u.default)(r)}(h);t.MissingAdapter=b;var E=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingAdapterMethodsError"),(0,s.default)((0,i.default)(e),"code","MISSING_ADAPTER_METHODS_ERROR"),e}return(0,u.default)(r)}(h);t.MissingAdapterMethods=E;var S=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","UnsupportedStrategyError"),(0,s.default)((0,i.default)(e),"code","CALLBACK_CREDENTIALS_JWT_ERROR"),e}return(0,u.default)(r)}(h);t.UnsupportedStrategy=S;var A=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","InvalidCallbackUrl"),(0,s.default)((0,i.default)(e),"code","INVALID_CALLBACK_URL_ERROR"),e}return(0,u.default)(r)}(h);function _(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function x(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}t.InvalidCallbackUrl=A},14642:function(e,t,r){"use strict";var n=r(56961);Object.defineProperty(t,"__esModule",{value:!0}),t.SessionStore=void 0,t.defaultCookies=function(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}next-auth.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}next-auth.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}next-auth.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}next-auth.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}next-auth.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}}}};var a=n(r(13308)),o=n(r(44283));function i(e,t){c(e,t),t.add(e)}function s(e,t,r){c(e,t),t.set(e,r)}function c(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function u(e,t,r){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return r}var l=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakSet,h=new WeakSet;class y{constructor(e,t,r){i(this,h),i(this,p),s(this,l,{writable:!0,value:{}}),s(this,d,{writable:!0,value:void 0}),s(this,f,{writable:!0,value:void 0}),(0,o.default)(this,f,r),(0,o.default)(this,d,e);let{cookies:n}=t,{name:c}=e;if("function"==typeof(null==n?void 0:n.getAll))for(let{name:e,value:t}of n.getAll())e.startsWith(c)&&((0,a.default)(this,l)[e]=t);else if(n instanceof Map)for(let e of n.keys())e.startsWith(c)&&((0,a.default)(this,l)[e]=n.get(e));else for(let e in n)e.startsWith(c)&&((0,a.default)(this,l)[e]=n[e])}get value(){return Object.keys((0,a.default)(this,l)).sort((e,t)=>{var r,n;return parseInt(null!==(r=e.split(".").pop())&&void 0!==r?r:"0")-parseInt(null!==(n=t.split(".").pop())&&void 0!==n?n:"0")}).map(e=>(0,a.default)(this,l)[e]).join("")}chunk(e,t){let r=u(this,h,w).call(this);for(let n of u(this,p,v).call(this,{name:(0,a.default)(this,d).name,value:e,options:{...(0,a.default)(this,d).options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(u(this,h,w).call(this))}}function v(e){let t=Math.ceil(e.value.length/3933);if(1===t)return(0,a.default)(this,l)[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,o=e.value.substr(3933*n,3933);r.push({...e,name:t,value:o}),(0,a.default)(this,l)[t]=o}return(0,a.default)(this,f).debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:163,valueSize:e.value.length,chunks:r.map(e=>e.value.length+163)}),r}function w(){let e={};for(let r in(0,a.default)(this,l)){var t;null===(t=(0,a.default)(this,l))||void 0===t||delete t[r],e[r]={name:r,value:"",options:{...(0,a.default)(this,d).options,maxAge:0}}}return e}t.SessionStore=y},53581:function(e,t,r){"use strict";var n=r(32608),a=r(56961);Object.defineProperty(t,"__esModule",{value:!0});var o={encode:!0,decode:!0,getToken:!0};t.decode=p,t.encode=f,t.getToken=h;var i=r(73743),s=a(r(2680)),c=r(93401),u=r(14642),l=r(52822);Object.keys(l).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))});let d=()=>Date.now()/1e3|0;async function f(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:a=""}=e,o=await y(r,a);return await new i.EncryptJWT(t).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime(d()+n).setJti((0,c.v4)()).encrypt(o)}async function p(e){let{token:t,secret:r,salt:n=""}=e;if(!t)return null;let a=await y(r,n),{payload:o}=await (0,i.jwtDecrypt)(t,a,{clockTolerance:15});return o}async function h(e){var t,r,a;let{req:o,secureCookie:i=null!==(t=null===(r=n.env.NEXTAUTH_URL)||void 0===r?void 0:r.startsWith("https://"))&&void 0!==t?t:!!n.env.VERCEL,cookieName:s=i?"__Secure-next-auth.session-token":"next-auth.session-token",raw:c,decode:l=p,logger:d=console,secret:f=n.env.NEXTAUTH_SECRET}=e;if(!o)throw Error("Must pass `req` to JWT getToken()");let h=new u.SessionStore({name:s,options:{secure:i}},{cookies:o.cookies,headers:o.headers},d).value,y=o.headers instanceof Headers?o.headers.get("authorization"):null===(a=o.headers)||void 0===a?void 0:a.authorization;if(h||(null==y?void 0:y.split(" ")[0])!=="Bearer"||(h=decodeURIComponent(y.split(" ")[1])),!h)return null;if(c)return h;try{return await l({token:h,secret:f})}catch(e){return null}}async function y(e,t){return await (0,s.default)("sha256",e,t,`NextAuth.js Generated Encryption Key${t?` (${t})`:""}`,32)}},52822:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},39797:function(e,t){},24878:function(e,t,r){"use strict";var n,a,o,i,s,c=r(32608),u=r(56961),l=r(80662);Object.defineProperty(t,"__esModule",{value:!0});var d={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};t.SessionContext=void 0,t.SessionProvider=function(e){if(!O)throw Error("React Context is unavailable in Server Components");var t,r,n,a,o,i,s=e.children,c=e.basePath,u=e.refetchInterval,l=e.refetchWhenOffline;c&&(P.basePath=c);var d=void 0!==e.session;P._lastSync=d?(0,m.now)():0;var p=v.useState(function(){return d&&(P._session=e.session),e.session}),w=(0,y.default)(p,2),g=w[0],E=w[1],S=v.useState(!d),A=(0,y.default)(S,2),_=A[0],x=A[1];v.useEffect(function(){return P._getSession=(0,h.default)(f.default.mark(function e(){var t,r,n=arguments;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(n.length>0&&void 0!==n[0]?n[0]:{}).event,e.prev=1,!((r="storage"===t)||void 0===P._session)){e.next=10;break}return P._lastSync=(0,m.now)(),e.next=7,R({broadcast:!r});case 7:return P._session=e.sent,E(P._session),e.abrupt("return");case 10:if(!(!t||null===P._session||(0,m.now)()<P._lastSync)){e.next=12;break}return e.abrupt("return");case 12:return P._lastSync=(0,m.now)(),e.next=15,R();case 15:P._session=e.sent,E(P._session),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),C.error("CLIENT_SESSION_ERROR",e.t0);case 22:return e.prev=22,x(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[1,19,22,25]])})),P._getSession(),function(){P._lastSync=0,P._session=void 0,P._getSession=function(){}}},[]),v.useEffect(function(){var e=k.receive(function(){return P._getSession({event:"storage"})});return function(){return e()}},[]),v.useEffect(function(){var t=e.refetchOnWindowFocus,r=void 0===t||t,n=function(){r&&"visible"===document.visibilityState&&P._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),function(){return document.removeEventListener("visibilitychange",n,!1)}},[e.refetchOnWindowFocus]);var H=(t=v.useState("undefined"!=typeof navigator&&navigator.onLine),n=(r=(0,y.default)(t,2))[0],a=r[1],o=function(){return a(!0)},i=function(){return a(!1)},v.useEffect(function(){return window.addEventListener("online",o),window.addEventListener("offline",i),function(){window.removeEventListener("online",o),window.removeEventListener("offline",i)}},[]),n),W=!1!==l||H;v.useEffect(function(){if(u&&W){var e=setInterval(function(){P._session&&P._getSession({event:"poll"})},1e3*u);return function(){return clearInterval(e)}}},[u,W]);var U=v.useMemo(function(){return{data:g,status:_?"loading":g?"authenticated":"unauthenticated",update:function(e){return(0,h.default)(f.default.mark(function t(){var r;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(_||!g)){t.next=2;break}return t.abrupt("return");case 2:return x(!0),t.t0=m.fetchData,t.t1=P,t.t2=C,t.next=8,T();case 8:return t.t3=t.sent,t.t4=e,t.t5={csrfToken:t.t3,data:t.t4},t.t6={body:t.t5},t.t7={req:t.t6},t.next=15,(0,t.t0)("session",t.t1,t.t2,t.t7);case 15:return r=t.sent,x(!1),r&&(E(r),k.post({event:"session",data:{trigger:"getSession"}})),t.abrupt("return",r);case 19:case"end":return t.stop()}},t)}))()}}},[g,_]);return(0,b.jsx)(O.Provider,{value:U,children:s})},t.getCsrfToken=T,t.getProviders=U,t.getSession=R,t.signIn=function(e,t,r){return M.apply(this,arguments)},t.signOut=function(e){return K.apply(this,arguments)},t.useSession=function(e){if(!O)throw Error("React Context is unavailable in Server Components");var t=v.useContext(O),r=null!=e?e:{},n=r.required,a=r.onUnauthenticated,o=n&&"unauthenticated"===t.status;return(v.useEffect(function(){if(o){var e="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));a?a():window.location.href=e}},[o,a]),o)?{data:t.data,update:t.update,status:"loading"}:t};var f=u(r(69670)),p=u(r(80935)),h=u(r(88286)),y=u(r(45344)),v=A(r(92114)),w=A(r(74214)),g=u(r(49330)),m=r(42638),b=r(86592),E=r(83781);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,p.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Object.keys(E).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(d,e))&&(e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))});var P={baseUrl:(0,g.default)(null!==(n=c.env.NEXTAUTH_URL)&&void 0!==n?n:c.env.VERCEL_URL).origin,basePath:(0,g.default)(c.env.NEXTAUTH_URL).path,baseUrlServer:(0,g.default)(null!==(a=null!==(o=c.env.NEXTAUTH_URL_INTERNAL)&&void 0!==o?o:c.env.NEXTAUTH_URL)&&void 0!==a?a:c.env.VERCEL_URL).origin,basePathServer:(0,g.default)(null!==(i=c.env.NEXTAUTH_URL_INTERNAL)&&void 0!==i?i:c.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},k=(0,m.BroadcastChannel)(),C=(0,w.proxyLogger)(w.default,P.basePath),O=null===(s=v.createContext)||void 0===s?void 0:s.call(v,void 0);function R(e){return H.apply(this,arguments)}function H(){return(H=(0,h.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.fetchData)("session",P,C,t);case 2:return n=e.sent,(null===(r=null==t?void 0:t.broadcast)||void 0===r||r)&&k.post({event:"session",data:{trigger:"getSession"}}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return W.apply(this,arguments)}function W(){return(W=(0,h.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.fetchData)("csrf",P,C,t);case 2:return r=e.sent,e.abrupt("return",null==r?void 0:r.csrfToken);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(){return j.apply(this,arguments)}function j(){return(j=(0,h.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.fetchData)("providers",P,C);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return(M=(0,h.default)(f.default.mark(function e(t,r,n){var a,o,i,s,c,u,l,d,p,h,y,v,w,g,b,E,S;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(o=(a=null!=r?r:{}).callbackUrl)?window.location.href:o,c=void 0===(s=a.redirect)||s,u=(0,m.apiBaseUrl)(P),e.next=4,U();case 4:if(l=e.sent){e.next=8;break}return window.location.href="".concat(u,"/error"),e.abrupt("return");case 8:if(!(!t||!(t in l))){e.next=11;break}return window.location.href="".concat(u,"/signin?").concat(new URLSearchParams({callbackUrl:i})),e.abrupt("return");case 11:return d="credentials"===l[t].type,p="email"===l[t].type,h=d||p,y="".concat(u,"/").concat(d?"callback":"signin","/").concat(t),v="".concat(y).concat(n?"?".concat(new URLSearchParams(n)):""),e.t0=fetch,e.t1=v,e.t2={"Content-Type":"application/x-www-form-urlencoded"},e.t3=URLSearchParams,e.t4=x,e.t5=x({},r),e.t6={},e.next=25,T();case 25:return e.t7=e.sent,e.t8=i,e.t9={csrfToken:e.t7,callbackUrl:e.t8,json:!0},e.t10=(0,e.t4)(e.t5,e.t6,e.t9),e.t11=new e.t3(e.t10),e.t12={method:"post",headers:e.t2,body:e.t11},e.next=33,(0,e.t0)(e.t1,e.t12);case 33:return w=e.sent,e.next=36,w.json();case 36:if(g=e.sent,!(c||!h)){e.next=42;break}return E=null!==(b=g.url)&&void 0!==b?b:i,window.location.href=E,E.includes("#")&&window.location.reload(),e.abrupt("return");case 42:if(S=new URL(g.url).searchParams.get("error"),!w.ok){e.next=46;break}return e.next=46,P._getSession({event:"storage"});case 46:return e.abrupt("return",{error:S,status:w.status,ok:w.ok,url:S?null:g.url});case 47:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(){return(K=(0,h.default)(f.default.mark(function e(t){var r,n,a,o,i,s,c,u,l;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(null!=t?t:{}).callbackUrl)?window.location.href:n,o=(0,m.apiBaseUrl)(P),e.t0={"Content-Type":"application/x-www-form-urlencoded"},e.t1=URLSearchParams,e.next=6,T();case 6:return e.t2=e.sent,e.t3=a,e.t4={csrfToken:e.t2,callbackUrl:e.t3,json:!0},e.t5=new e.t1(e.t4),i={method:"post",headers:e.t0,body:e.t5},e.next=13,fetch("".concat(o,"/signout"),i);case 13:return s=e.sent,e.next=16,s.json();case 16:if(c=e.sent,k.post({event:"session",data:{trigger:"signout"}}),!(null===(r=null==t?void 0:t.redirect)||void 0===r||r)){e.next=23;break}return l=null!==(u=c.url)&&void 0!==u?u:a,window.location.href=l,l.includes("#")&&window.location.reload(),e.abrupt("return");case 23:return e.next=25,P._getSession({event:"storage"});case 25:return e.abrupt("return",c);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.SessionContext=O},83781:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74214:function(e,t,r){"use strict";var n=r(56961);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.proxyLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;try{if("undefined"==typeof window)return e;var r={},n=function(e){r[e]=function(r,n){c[e](r,n),"error"===e&&(n=s(n)),n.client=!0;var o="".concat(t,"/_log"),u=new URLSearchParams(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({level:e,code:r},n));return navigator.sendBeacon?navigator.sendBeacon(o,u):fetch(o,{method:"POST",body:u,keepalive:!0})}};for(var o in e)n(o);return r}catch(e){return c}},t.setLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t||(c.debug=function(){}),e.error&&(c.error=e.error),e.warn&&(c.warn=e.warn),e.debug&&(c.debug=e.debug)};var a=n(r(80935)),o=r(11244);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){var t;return e instanceof Error&&!(e instanceof o.UnknownError)?{message:e.message,stack:e.stack,name:e.name}:(null!=e&&e.error&&(e.error=s(e.error),e.message=null!==(t=e.message)&&void 0!==t?t:e.error.message),e)}var c={error:function(e,t){t=s(t),console.error("[next-auth][error][".concat(e,"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),t.message,t)},warn:function(e){console.warn("[next-auth][warn][".concat(e,"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()))},debug:function(e,t){console.log("[next-auth][debug][".concat(e,"]"),t)}};t.default=c},49330:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let r=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let n=new URL(null!==(t=e)&&void 0!==t?t:r),a=("/"===n.pathname?r.pathname:n.pathname).replace(/\/$/,""),o=`${n.origin}${a}`;return{origin:n.origin,host:n.host,path:a,base:o,toString:()=>o}}},15275:function(e,t,r){"use strict";var n=r(56961);Object.defineProperty(t,"__esModule",{value:!0}),t.BroadcastChannel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nextauth.message";return{receive:function(t){var r=function(r){if(r.key===e){var n,a=JSON.parse(null!==(n=r.newValue)&&void 0!==n?n:"{}");(null==a?void 0:a.event)==="session"&&null!=a&&a.data&&t(a)}};return window.addEventListener("storage",r),function(){return window.removeEventListener("storage",r)}},post:function(t){if("undefined"!=typeof window)try{localStorage.setItem(e,JSON.stringify(c(c({},t),{},{timestamp:d()})))}catch(e){}}}},t.apiBaseUrl=l,t.fetchData=function(e,t,r){return u.apply(this,arguments)},t.now=d;var a=n(r(69670)),o=n(r(80935)),i=n(r(88286));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(){return(u=(0,i.default)(a.default.mark(function e(t,r,n){var o,i,s,u,d,f,p,h,y,v=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(o=v.length>3&&void 0!==v[3]?v[3]:{}).ctx,u=void 0===(s=o.req)?null==i?void 0:i.req:s,d="".concat(l(r),"/").concat(t),e.prev=2,p={headers:c({"Content-Type":"application/json"},null!=u&&null!==(f=u.headers)&&void 0!==f&&f.cookie?{cookie:u.headers.cookie}:{})},null!=u&&u.body&&(p.body=JSON.stringify(u.body),p.method="POST"),e.next=7,fetch(d,p);case 7:return h=e.sent,e.next=10,h.json();case 10:if(y=e.sent,h.ok){e.next=13;break}throw y;case 13:return e.abrupt("return",Object.keys(y).length>0?y:null);case 16:return e.prev=16,e.t0=e.catch(2),n.error("CLIENT_FETCH_ERROR",{error:e.t0,url:d}),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,null,[[2,16]])}))).apply(this,arguments)}function l(e){return"undefined"==typeof window?"".concat(e.baseUrlServer).concat(e.basePathServer):e.basePath}function d(){return Math.floor(Date.now()/1e3)}},21540:function(e,t,r){"use strict";var n=r(56961);Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedStrategy=t.UnknownError=t.OAuthCallbackError=t.MissingSecret=t.MissingAuthorize=t.MissingAdapterMethods=t.MissingAdapter=t.MissingAPIRoute=t.InvalidCallbackUrl=t.AccountNotLinkedError=void 0,t.adapterErrorHandler=function(e,t){if(e)return Object.keys(e).reduce(function(r,n){return r[n]=(0,o.default)(a.default.mark(function r(){var o,i,s,c,u,l=arguments;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,i=Array(o=l.length),s=0;s<o;s++)i[s]=l[s];return t.debug("adapter_".concat(n),{args:i}),c=e[n],r.next=6,c.apply(void 0,i);case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(0),t.error("adapter_error_".concat(n),r.t0),(u=new h(r.t0)).name="".concat(x(n),"Error"),u;case 15:case"end":return r.stop()}},r,null,[[0,9]])})),r},{})},t.capitalize=x,t.eventsErrorHandler=function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=(0,o.default)(a.default.mark(function r(){var o,i=arguments;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=e[n],r.next=4,o.apply(void 0,i);case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(0),t.error("".concat(_(n),"_EVENT_ERROR"),r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])})),r},{})},t.upperSnake=_;var a=n(r(69670)),o=n(r(88286)),i=n(r(41405)),s=n(r(80935)),c=n(r(13245)),u=n(r(75885)),l=n(r(66891)),d=n(r(72199)),f=n(r(67791));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);return r=t?Reflect.construct(n,arguments,(0,f.default)(this).constructor):n.apply(this,arguments),(0,d.default)(this,r)}}var h=function(e){(0,l.default)(r,e);var t=p(r);function r(e){var n,a;return(0,c.default)(this,r),(a=t.call(this,null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e)).name="UnknownError",a.code=e.code,e instanceof Error&&(a.stack=e.stack),a}return(0,u.default)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}]),r}((0,n(r(67466)).default)(Error));t.UnknownError=h;var y=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","OAuthCallbackError"),e}return(0,u.default)(r)}(h);t.OAuthCallbackError=y;var v=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","AccountNotLinkedError"),e}return(0,u.default)(r)}(h);t.AccountNotLinkedError=v;var w=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingAPIRouteError"),(0,s.default)((0,i.default)(e),"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),e}return(0,u.default)(r)}(h);t.MissingAPIRoute=w;var g=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingSecretError"),(0,s.default)((0,i.default)(e),"code","NO_SECRET"),e}return(0,u.default)(r)}(h);t.MissingSecret=g;var m=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingAuthorizeError"),(0,s.default)((0,i.default)(e),"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),e}return(0,u.default)(r)}(h);t.MissingAuthorize=m;var b=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingAdapterError"),(0,s.default)((0,i.default)(e),"code","EMAIL_REQUIRES_ADAPTER_ERROR"),e}return(0,u.default)(r)}(h);t.MissingAdapter=b;var E=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","MissingAdapterMethodsError"),(0,s.default)((0,i.default)(e),"code","MISSING_ADAPTER_METHODS_ERROR"),e}return(0,u.default)(r)}(h);t.MissingAdapterMethods=E;var S=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","UnsupportedStrategyError"),(0,s.default)((0,i.default)(e),"code","CALLBACK_CREDENTIALS_JWT_ERROR"),e}return(0,u.default)(r)}(h);t.UnsupportedStrategy=S;var A=function(e){(0,l.default)(r,e);var t=p(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,i.default)(e),"name","InvalidCallbackUrl"),(0,s.default)((0,i.default)(e),"code","INVALID_CALLBACK_URL_ERROR"),e}return(0,u.default)(r)}(h);function _(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function x(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}t.InvalidCallbackUrl=A},46705:function(e,t,r){"use strict";var n,a,o,i,s,c=r(32608),u=r(56961),l=r(80662);Object.defineProperty(t,"__esModule",{value:!0});var d={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};t.SessionContext=void 0,t.SessionProvider=function(e){if(!O)throw Error("React Context is unavailable in Server Components");var t,r,n,a,o,i,s=e.children,c=e.basePath,u=e.refetchInterval,l=e.refetchWhenOffline;c&&(P.basePath=c);var d=void 0!==e.session;P._lastSync=d?(0,m.now)():0;var p=v.useState(function(){return d&&(P._session=e.session),e.session}),w=(0,y.default)(p,2),g=w[0],E=w[1],S=v.useState(!d),A=(0,y.default)(S,2),_=A[0],x=A[1];v.useEffect(function(){return P._getSession=(0,h.default)(f.default.mark(function e(){var t,r,n=arguments;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(n.length>0&&void 0!==n[0]?n[0]:{}).event,e.prev=1,!((r="storage"===t)||void 0===P._session)){e.next=10;break}return P._lastSync=(0,m.now)(),e.next=7,R({broadcast:!r});case 7:return P._session=e.sent,E(P._session),e.abrupt("return");case 10:if(!(!t||null===P._session||(0,m.now)()<P._lastSync)){e.next=12;break}return e.abrupt("return");case 12:return P._lastSync=(0,m.now)(),e.next=15,R();case 15:P._session=e.sent,E(P._session),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),C.error("CLIENT_SESSION_ERROR",e.t0);case 22:return e.prev=22,x(!1),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[1,19,22,25]])})),P._getSession(),function(){P._lastSync=0,P._session=void 0,P._getSession=function(){}}},[]),v.useEffect(function(){var e=k.receive(function(){return P._getSession({event:"storage"})});return function(){return e()}},[]),v.useEffect(function(){var t=e.refetchOnWindowFocus,r=void 0===t||t,n=function(){r&&"visible"===document.visibilityState&&P._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",n,!1),function(){return document.removeEventListener("visibilitychange",n,!1)}},[e.refetchOnWindowFocus]);var H=(t=v.useState("undefined"!=typeof navigator&&navigator.onLine),n=(r=(0,y.default)(t,2))[0],a=r[1],o=function(){return a(!0)},i=function(){return a(!1)},v.useEffect(function(){return window.addEventListener("online",o),window.addEventListener("offline",i),function(){window.removeEventListener("online",o),window.removeEventListener("offline",i)}},[]),n),W=!1!==l||H;v.useEffect(function(){if(u&&W){var e=setInterval(function(){P._session&&P._getSession({event:"poll"})},1e3*u);return function(){return clearInterval(e)}}},[u,W]);var U=v.useMemo(function(){return{data:g,status:_?"loading":g?"authenticated":"unauthenticated",update:function(e){return(0,h.default)(f.default.mark(function t(){var r;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(_||!g)){t.next=2;break}return t.abrupt("return");case 2:return x(!0),t.t0=m.fetchData,t.t1=P,t.t2=C,t.next=8,T();case 8:return t.t3=t.sent,t.t4=e,t.t5={csrfToken:t.t3,data:t.t4},t.t6={body:t.t5},t.t7={req:t.t6},t.next=15,(0,t.t0)("session",t.t1,t.t2,t.t7);case 15:return r=t.sent,x(!1),r&&(E(r),k.post({event:"session",data:{trigger:"getSession"}})),t.abrupt("return",r);case 19:case"end":return t.stop()}},t)}))()}}},[g,_]);return(0,b.jsx)(O.Provider,{value:U,children:s})},t.getCsrfToken=T,t.getProviders=U,t.getSession=R,t.signIn=function(e,t,r){return M.apply(this,arguments)},t.signOut=function(e){return K.apply(this,arguments)},t.useSession=function(e){if(!O)throw Error("React Context is unavailable in Server Components");var t=v.useContext(O),r=null!=e?e:{},n=r.required,a=r.onUnauthenticated,o=n&&"unauthenticated"===t.status;return(v.useEffect(function(){if(o){var e="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));a?a():window.location.href=e}},[o,a]),o)?{data:t.data,update:t.update,status:"loading"}:t};var f=u(r(69670)),p=u(r(80935)),h=u(r(88286)),y=u(r(45344)),v=A(r(92114)),w=A(r(56642)),g=u(r(14416)),m=r(15275),b=r(86592),E=r(52232);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,p.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Object.keys(E).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(d,e))&&(e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))});var P={baseUrl:(0,g.default)(null!==(n=c.env.NEXTAUTH_URL)&&void 0!==n?n:c.env.VERCEL_URL).origin,basePath:(0,g.default)(c.env.NEXTAUTH_URL).path,baseUrlServer:(0,g.default)(null!==(a=null!==(o=c.env.NEXTAUTH_URL_INTERNAL)&&void 0!==o?o:c.env.NEXTAUTH_URL)&&void 0!==a?a:c.env.VERCEL_URL).origin,basePathServer:(0,g.default)(null!==(i=c.env.NEXTAUTH_URL_INTERNAL)&&void 0!==i?i:c.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},k=(0,m.BroadcastChannel)(),C=(0,w.proxyLogger)(w.default,P.basePath),O=null===(s=v.createContext)||void 0===s?void 0:s.call(v,void 0);function R(e){return H.apply(this,arguments)}function H(){return(H=(0,h.default)(f.default.mark(function e(t){var r,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.fetchData)("session",P,C,t);case 2:return n=e.sent,(null===(r=null==t?void 0:t.broadcast)||void 0===r||r)&&k.post({event:"session",data:{trigger:"getSession"}}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return W.apply(this,arguments)}function W(){return(W=(0,h.default)(f.default.mark(function e(t){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.fetchData)("csrf",P,C,t);case 2:return r=e.sent,e.abrupt("return",null==r?void 0:r.csrfToken);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(){return j.apply(this,arguments)}function j(){return(j=(0,h.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.fetchData)("providers",P,C);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return(M=(0,h.default)(f.default.mark(function e(t,r,n){var a,o,i,s,c,u,l,d,p,h,y,v,w,g,b,E,S;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(o=(a=null!=r?r:{}).callbackUrl)?window.location.href:o,c=void 0===(s=a.redirect)||s,u=(0,m.apiBaseUrl)(P),e.next=4,U();case 4:if(l=e.sent){e.next=8;break}return window.location.href="".concat(u,"/error"),e.abrupt("return");case 8:if(!(!t||!(t in l))){e.next=11;break}return window.location.href="".concat(u,"/signin?").concat(new URLSearchParams({callbackUrl:i})),e.abrupt("return");case 11:return d="credentials"===l[t].type,p="email"===l[t].type,h=d||p,y="".concat(u,"/").concat(d?"callback":"signin","/").concat(t),v="".concat(y).concat(n?"?".concat(new URLSearchParams(n)):""),e.t0=fetch,e.t1=v,e.t2={"Content-Type":"application/x-www-form-urlencoded"},e.t3=URLSearchParams,e.t4=x,e.t5=x({},r),e.t6={},e.next=25,T();case 25:return e.t7=e.sent,e.t8=i,e.t9={csrfToken:e.t7,callbackUrl:e.t8,json:!0},e.t10=(0,e.t4)(e.t5,e.t6,e.t9),e.t11=new e.t3(e.t10),e.t12={method:"post",headers:e.t2,body:e.t11},e.next=33,(0,e.t0)(e.t1,e.t12);case 33:return w=e.sent,e.next=36,w.json();case 36:if(g=e.sent,!(c||!h)){e.next=42;break}return E=null!==(b=g.url)&&void 0!==b?b:i,window.location.href=E,E.includes("#")&&window.location.reload(),e.abrupt("return");case 42:if(S=new URL(g.url).searchParams.get("error"),!w.ok){e.next=46;break}return e.next=46,P._getSession({event:"storage"});case 46:return e.abrupt("return",{error:S,status:w.status,ok:w.ok,url:S?null:g.url});case 47:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(){return(K=(0,h.default)(f.default.mark(function e(t){var r,n,a,o,i,s,c,u,l;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(n=(null!=t?t:{}).callbackUrl)?window.location.href:n,o=(0,m.apiBaseUrl)(P),e.t0={"Content-Type":"application/x-www-form-urlencoded"},e.t1=URLSearchParams,e.next=6,T();case 6:return e.t2=e.sent,e.t3=a,e.t4={csrfToken:e.t2,callbackUrl:e.t3,json:!0},e.t5=new e.t1(e.t4),i={method:"post",headers:e.t0,body:e.t5},e.next=13,fetch("".concat(o,"/signout"),i);case 13:return s=e.sent,e.next=16,s.json();case 16:if(c=e.sent,k.post({event:"session",data:{trigger:"signout"}}),!(null===(r=null==t?void 0:t.redirect)||void 0===r||r)){e.next=23;break}return l=null!==(u=c.url)&&void 0!==u?u:a,window.location.href=l,l.includes("#")&&window.location.reload(),e.abrupt("return");case 23:return e.next=25,P._getSession({event:"storage"});case 25:return e.abrupt("return",c);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.SessionContext=O},52232:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},56642:function(e,t,r){"use strict";var n=r(56961);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.proxyLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;try{if("undefined"==typeof window)return e;var r={},n=function(e){r[e]=function(r,n){c[e](r,n),"error"===e&&(n=s(n)),n.client=!0;var o="".concat(t,"/_log"),u=new URLSearchParams(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({level:e,code:r},n));return navigator.sendBeacon?navigator.sendBeacon(o,u):fetch(o,{method:"POST",body:u,keepalive:!0})}};for(var o in e)n(o);return r}catch(e){return c}},t.setLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t||(c.debug=function(){}),e.error&&(c.error=e.error),e.warn&&(c.warn=e.warn),e.debug&&(c.debug=e.debug)};var a=n(r(80935)),o=r(21540);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){var t;return e instanceof Error&&!(e instanceof o.UnknownError)?{message:e.message,stack:e.stack,name:e.name}:(null!=e&&e.error&&(e.error=s(e.error),e.message=null!==(t=e.message)&&void 0!==t?t:e.error.message),e)}var c={error:function(e,t){t=s(t),console.error("[next-auth][error][".concat(e,"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),t.message,t)},warn:function(e){console.warn("[next-auth][warn][".concat(e,"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()))},debug:function(e,t){console.log("[next-auth][debug][".concat(e,"]"),t)}};t.default=c},14416:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;let r=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let n=new URL(null!==(t=e)&&void 0!==t?t:r),a=("/"===n.pathname?r.pathname:n.pathname).replace(/\/$/,""),o=`${n.origin}${a}`;return{origin:n.origin,host:n.host,path:a,base:o,toString:()=>o}}},73177:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(93924),a=r.n(n)},47596:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(33049),a=r.n(n)},93924:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return s}});let n=r(36316),a=r(29165),o=r(33151),i=n._(r(43529));function s(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=o.Image},884:function(e,t,r){"use strict";r.d(t,{Z:function(){return C}});var n=r(41403),a=r(92114),o=r(27153),i=r(52921),s=(0,r(75324)._)(),c=function(){},u=a.forwardRef(function(e,t){var r=a.useRef(null),o=a.useState({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:c}),u=o[0],l=o[1],d=e.forwardProps,f=e.children,p=e.className,h=e.removeScrollBar,y=e.enabled,v=e.shards,w=e.sideCar,g=e.noIsolation,m=e.inert,b=e.allowPinchZoom,E=e.as,S=e.gapMode,A=(0,n._T)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=(0,i.q)([r,t]),x=(0,n.pi)((0,n.pi)({},A),u);return a.createElement(a.Fragment,null,y&&a.createElement(w,{sideCar:s,removeScrollBar:h,shards:v,noIsolation:g,inert:m,setCallbacks:l,allowPinchZoom:!!b,lockRef:r,gapMode:S}),d?a.cloneElement(a.Children.only(f),(0,n.pi)((0,n.pi)({},x),{ref:_})):a.createElement(void 0===E?"div":E,(0,n.pi)({},x,{className:p,ref:_}),f))});u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},u.classNames={fullWidth:o.zi,zeroRight:o.pF};var l=r(56877),d=r(21195),f=r(72965),p=!1;if("undefined"!=typeof window)try{var h=Object.defineProperty({},"passive",{get:function(){return p=!0,!0}});window.addEventListener("test",h,h),window.removeEventListener("test",h,h)}catch(e){p=!1}var y=!!p&&{passive:!1},v=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===r[t])},w=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),g(e,n)){var a=m(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},g=function(e,t){return"v"===e?v(t,"overflowY"):v(t,"overflowX")},m=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},b=function(e,t,r,n,a){var o,i=(o=window.getComputedStyle(t).direction,"h"===e&&"rtl"===o?-1:1),s=i*n,c=r.target,u=t.contains(c),l=!1,d=s>0,f=0,p=0;do{var h=m(e,c),y=h[0],v=h[1]-h[2]-i*y;(y||v)&&g(e,c)&&(f+=v,p+=y),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return d&&(a&&1>Math.abs(f)||!a&&s>f)?l=!0:!d&&(a&&1>Math.abs(p)||!a&&-s>p)&&(l=!0),l},E=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},S=function(e){return[e.deltaX,e.deltaY]},A=function(e){return e&&"current"in e?e.current:e},_=0,x=[],P=(0,l.L)(s,function(e){var t=a.useRef([]),r=a.useRef([0,0]),o=a.useRef(),i=a.useState(_++)[0],s=a.useState(f.Ws)[0],c=a.useRef(e);a.useEffect(function(){c.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,n.ev)([e.lockRef.current],(e.shards||[]).map(A),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=a.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!c.current.allowPinchZoom;var n,a=E(e),i=r.current,s="deltaX"in e?e.deltaX:i[0]-a[0],u="deltaY"in e?e.deltaY:i[1]-a[1],l=e.target,d=Math.abs(s)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===l.type)return!1;var f=w(d,l);if(!f)return!0;if(f?n=d:(n="v"===d?"h":"v",f=w(d,l)),!f)return!1;if(!o.current&&"changedTouches"in e&&(s||u)&&(o.current=n),!n)return!0;var p=o.current||n;return b(p,t,e,"h"===p?s:u,!0)},[]),l=a.useCallback(function(e){if(x.length&&x[x.length-1]===s){var r="deltaY"in e?S(e):E(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta)[0]===r[0]&&n[1]===r[1]})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var a=(c.current.shards||[]).map(A).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?u(e,a[0]):!c.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),p=a.useCallback(function(e,r,n,a){var o={name:e,delta:r,target:n,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),h=a.useCallback(function(e){r.current=E(e),o.current=void 0},[]),v=a.useCallback(function(t){p(t.type,S(t),t.target,u(t,e.lockRef.current))},[]),g=a.useCallback(function(t){p(t.type,E(t),t.target,u(t,e.lockRef.current))},[]);a.useEffect(function(){return x.push(s),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:g}),document.addEventListener("wheel",l,y),document.addEventListener("touchmove",l,y),document.addEventListener("touchstart",h,y),function(){x=x.filter(function(e){return e!==s}),document.removeEventListener("wheel",l,y),document.removeEventListener("touchmove",l,y),document.removeEventListener("touchstart",h,y)}},[]);var m=e.removeScrollBar,P=e.inert;return a.createElement(a.Fragment,null,P?a.createElement(s,{styles:"\n  .block-interactivity-".concat(i," {pointer-events: none;}\n  .allow-interactivity-").concat(i," {pointer-events: all;}\n")}):null,m?a.createElement(d.jp,{gapMode:e.gapMode}):null)}),k=a.forwardRef(function(e,t){return a.createElement(u,(0,n.pi)({},e,{ref:t,sideCar:P}))});k.classNames=u.classNames;var C=k},93401:function(e,t,r){"use strict";r.r(t),r.d(t,{NIL:function(){return _},parse:function(){return d},stringify:function(){return i.Z},v1:function(){return u},v3:function(){return b},v4:function(){return E.Z},v5:function(){return A},validate:function(){return l.Z},version:function(){return x}});var n,a,o=r(82887),i=r(19594),s=0,c=0,u=function(e,t,r){var u=t&&r||0,l=t||Array(16),d=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==f){var p=e.random||(e.rng||o.Z)();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=a=(p[6]<<8|p[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),y=void 0!==e.nsecs?e.nsecs:c+1,v=h-s+(y-c)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||h>s)&&void 0===e.nsecs&&(y=0),y>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=y,a=f;var w=((268435455&(h+=122192928e5))*1e4+y)%4294967296;l[u++]=w>>>24&255,l[u++]=w>>>16&255,l[u++]=w>>>8&255,l[u++]=255&w;var g=h/4294967296*1e4&268435455;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var m=0;m<6;++m)l[u+m]=d[m];return t||(0,i.Z)(l)},l=r(80735),d=function(e){if(!(0,l.Z)(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function f(e,t,r){function n(e,n,a,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=d(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),(s=r(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,a){o=o||0;for(var c=0;c<16;++c)a[o+c]=s[c];return a}return(0,i.Z)(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function p(e){return(e+64>>>9<<4)+14+1}function h(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function y(e,t,r,n,a,o){var i;return h((i=h(h(t,e),h(n,o)))<<a|i>>>32-a,r)}function v(e,t,r,n,a,o,i){return y(t&r|~t&n,e,t,a,o,i)}function w(e,t,r,n,a,o,i){return y(t&n|r&~n,e,t,a,o,i)}function g(e,t,r,n,a,o,i){return y(t^r^n,e,t,a,o,i)}function m(e,t,r,n,a,o,i){return y(r^(t|~n),e,t,a,o,i)}var b=f("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",a=0;a<r;a+=8){var o=e[a>>5]>>>a%32&255,i=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[p(t)-1]=t;for(var r=1732584193,n=-271733879,a=-1732584194,o=271733878,i=0;i<e.length;i+=16){var s=r,c=n,u=a,l=o;r=v(r,n,a,o,e[i],7,-680876936),o=v(o,r,n,a,e[i+1],12,-389564586),a=v(a,o,r,n,e[i+2],17,606105819),n=v(n,a,o,r,e[i+3],22,-1044525330),r=v(r,n,a,o,e[i+4],7,-176418897),o=v(o,r,n,a,e[i+5],12,1200080426),a=v(a,o,r,n,e[i+6],17,-1473231341),n=v(n,a,o,r,e[i+7],22,-45705983),r=v(r,n,a,o,e[i+8],7,1770035416),o=v(o,r,n,a,e[i+9],12,-1958414417),a=v(a,o,r,n,e[i+10],17,-42063),n=v(n,a,o,r,e[i+11],22,-1990404162),r=v(r,n,a,o,e[i+12],7,1804603682),o=v(o,r,n,a,e[i+13],12,-40341101),a=v(a,o,r,n,e[i+14],17,-1502002290),n=v(n,a,o,r,e[i+15],22,1236535329),r=w(r,n,a,o,e[i+1],5,-165796510),o=w(o,r,n,a,e[i+6],9,-1069501632),a=w(a,o,r,n,e[i+11],14,643717713),n=w(n,a,o,r,e[i],20,-373897302),r=w(r,n,a,o,e[i+5],5,-701558691),o=w(o,r,n,a,e[i+10],9,38016083),a=w(a,o,r,n,e[i+15],14,-660478335),n=w(n,a,o,r,e[i+4],20,-405537848),r=w(r,n,a,o,e[i+9],5,568446438),o=w(o,r,n,a,e[i+14],9,-1019803690),a=w(a,o,r,n,e[i+3],14,-187363961),n=w(n,a,o,r,e[i+8],20,1163531501),r=w(r,n,a,o,e[i+13],5,-1444681467),o=w(o,r,n,a,e[i+2],9,-51403784),a=w(a,o,r,n,e[i+7],14,1735328473),n=w(n,a,o,r,e[i+12],20,-1926607734),r=g(r,n,a,o,e[i+5],4,-378558),o=g(o,r,n,a,e[i+8],11,-2022574463),a=g(a,o,r,n,e[i+11],16,1839030562),n=g(n,a,o,r,e[i+14],23,-35309556),r=g(r,n,a,o,e[i+1],4,-1530992060),o=g(o,r,n,a,e[i+4],11,1272893353),a=g(a,o,r,n,e[i+7],16,-155497632),n=g(n,a,o,r,e[i+10],23,-1094730640),r=g(r,n,a,o,e[i+13],4,681279174),o=g(o,r,n,a,e[i],11,-358537222),a=g(a,o,r,n,e[i+3],16,-722521979),n=g(n,a,o,r,e[i+6],23,76029189),r=g(r,n,a,o,e[i+9],4,-640364487),o=g(o,r,n,a,e[i+12],11,-421815835),a=g(a,o,r,n,e[i+15],16,530742520),n=g(n,a,o,r,e[i+2],23,-995338651),r=m(r,n,a,o,e[i],6,-198630844),o=m(o,r,n,a,e[i+7],10,1126891415),a=m(a,o,r,n,e[i+14],15,-1416354905),n=m(n,a,o,r,e[i+5],21,-57434055),r=m(r,n,a,o,e[i+12],6,1700485571),o=m(o,r,n,a,e[i+3],10,-1894986606),a=m(a,o,r,n,e[i+10],15,-1051523),n=m(n,a,o,r,e[i+1],21,-2054922799),r=m(r,n,a,o,e[i+8],6,1873313359),o=m(o,r,n,a,e[i+15],10,-30611744),a=m(a,o,r,n,e[i+6],15,-1560198380),n=m(n,a,o,r,e[i+13],21,1309151649),r=m(r,n,a,o,e[i+4],6,-145523070),o=m(o,r,n,a,e[i+11],10,-1120210379),a=m(a,o,r,n,e[i+2],15,718787259),n=m(n,a,o,r,e[i+9],21,-343485551),r=h(r,s),n=h(n,c),a=h(a,u),o=h(o,l)}return[r,n,a,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(p(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}),E=r(76817);function S(e,t){return e<<t|e>>>32-t}var A=f("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var a=0;a<n.length;++a)e.push(n.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=Math.ceil((e.length/4+2)/16),i=Array(o),s=0;s<o;++s){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*s+4*u]<<24|e[64*s+4*u+1]<<16|e[64*s+4*u+2]<<8|e[64*s+4*u+3];i[s]=c}i[o-1][14]=(e.length-1)*8/4294967296,i[o-1][14]=Math.floor(i[o-1][14]),i[o-1][15]=(e.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var d=new Uint32Array(80),f=0;f<16;++f)d[f]=i[l][f];for(var p=16;p<80;++p)d[p]=S(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var h=r[0],y=r[1],v=r[2],w=r[3],g=r[4],m=0;m<80;++m){var b=Math.floor(m/20),E=S(h,5)+function(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}(b,y,v,w)+g+t[b]+d[m]>>>0;g=w,w=v,v=S(y,30)>>>0,y=h,h=E}r[0]=r[0]+h>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+w>>>0,r[4]=r[4]+g>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}),_="00000000-0000-0000-0000-000000000000",x=function(e){if(!(0,l.Z)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},91962:function(e){e.exports={style:{fontFamily:"'__humaneFont_991337', '__humaneFont_Fallback_991337'"},className:"__className_991337",variable:"__variable_991337"}},99572:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},65897:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},94243:function(e){e.exports=function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")},e.exports.__esModule=!0,e.exports.default=e.exports},41405:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},88286:function(e){function t(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise(function(a,o){var i=e.apply(r,n);function s(e){t(i,a,o,s,c,"next",e)}function c(e){t(i,a,o,s,c,"throw",e)}s(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},67495:function(e){e.exports=function(e,t){return t.get?t.get.call(e):t.value},e.exports.__esModule=!0,e.exports.default=e.exports},28115:function(e){e.exports=function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=r}},e.exports.__esModule=!0,e.exports.default=e.exports},13245:function(e){e.exports=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},13308:function(e,t,r){var n=r(67495),a=r(2964);e.exports=function(e,t){var r=a(t,e);return n(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports},2964:function(e,t,r){var n=r(94243);e.exports=function(e,t){return e.get(n(e,t))},e.exports.__esModule=!0,e.exports.default=e.exports},44283:function(e,t,r){var n=r(28115),a=r(2964);e.exports=function(e,t,r){var o=a(t,e);return n(e,o,r),r},e.exports.__esModule=!0,e.exports.default=e.exports},9267:function(e,t,r){var n=r(85238),a=r(46482);e.exports=function(e,t,r){if(n())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var i=new(e.bind.apply(e,o));return r&&a(i,r.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports},75885:function(e,t,r){var n=r(56419);function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}e.exports=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},80935:function(e,t,r){var n=r(56419);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},67791:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},66891:function(e,t,r){var n=r(46482);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},56961:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},57609:function(e){e.exports=function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},85238:function(e){function t(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e.exports=t=function(){return!!r},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},85109:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},49364:function(e){e.exports=function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},72199:function(e,t,r){var n=r(80662).default,a=r(41405);e.exports=function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},52794:function(e,t,r){var n=r(80662).default;function a(){"use strict";e.exports=a=function(){return r},e.exports.__esModule=!0,e.exports.default=e.exports;var t,r={},o=Object.prototype,i=o.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,r,n,a){var o,i,c=Object.create((r&&r.prototype instanceof m?r:m).prototype);return s(c,"_invoke",{value:(o=new R(a||[]),i=y,function(r,a){if(i===v)throw Error("Generator is already running");if(i===w){if("throw"===r)throw a;return{value:t,done:!0}}for(o.method=r,o.arg=a;;){var s=o.delegate;if(s){var c=function e(r,n){var a=n.method,o=r.iterator[a];if(o===t)return n.delegate=null,"throw"===a&&r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+a+"' method")),g;var i=h(o,r.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var s=i.arg;return s?s.done?(n[r.resultName]=s.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):s:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,g)}(s,o);if(c){if(c===g)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===y)throw i=w,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=v;var u=h(e,n,o);if("normal"===u.type){if(i=o.done?w:"suspendedYield",u.arg===g)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(i=w,o.method="throw",o.arg=u.arg)}})}),c}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var y="suspendedStart",v="executing",w="completed",g={};function m(){}function b(){}function E(){}var S={};f(S,u,function(){return this});var A=Object.getPrototypeOf,_=A&&A(A(H([])));_&&_!==o&&i.call(_,u)&&(S=_);var x=E.prototype=m.prototype=Object.create(S);function P(e){["next","throw","return"].forEach(function(t){f(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;s(this,"_invoke",{value:function(a,o){function s(){return new t(function(r,s){!function r(a,o,s,c){var u=h(e[a],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==n(d)&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,s,c)},function(e){r("throw",e,s,c)}):t.resolve(d).then(function(e){l.value=e,s(l)},function(e){return r("throw",e,s,c)})}c(u.arg)}(a,o,r,s)})}return r=r?r.then(s,s):s()}})}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function H(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(i.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw TypeError(n(e)+" is not iterable")}return b.prototype=E,s(x,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:b,configurable:!0}),b.displayName=f(E,d,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,f(e,d,"GeneratorFunction")),e.prototype=Object.create(x),e},r.awrap=function(e){return{__await:e}},P(k.prototype),f(k.prototype,l,function(){return this}),r.AsyncIterator=k,r.async=function(e,t,n,a,o){void 0===o&&(o=Promise);var i=new k(p(e,t,n,a),o);return r.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},P(x),f(x,d,"Generator"),f(x,u,function(){return this}),f(x,"toString",function(){return"[object Generator]"}),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=H,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:H(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},46482:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},45344:function(e,t,r){var n=r(65897),a=r(85109),o=r(70439),i=r(49364);e.exports=function(e,t){return n(e)||a(e,t)||o(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},39900:function(e,t,r){var n=r(80662).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},56419:function(e,t,r){var n=r(80662).default,a=r(39900);e.exports=function(e){var t=a(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},80662:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},70439:function(e,t,r){var n=r(99572);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},67466:function(e,t,r){var n=r(67791),a=r(46482),o=r(57609),i=r(9267);function s(t){var r="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return i(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},69670:function(e,t,r){var n=r(52794)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},2680:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i},hkdf:function(){return i}});let n=()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw Error("unable to locate global object")};var a=async(e,t,r,a,o)=>{let{crypto:{subtle:i}}=n();return new Uint8Array(await i.deriveBits({name:"HKDF",hash:`SHA-${e.substr(3)}`,salt:r,info:a},await i.importKey("raw",t,"HKDF",!1,["deriveBits"]),o<<3))};function o(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function i(e,t,r,n,i){return a(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=o(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),o(r,"salt"),function(e){let t=o(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(i,e))}},68021:function(e,t,r){"use strict";function n(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}r.d(t,{M:function(){return n}})},22151:function(e,t,r){"use strict";r.d(t,{F:function(){return a},e:function(){return o}});var n=r(92114);function a(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function o(...e){return n.useCallback(a(...e),e)}},74499:function(e,t,r){"use strict";r.d(t,{b:function(){return i},k:function(){return o}});var n=r(92114),a=r(86592);function o(e,t){let r=n.createContext(t);function o(e){let{children:t,...o}=e,i=n.useMemo(()=>o,Object.values(o));return(0,a.jsx)(r.Provider,{value:i,children:t})}return o.displayName=e+"Provider",[o,function(a){let o=n.useContext(r);if(o)return o;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function i(e,t=[]){let r=[],o=()=>{let t=r.map(e=>n.createContext(e));return function(r){let a=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return o.scopeName=e,[function(t,o){let i=n.createContext(o),s=r.length;function c(t){let{scope:r,children:o,...c}=t,u=r?.[e][s]||i,l=n.useMemo(()=>c,Object.values(c));return(0,a.jsx)(u.Provider,{value:l,children:o})}return r=[...r,o],c.displayName=t+"Provider",[c,function(r,a){let c=a?.[e][s]||i,u=n.useContext(c);if(u)return u;if(void 0!==o)return o;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:n})=>{let a=r(e)[`__scope${n}`];return{...t,...a}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(o,...t)]}},69948:function(e,t,r){"use strict";r.d(t,{M:function(){return c}});var n,a=r(92114),o=r(85518),i=(n||(n=r.t(a,2)))["useId".toString()]||(()=>void 0),s=0;function c(e){let[t,r]=a.useState(i());return(0,o.b)(()=>{e||r(e=>e??String(s++))},[e]),e||(t?`radix-${t}`:"")}},21578:function(e,t,r){"use strict";r.d(t,{VY:function(){return ep},h_:function(){return ef},fC:function(){return el},xz:function(){return ed}});var n=r(92114),a=r(68021),o=r(22151),i=r(74499),s=r(36411),c=r(27601),u=r(28086),l=r(69948),d=r(54503),f=r(69830),p=r(79913),h=r(86592),y=n.forwardRef((e,t)=>{let{children:r,width:n=10,height:a=5,...o}=e;return(0,h.jsx)(p.WV.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,h.jsx)("polygon",{points:"0,0 30,0 15,10"})})});y.displayName="Arrow";var v=r(37979),w=r(85518),g=r(87303),m="Popper",[b,E]=(0,i.b)(m),[S,A]=b(m),_=e=>{let{__scopePopper:t,children:r}=e,[a,o]=n.useState(null);return(0,h.jsx)(S,{scope:t,anchor:a,onAnchorChange:o,children:r})};_.displayName=m;var x="PopperAnchor",P=n.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:a,...i}=e,s=A(x,r),c=n.useRef(null),u=(0,o.e)(t,c);return n.useEffect(()=>{s.onAnchorChange((null==a?void 0:a.current)||c.current)}),a?null:(0,h.jsx)(p.WV.div,{...i,ref:u})});P.displayName=x;var k="PopperContent",[C,O]=b(k),R=n.forwardRef((e,t)=>{var r,a,i,s,c,u,l,y;let{__scopePopper:m,side:b="bottom",sideOffset:E=0,align:S="center",alignOffset:_=0,arrowPadding:x=0,avoidCollisions:P=!0,collisionBoundary:O=[],collisionPadding:R=0,sticky:H="partial",hideWhenDetached:T=!1,updatePositionStrategy:W="optimized",onPlaced:K,...I}=e,D=A(k,m),[N,J]=n.useState(null),L=(0,o.e)(t,e=>J(e)),[B,$]=n.useState(null),F=(0,g.t)(B),G=null!==(l=null==F?void 0:F.width)&&void 0!==l?l:0,V=null!==(y=null==F?void 0:F.height)&&void 0!==y?y:0,z="number"==typeof R?R:{top:0,right:0,bottom:0,left:0,...R},X=Array.isArray(O)?O:[O],Y=X.length>0,q={padding:z,boundary:X.filter(U),altBoundary:Y},{refs:Z,floatingStyles:Q,placement:ee,isPositioned:et,middlewareData:er}=(0,d.YF)({strategy:"fixed",placement:b+("center"!==S?"-"+S:""),whileElementsMounted:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,f.Me)(...t,{animationFrame:"always"===W})},elements:{reference:D.anchor},middleware:[(0,d.cv)({mainAxis:E+V,alignmentAxis:_}),P&&(0,d.uY)({mainAxis:!0,crossAxis:!1,limiter:"partial"===H?(0,d.dr)():void 0,...q}),P&&(0,d.RR)({...q}),(0,d.dp)({...q,apply:e=>{let{elements:t,rects:r,availableWidth:n,availableHeight:a}=e,{width:o,height:i}=r.reference,s=t.floating.style;s.setProperty("--radix-popper-available-width","".concat(n,"px")),s.setProperty("--radix-popper-available-height","".concat(a,"px")),s.setProperty("--radix-popper-anchor-width","".concat(o,"px")),s.setProperty("--radix-popper-anchor-height","".concat(i,"px"))}}),B&&(0,d.x7)({element:B,padding:x}),j({arrowWidth:G,arrowHeight:V}),T&&(0,d.Cp)({strategy:"referenceHidden",...q})]}),[en,ea]=M(ee),eo=(0,v.W)(K);(0,w.b)(()=>{et&&(null==eo||eo())},[et,eo]);let ei=null===(r=er.arrow)||void 0===r?void 0:r.x,es=null===(a=er.arrow)||void 0===a?void 0:a.y,ec=(null===(i=er.arrow)||void 0===i?void 0:i.centerOffset)!==0,[eu,el]=n.useState();return(0,w.b)(()=>{N&&el(window.getComputedStyle(N).zIndex)},[N]),(0,h.jsx)("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:et?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eu,"--radix-popper-transform-origin":[null===(s=er.transformOrigin)||void 0===s?void 0:s.x,null===(c=er.transformOrigin)||void 0===c?void 0:c.y].join(" "),...(null===(u=er.hide)||void 0===u?void 0:u.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,h.jsx)(C,{scope:m,placedSide:en,onArrowChange:$,arrowX:ei,arrowY:es,shouldHideArrow:ec,children:(0,h.jsx)(p.WV.div,{"data-side":en,"data-align":ea,...I,ref:L,style:{...I.style,animation:et?void 0:"none"}})})})});R.displayName=k;var H="PopperArrow",T={top:"bottom",right:"left",bottom:"top",left:"right"},W=n.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,a=O(H,r),o=T[a.placedSide];return(0,h.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,h.jsx)(y,{...n,ref:t,style:{...n.style,display:"block"}})})});function U(e){return null!==e}W.displayName=H;var j=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,o,i;let{placement:s,rects:c,middlewareData:u}=t,l=(null===(r=u.arrow)||void 0===r?void 0:r.centerOffset)!==0,d=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[p,h]=M(s),y={start:"0%",center:"50%",end:"100%"}[h],v=(null!==(o=null===(n=u.arrow)||void 0===n?void 0:n.x)&&void 0!==o?o:0)+d/2,w=(null!==(i=null===(a=u.arrow)||void 0===a?void 0:a.y)&&void 0!==i?i:0)+f/2,g="",m="";return"bottom"===p?(g=l?y:"".concat(v,"px"),m="".concat(-f,"px")):"top"===p?(g=l?y:"".concat(v,"px"),m="".concat(c.floating.height+f,"px")):"right"===p?(g="".concat(-f,"px"),m=l?y:"".concat(w,"px")):"left"===p&&(g="".concat(c.floating.width+f,"px"),m=l?y:"".concat(w,"px")),{data:{x:g,y:m}}}});function M(e){let[t,r="center"]=e.split("-");return[t,r]}var K=r(17261),I=r(61807),D=r(45224),N=r(33449),J=r(80699),L=r(72065),B="Popover",[$,F]=(0,i.b)(B,[E]),G=E(),[V,z]=$(B),X=e=>{let{__scopePopover:t,children:r,open:a,defaultOpen:o,onOpenChange:i,modal:s=!1}=e,c=G(t),u=n.useRef(null),[d,f]=n.useState(!1),[p=!1,y]=(0,N.T)({prop:a,defaultProp:o,onChange:i});return(0,h.jsx)(_,{...c,children:(0,h.jsx)(V,{scope:t,contentId:(0,l.M)(),triggerRef:u,open:p,onOpenChange:y,onOpenToggle:n.useCallback(()=>y(e=>!e),[y]),hasCustomAnchor:d,onCustomAnchorAdd:n.useCallback(()=>f(!0),[]),onCustomAnchorRemove:n.useCallback(()=>f(!1),[]),modal:s,children:r})})};X.displayName=B;var Y="PopoverAnchor";n.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,o=z(Y,r),i=G(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:c}=o;return n.useEffect(()=>(s(),()=>c()),[s,c]),(0,h.jsx)(P,{...i,...a,ref:t})}).displayName=Y;var q="PopoverTrigger",Z=n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=z(q,r),s=G(r),c=(0,o.e)(t,i.triggerRef),u=(0,h.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eu(i.open),...n,ref:c,onClick:(0,a.M)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:(0,h.jsx)(P,{asChild:!0,...s,children:u})});Z.displayName=q;var Q="PopoverPortal",[ee,et]=$(Q,{forceMount:void 0}),er=e=>{let{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=z(Q,t);return(0,h.jsx)(ee,{scope:t,forceMount:r,children:(0,h.jsx)(I.z,{present:r||o.open,children:(0,h.jsx)(K.h,{asChild:!0,container:a,children:n})})})};er.displayName=Q;var en="PopoverContent",ea=n.forwardRef((e,t)=>{let r=et(en,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=z(en,e.__scopePopover);return(0,h.jsx)(I.z,{present:n||o.open,children:o.modal?(0,h.jsx)(eo,{...a,ref:t}):(0,h.jsx)(ei,{...a,ref:t})})});ea.displayName=en;var eo=n.forwardRef((e,t)=>{let r=z(en,e.__scopePopover),i=n.useRef(null),s=(0,o.e)(t,i),c=n.useRef(!1);return n.useEffect(()=>{let e=i.current;if(e)return(0,J.Ry)(e)},[]),(0,h.jsx)(L.Z,{as:D.g7,allowPinchZoom:!0,children:(0,h.jsx)(es,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),c.current||null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,a.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;c.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:(0,a.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),ei=n.forwardRef((e,t)=>{let r=z(en,e.__scopePopover),a=n.useRef(!1),o=n.useRef(!1);return(0,h.jsx)(es,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,i;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current||null===(i=r.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:t=>{var n,i;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let s=t.target;(null===(i=r.triggerRef.current)||void 0===i?void 0:i.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),es=n.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...y}=e,v=z(en,r),w=G(r);return(0,c.EW)(),(0,h.jsx)(u.M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:(0,h.jsx)(s.XB,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:(0,h.jsx)(R,{"data-state":eu(v.open),role:"dialog",id:v.contentId,...w,...y,ref:t,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ec="PopoverClose";function eu(e){return e?"open":"closed"}n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,o=z(ec,r);return(0,h.jsx)(p.WV.button,{type:"button",...n,ref:t,onClick:(0,a.M)(e.onClick,()=>o.onOpenChange(!1))})}).displayName=ec,n.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,a=G(r);return(0,h.jsx)(W,{...a,...n,ref:t})}).displayName="PopoverArrow";var el=X,ed=Z,ef=er,ep=ea},61807:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(92114),a=r(63032),o=r(22151),i=r(85518),s=e=>{var t,r;let s,u;let{present:l,children:d}=e,f=function(e){var t,r;let[o,s]=n.useState(),u=n.useRef({}),l=n.useRef(e),d=n.useRef("none"),[f,p]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>{let n=r[e][t];return null!=n?n:e},t));return n.useEffect(()=>{let e=c(u.current);d.current="mounted"===f?e:"none"},[f]),(0,i.b)(()=>{let t=u.current,r=l.current;if(r!==e){let n=d.current,a=c(t);e?p("MOUNT"):"none"===a||(null==t?void 0:t.display)==="none"?p("UNMOUNT"):r&&n!==a?p("ANIMATION_OUT"):p("UNMOUNT"),l.current=e}},[e,p]),(0,i.b)(()=>{if(o){let e=e=>{let t=c(u.current).includes(e.animationName);e.target===o&&t&&a.flushSync(()=>p("ANIMATION_END"))},t=e=>{e.target===o&&(d.current=c(u.current))};return o.addEventListener("animationstart",t),o.addEventListener("animationcancel",e),o.addEventListener("animationend",e),()=>{o.removeEventListener("animationstart",t),o.removeEventListener("animationcancel",e),o.removeEventListener("animationend",e)}}p("ANIMATION_END")},[o,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:n.useCallback(e=>{e&&(u.current=getComputedStyle(e)),s(e)},[])}}(l),p="function"==typeof d?d({present:f.isPresent}):n.Children.only(d),h=(0,o.e)(f.ref,(s=null===(t=Object.getOwnPropertyDescriptor(p.props,"ref"))||void 0===t?void 0:t.get)&&"isReactWarning"in s&&s.isReactWarning?p.ref:(s=null===(r=Object.getOwnPropertyDescriptor(p,"ref"))||void 0===r?void 0:r.get)&&"isReactWarning"in s&&s.isReactWarning?p.props.ref:p.props.ref||p.ref);return"function"==typeof d||f.isPresent?n.cloneElement(p,{ref:h}):null};function c(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"},79913:function(e,t,r){"use strict";r.d(t,{WV:function(){return s},jH:function(){return c}});var n=r(92114),a=r(63032),o=r(45224),i=r(86592),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...a}=e,s=n?o.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(s,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function c(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},45224:function(e,t,r){"use strict";r.d(t,{g7:function(){return i}});var n=r(92114),a=r(22151),o=r(86592),i=n.forwardRef((e,t)=>{let{children:r,...a}=e,i=n.Children.toArray(r),c=i.find(u);if(c){let e=c.props.children,r=i.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(s,{...a,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,o.jsx)(s,{...a,ref:t,children:r})});i.displayName="Slot";var s=n.forwardRef((e,t)=>{let{children:r,...o}=e;if(n.isValidElement(r)){let e,i;let s=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref;return n.cloneElement(r,{...function(e,t){let r={...t};for(let n in t){let a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...e)=>{o(...e),a(...e)}:a&&(r[n]=a):"style"===n?r[n]={...a,...o}:"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}(o,r.props),ref:t?(0,a.F)(t,s):s})}return n.Children.count(r)>1?n.Children.only(null):null});s.displayName="SlotClone";var c=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function u(e){return n.isValidElement(e)&&e.type===c}},37979:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var n=r(92114);function a(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},33449:function(e,t,r){"use strict";r.d(t,{T:function(){return o}});var n=r(92114),a=r(37979);function o({prop:e,defaultProp:t,onChange:r=()=>{}}){let[o,i]=function({defaultProp:e,onChange:t}){let r=n.useState(e),[o]=r,i=n.useRef(o),s=(0,a.W)(t);return n.useEffect(()=>{i.current!==o&&(s(o),i.current=o)},[o,i,s]),r}({defaultProp:t,onChange:r}),s=void 0!==e,c=s?e:o,u=(0,a.W)(r);return[c,n.useCallback(t=>{if(s){let r="function"==typeof t?t(e):t;r!==e&&u(r)}else i(t)},[s,e,i,u])]}},85518:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});var n=r(92114),a=globalThis?.document?n.useLayoutEffect:()=>{}},87303:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(92114),a=r(85518);function o(e){let[t,r]=n.useState(void 0);return(0,a.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,a;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,a=t.blockSize}else n=e.offsetWidth,a=e.offsetHeight;r({width:n,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},86829:function(e,t,r){"use strict";r.d(t,{f:function(){return s}});var n=r(92114),a=r(79913),o=r(86592),i=n.forwardRef((e,t)=>(0,o.jsx)(a.WV.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));i.displayName="VisuallyHidden";var s=i},62757:function(e,t,r){"use strict";r.d(t,{Analytics:function(){return c}});var n=r(92114),a=()=>{window.va||(window.va=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];(window.vaq=window.vaq||[]).push(t)})};function o(){return"undefined"!=typeof window}function i(){return"production"}function s(){return"development"===((o()?window.vam:i())||"production")}function c(e){return(0,n.useEffect)(()=>{!function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debug:!0};if(!o())return;(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";if("auto"===e){window.vam=i();return}window.vam=e})(t.mode),a(),t.beforeSend&&(null==(e=window.va)||e.call(window,"beforeSend",t.beforeSend));let r=t.scriptSrc||(s()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js");if(document.head.querySelector('script[src*="'.concat(r,'"]')))return;let n=document.createElement("script");n.src=r,n.defer=!0,n.dataset.sdkn="@vercel/analytics"+(t.framework?"/".concat(t.framework):""),n.dataset.sdkv="1.3.1",t.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),t.endpoint&&(n.dataset.endpoint=t.endpoint),t.dsn&&(n.dataset.dsn=t.dsn),n.onerror=()=>{let e=s()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log("[Vercel Web Analytics] Failed to load script from ".concat(r,". ").concat(e))},s()&&!1===t.debug&&(n.dataset.debug="false"),document.head.appendChild(n)}({framework:e.framework||"react",...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,n.useEffect)(()=>{e.route&&e.path&&function(e){var t;let{route:r,path:n}=e;null==(t=window.va)||t.call(window,"pageview",{route:r,path:n})}({route:e.route,path:e.path})},[e.route,e.path]),null}},73743:function(e,t,r){"use strict";r.r(t),r.d(t,{CompactEncrypt:function(){return tf},CompactSign:function(){return ty},EmbeddedJWK:function(){return t_},EncryptJWT:function(){return tb},FlattenedEncrypt:function(){return e4},FlattenedSign:function(){return th},GeneralEncrypt:function(){return e3},GeneralSign:function(){return tw},SignJWT:function(){return tm},UnsecuredJWT:function(){return tW},base64url:function(){return a},calculateJwkThumbprint:function(){return tS},calculateJwkThumbprintUri:function(){return tA},compactDecrypt:function(){return eq},compactVerify:function(){return tr},createLocalJWKSet:function(){return tO},createRemoteJWKSet:function(){return tT},cryptoRuntime:function(){return tB},decodeJwt:function(){return tK},decodeProtectedHeader:function(){return tM},errors:function(){return n},exportJWK:function(){return e2},exportPKCS8:function(){return e1},exportSPKI:function(){return e0},flattenedDecrypt:function(){return eY},flattenedVerify:function(){return tt},generalDecrypt:function(){return eZ},generalVerify:function(){return tn},generateKeyPair:function(){return tJ},generateSecret:function(){return tL},importJWK:function(){return eI},importPKCS8:function(){return eK},importSPKI:function(){return ej},importX509:function(){return eM},jwtDecrypt:function(){return td},jwtVerify:function(){return tl}});var n={};r.r(n),r.d(n,{JOSEAlgNotAllowed:function(){return A},JOSEError:function(){return b},JOSENotSupported:function(){return _},JWEDecompressionFailed:function(){return P},JWEDecryptionFailed:function(){return x},JWEInvalid:function(){return k},JWKInvalid:function(){return R},JWKSInvalid:function(){return H},JWKSMultipleMatchingKeys:function(){return W},JWKSNoMatchingKey:function(){return T},JWKSTimeout:function(){return U},JWSInvalid:function(){return C},JWSSignatureVerificationFailed:function(){return j},JWTClaimValidationFailed:function(){return E},JWTExpired:function(){return S},JWTInvalid:function(){return O}});var a={};r.r(a),r.d(a,{decode:function(){return tj},encode:function(){return tU}});var o=crypto;let i=e=>e instanceof CryptoKey,s=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await o.subtle.digest(r,t))},c=new TextEncoder,u=new TextDecoder;function l(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}function d(e,t,r){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function f(e){let t=new Uint8Array(8);return d(t,Math.floor(e/4294967296),0),d(t,e%4294967296,4),t}function p(e){let t=new Uint8Array(4);return d(t,e),t}function h(e){return l(p(e.length),e)}async function y(e,t,r){let n=Math.ceil((t>>3)/32),a=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(p(t+1)),n.set(e,4),n.set(r,4+e.length),a.set(await s("sha256",n),32*t)}return a.slice(0,t>>3)}let v=e=>{let t=e;"string"==typeof t&&(t=c.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))},w=e=>v(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),g=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r},m=e=>{let t=e;t instanceof Uint8Array&&(t=u.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return g(t)}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}};class b extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class E extends b{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}}class S extends b{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}}class A extends b{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class _ extends b{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class x extends b{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class P extends b{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class k extends b{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class C extends b{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class O extends b{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class R extends b{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class H extends b{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class T extends b{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class W extends b{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class U extends b{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class j extends b{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}var M=o.getRandomValues.bind(o);function K(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new _(`Unsupported JWE Algorithm: ${e}`)}}var I=e=>M(new Uint8Array(K(e)>>3)),D=(e,t)=>{if(t.length<<3!==K(e))throw new k("Invalid Initialization Vector length")},N=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new k(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)},J=(e,t)=>{if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(e.length!==t.length)throw TypeError("Input buffers must have the same length");let r=e.length,n=0,a=-1;for(;++a<r;)n|=e[a]^t[a];return 0===n};function L(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function B(e,t){return e.name===t}function $(e){return parseInt(e.name.slice(4),10)}function F(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function G(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!B(e.algorithm,"AES-GCM"))throw L("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw L(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!B(e.algorithm,"AES-KW"))throw L("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw L(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw L("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!B(e.algorithm,"PBKDF2"))throw L("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!B(e.algorithm,"RSA-OAEP"))throw L("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if($(e.algorithm.hash)!==r)throw L(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}F(e,r)}function V(e,t,...r){if(r.length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}var z=(e,...t)=>V("Key must be ",e,...t);function X(e,t,...r){return V(`Key for the ${e} algorithm must be `,t,...r)}var Y=e=>i(e);let q=["CryptoKey"];async function Z(e,t,r,n,a,i){let s,c;if(!(t instanceof Uint8Array))throw TypeError(z(t,"Uint8Array"));let u=parseInt(e.slice(1,4),10),d=await o.subtle.importKey("raw",t.subarray(u>>3),"AES-CBC",!1,["decrypt"]),p=await o.subtle.importKey("raw",t.subarray(0,u>>3),{hash:`SHA-${u<<1}`,name:"HMAC"},!1,["sign"]),h=l(i,n,r,f(i.length<<3)),y=new Uint8Array((await o.subtle.sign("HMAC",p,h)).slice(0,u>>3));try{s=J(a,y)}catch(e){}if(!s)throw new x;try{c=new Uint8Array(await o.subtle.decrypt({iv:n,name:"AES-CBC"},d,r))}catch(e){}if(!c)throw new x;return c}async function Q(e,t,r,n,a,i){let s;t instanceof Uint8Array?s=await o.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(G(t,e,"decrypt"),s=t);try{return new Uint8Array(await o.subtle.decrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},s,l(r,a)))}catch(e){throw new x}}let ee=async(e,t,r,n,a,o)=>{if(!i(t)&&!(t instanceof Uint8Array))throw TypeError(z(t,...q,"Uint8Array"));switch(D(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&N(t,parseInt(e.slice(-3),10)),Z(e,t,r,n,a,o);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&N(t,parseInt(e.slice(1,4),10)),Q(e,t,r,n,a,o);default:throw new _("Unsupported JWE Content Encryption Algorithm")}},et=async()=>{throw new _('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},er=async()=>{throw new _('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')};var en=(...e)=>{let t;let r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0};function ea(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var eo=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function ei(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function es(e,t,r){if(i(e))return G(e,t,r),e;if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw TypeError(z(e,...q,"Uint8Array"))}let ec=async(e,t,r)=>{let n=await es(t,e,"wrapKey");ei(n,e);let a=await o.subtle.importKey("raw",r,...eo);return new Uint8Array(await o.subtle.wrapKey("raw",a,n,"AES-KW"))},eu=async(e,t,r)=>{let n=await es(t,e,"unwrapKey");ei(n,e);let a=await o.subtle.unwrapKey("raw",r,n,"AES-KW",...eo);return new Uint8Array(await o.subtle.exportKey("raw",a))};async function el(e,t,r,n,a=new Uint8Array(0),s=new Uint8Array(0)){let u;if(!i(e))throw TypeError(z(e,...q));if(G(e,"ECDH"),!i(t))throw TypeError(z(t,...q));G(t,"ECDH","deriveBits");let d=l(h(c.encode(r)),h(a),h(s),p(n));return u="X25519"===e.algorithm.name?256:"X448"===e.algorithm.name?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,y(new Uint8Array(await o.subtle.deriveBits({name:e.algorithm.name,public:e},t,u)),n,d)}async function ed(e){if(!i(e))throw TypeError(z(e,...q));return o.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function ef(e){if(!i(e))throw TypeError(z(e,...q));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}async function ep(e,t,r,n){!function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new k("PBES2 Salt Input must be 8 or more octets")}(e);let a=l(c.encode(t),new Uint8Array([0]),e),s=parseInt(t.slice(13,16),10),u={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:a},d=await function(e,t){if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(i(e))return G(e,t,"deriveBits","deriveKey"),e;throw TypeError(z(e,...q,"Uint8Array"))}(n,t);if(d.usages.includes("deriveBits"))return new Uint8Array(await o.subtle.deriveBits(u,d,s));if(d.usages.includes("deriveKey"))return o.subtle.deriveKey(u,d,{length:s,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let eh=async(e,t,r,n=2048,a=M(new Uint8Array(16)))=>{let o=await ep(a,e,n,t);return{encryptedKey:await ec(e.slice(-6),o,r),p2c:n,p2s:w(a)}},ey=async(e,t,r,n,a)=>{let o=await ep(a,e,n,t);return eu(e.slice(-6),o,r)};function ev(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new _(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var ew=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};let eg=async(e,t,r)=>{if(!i(t))throw TypeError(z(t,...q));if(G(t,e,"encrypt","wrapKey"),ew(e,t),t.usages.includes("encrypt"))return new Uint8Array(await o.subtle.encrypt(ev(e),t,r));if(t.usages.includes("wrapKey")){let n=await o.subtle.importKey("raw",r,...eo);return new Uint8Array(await o.subtle.wrapKey("raw",n,t,ev(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},em=async(e,t,r)=>{if(!i(t))throw TypeError(z(t,...q));if(G(t,e,"decrypt","unwrapKey"),ew(e,t),t.usages.includes("decrypt"))return new Uint8Array(await o.subtle.decrypt(ev(e),t,r));if(t.usages.includes("unwrapKey")){let n=await o.subtle.unwrapKey("raw",r,t,ev(e),...eo);return new Uint8Array(await o.subtle.exportKey("raw",n))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function eb(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new _(`Unsupported JWE Algorithm: ${e}`)}}var eE=e=>M(new Uint8Array(eb(e)>>3)),eS=(e,t)=>{let r=(e.match(/.{1,64}/g)||[]).join("\n");return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`};let eA=async(e,t,r)=>{if(!i(r))throw TypeError(z(r,...q));if(!r.extractable)throw TypeError("CryptoKey is not extractable");if(r.type!==e)throw TypeError(`key is not a ${e} key`);return eS(v(new Uint8Array(await o.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},e_=e=>eA("public","spki",e),ex=e=>eA("private","pkcs8",e),eP=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;let a=e.subarray(n,n+t.length);return a.length===t.length&&(a.every((e,r)=>e===t[r])||eP(e,t,n+1))},ek=e=>{switch(!0){case eP(e,[42,134,72,206,61,3,1,7]):return"P-256";case eP(e,[43,129,4,0,34]):return"P-384";case eP(e,[43,129,4,0,35]):return"P-521";case eP(e,[43,101,110]):return"X25519";case eP(e,[43,101,111]):return"X448";case eP(e,[43,101,112]):return"Ed25519";case eP(e,[43,101,113]):return"Ed448";default:throw new _("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},eC=async(e,t,r,n,a)=>{var i;let s,c;let u=new Uint8Array(atob(r.replace(e,"")).split("").map(e=>e.charCodeAt(0))),l="spki"===t;switch(n){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},c=l?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},c=l?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},c=l?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},c=l?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},c=l?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},c=l?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e=ek(u);s=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},c=l?[]:["deriveBits"];break}case"EdDSA":s={name:ek(u)},c=l?["verify"]:["sign"];break;default:throw new _('Invalid or unsupported "alg" (Algorithm) value')}return o.subtle.importKey(t,u,s,null!==(i=null==a?void 0:a.extractable)&&void 0!==i&&i,c)},eO=(e,t,r)=>eC(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r),eR=(e,t,r)=>eC(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function eH(e){let t=[],r=0;for(;r<e.length;){let n=eT(e.subarray(r));t.push(n),r+=n.byteLength}return t}function eT(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let n=0;if(e[t]<128)n=e[t],t++;else if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];){if(n>e.byteLength)throw TypeError("invalid indefinite form length");n++}let r=t+n+2;return{byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}else{let r=127&e[t];t++,n=0;for(let a=0;a<r;a++)n=256*n+e[t],t++}let a=t+n;return{byteLength:a,contents:e.subarray(t,a),raw:e.subarray(0,a)}}let eW=(e,t,r)=>{let n;try{n=eS(function(e){let t=eH(eH(eT(e).contents)[0].contents);return v(t[160===t[0].raw[0]?6:5].raw)}(g(e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""))),"PUBLIC KEY")}catch(e){throw TypeError("Failed to parse the X.509 certificate",{cause:e})}return eR(n,t,r)},eU=async e=>{var t,r;if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:n,keyUsages:a}=function(e){let t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new _(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new _('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),i=[n,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:a];if("PBKDF2"===n.name)return o.subtle.importKey("raw",m(e.k),...i);let s={...e};return delete s.alg,delete s.use,o.subtle.importKey("jwk",s,...i)};async function ej(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return eR(e,t,r)}async function eM(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return eW(e,t,r)}async function eK(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return eO(e,t,r)}async function eI(e,t,r){var n;if(!ea(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=r||(r=!0!==e.ext),r)return eU({...e,alg:t,ext:null!==(n=e.ext)&&void 0!==n&&n});return m(e.k);case"RSA":if(void 0!==e.oth)throw new _('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return eU({...e,alg:t});default:throw new _('Unsupported "kty" (Key Type) Parameter value')}}let eD=(e,t)=>{if(!(t instanceof Uint8Array)){if(!Y(t))throw TypeError(X(e,t,...q,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${q.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},eN=(e,t,r)=>{if(!Y(t))throw TypeError(X(e,t,...q));if("secret"===t.type)throw TypeError(`${q.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${q.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${q.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${q.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${q.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)};var eJ=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?eD(e,t):eN(e,t,r)};async function eL(e,t,r,n,a){if(!(r instanceof Uint8Array))throw TypeError(z(r,"Uint8Array"));let i=parseInt(e.slice(1,4),10),s=await o.subtle.importKey("raw",r.subarray(i>>3),"AES-CBC",!1,["encrypt"]),c=await o.subtle.importKey("raw",r.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),u=new Uint8Array(await o.subtle.encrypt({iv:n,name:"AES-CBC"},s,t)),d=l(a,n,u,f(a.length<<3));return{ciphertext:u,tag:new Uint8Array((await o.subtle.sign("HMAC",c,d)).slice(0,i>>3))}}async function eB(e,t,r,n,a){let i;r instanceof Uint8Array?i=await o.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(G(r,e,"encrypt"),i=r);let s=new Uint8Array(await o.subtle.encrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},i,t)),c=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:c}}let e$=async(e,t,r,n,a)=>{if(!i(r)&&!(r instanceof Uint8Array))throw TypeError(z(r,...q,"Uint8Array"));switch(D(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&N(r,parseInt(e.slice(-3),10)),eL(e,t,r,n,a);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&N(r,parseInt(e.slice(1,4),10)),eB(e,t,r,n,a);default:throw new _("Unsupported JWE Content Encryption Algorithm")}};async function eF(e,t,r,n){let a=e.slice(0,7);n||(n=I(a));let{ciphertext:o,tag:i}=await e$(a,r,t,n,new Uint8Array(0));return{encryptedKey:o,iv:w(n),tag:w(i)}}async function eG(e,t,r,n,a){return ee(e.slice(0,7),t,r,n,a,new Uint8Array(0))}async function eV(e,t,r,n,a){switch(eJ(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new k("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new k("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let a,o;if(!ea(n.epk))throw new k('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!ef(t))throw new _("ECDH with the provided key is not allowed or not supported by your javascript runtime");let i=await eI(n.epk,e);if(void 0!==n.apu){if("string"!=typeof n.apu)throw new k('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{a=m(n.apu)}catch(e){throw new k("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new k('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{o=m(n.apv)}catch(e){throw new k("Failed to base64url decode the apv")}}let s=await el(i,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?eb(n.enc):parseInt(e.slice(-5,-2),10),a,o);if("ECDH-ES"===e)return s;if(void 0===r)throw new k("JWE Encrypted Key missing");return eu(e.slice(-6),s,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new k("JWE Encrypted Key missing");return em(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let o;if(void 0===r)throw new k("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new k('JOSE Header "p2c" (PBES2 Count) missing or invalid');let i=(null==a?void 0:a.maxPBES2Count)||1e4;if(n.p2c>i)throw new k('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new k('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{o=m(n.p2s)}catch(e){throw new k("Failed to base64url decode the p2s")}return ey(e,t,r,n.p2c,o)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new k("JWE Encrypted Key missing");return eu(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let a,o;if(void 0===r)throw new k("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new k('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new k('JOSE Header "tag" (Authentication Tag) missing or invalid');try{a=m(n.iv)}catch(e){throw new k("Failed to base64url decode the iv")}try{o=m(n.tag)}catch(e){throw new k("Failed to base64url decode the tag")}return eG(e,t,r,a,o)}default:throw new _('Invalid or unsupported "alg" (JWE Algorithm) header value')}}var ez=function(e,t,r,n,a){let o;if(void 0!==a.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let i of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!o.has(i))throw new _(`Extension Header Parameter "${i}" is not recognized`);if(void 0===a[i])throw new e(`Extension Header Parameter "${i}" is missing`);if(o.get(i)&&void 0===n[i])throw new e(`Extension Header Parameter "${i}" MUST be integrity protected`)}return new Set(n.crit)},eX=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function eY(e,t,r){var n;let a,o,i,s,d,f,p;if(!ea(e))throw new k("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new k("JOSE Header missing");if("string"!=typeof e.iv)throw new k("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new k("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new k("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new k("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new k("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new k("JWE AAD incorrect type");if(void 0!==e.header&&!ea(e.header))throw new k("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!ea(e.unprotected))throw new k("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=m(e.protected);a=JSON.parse(u.decode(t))}catch(e){throw new k("JWE Protected Header is invalid")}if(!en(a,e.header,e.unprotected))throw new k("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let h={...a,...e.header,...e.unprotected};if(ez(k,new Map,null==r?void 0:r.crit,a,h),void 0!==h.zip){if(!a||!a.zip)throw new k('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==h.zip)throw new _('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:y,enc:v}=h;if("string"!=typeof y||!y)throw new k("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof v||!v)throw new k("missing JWE Encryption Algorithm (enc) in JWE Header");let w=r&&eX("keyManagementAlgorithms",r.keyManagementAlgorithms),g=r&&eX("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(w&&!w.has(y))throw new A('"alg" (Algorithm) Header Parameter not allowed');if(g&&!g.has(v))throw new A('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{o=m(e.encrypted_key)}catch(e){throw new k("Failed to base64url decode the encrypted_key")}let b=!1;"function"==typeof t&&(t=await t(a,e),b=!0);try{i=await eV(y,t,o,h,r)}catch(e){if(e instanceof TypeError||e instanceof k||e instanceof _)throw e;i=eE(v)}try{s=m(e.iv)}catch(e){throw new k("Failed to base64url decode the iv")}try{d=m(e.tag)}catch(e){throw new k("Failed to base64url decode the tag")}let E=c.encode(null!==(n=e.protected)&&void 0!==n?n:"");f=void 0!==e.aad?l(E,c.encode("."),c.encode(e.aad)):E;try{p=m(e.ciphertext)}catch(e){throw new k("Failed to base64url decode the ciphertext")}let S=await ee(v,i,p,s,d,f);"DEF"===h.zip&&(S=await ((null==r?void 0:r.inflateRaw)||et)(S));let x={plaintext:S};if(void 0!==e.protected&&(x.protectedHeader=a),void 0!==e.aad)try{x.additionalAuthenticatedData=m(e.aad)}catch(e){throw new k("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(x.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(x.unprotectedHeader=e.header),b)?{...x,key:t}:x}async function eq(e,t,r){if(e instanceof Uint8Array&&(e=u.decode(e)),"string"!=typeof e)throw new k("Compact JWE must be a string or Uint8Array");let{0:n,1:a,2:o,3:i,4:s,length:c}=e.split(".");if(5!==c)throw new k("Invalid Compact JWE");let l=await eY({ciphertext:i,iv:o||void 0,protected:n||void 0,tag:s||void 0,encrypted_key:a||void 0},t,r),d={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return"function"==typeof t?{...d,key:l.key}:d}async function eZ(e,t,r){if(!ea(e))throw new k("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(ea))throw new k("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new k("JWE Recipients has no members");for(let n of e.recipients)try{return await eY({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch(e){}throw new x}let eQ=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:w(e)};if(!i(e))throw TypeError(z(e,...q,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:a,...s}=await o.subtle.exportKey("jwk",e);return s};async function e0(e){return e_(e)}async function e1(e){return ex(e)}async function e2(e){return eQ(e)}async function e5(e,t,r,n,a={}){let o,i,s;switch(eJ(e,r,"encrypt"),e){case"dir":s=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!ef(r))throw new _("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:u}=a,{epk:l}=a;l||(l=(await ed(r)).privateKey);let{x:d,y:f,crv:p,kty:h}=await e2(l),y=await el(r,l,"ECDH-ES"===e?t:e,"ECDH-ES"===e?eb(t):parseInt(e.slice(-5,-2),10),c,u);if(i={epk:{x:d,crv:p,kty:h}},"EC"===h&&(i.epk.y=f),c&&(i.apu=w(c)),u&&(i.apv=w(u)),"ECDH-ES"===e){s=y;break}s=n||eE(t);let v=e.slice(-6);o=await ec(v,y,s);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s=n||eE(t),o=await eg(e,r,s);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{s=n||eE(t);let{p2c:c,p2s:u}=a;({encryptedKey:o,...i}=await eh(e,r,s,c,u));break}case"A128KW":case"A192KW":case"A256KW":s=n||eE(t),o=await ec(e,r,s);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{s=n||eE(t);let{iv:c}=a;({encryptedKey:o,...i}=await eF(e,r,s,c));break}default:throw new _('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:s,encryptedKey:o,parameters:i}}let e6=Symbol();class e4{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let r,n,a,o,i,s,d;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new k("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!en(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new k("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let f={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(ez(k,new Map,null==t?void 0:t.crit,this._protectedHeader,f),void 0!==f.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new k('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==f.zip)throw new _('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:p,enc:h}=f;if("string"!=typeof p||!p)throw new k('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof h||!h)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===p){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===p&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let a;({cek:n,encryptedKey:r,parameters:a}=await e5(p,h,e,this._cek,this._keyManagementParameters)),a&&(t&&e6 in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...a}:this.setUnprotectedHeader(a):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...a}:this.setProtectedHeader(a))}if(this._iv||(this._iv=I(h)),o=this._protectedHeader?c.encode(w(JSON.stringify(this._protectedHeader))):c.encode(""),this._aad?(i=w(this._aad),a=l(o,c.encode("."),c.encode(i))):a=o,"DEF"===f.zip){let e=await ((null==t?void 0:t.deflateRaw)||er)(this._plaintext);({ciphertext:s,tag:d}=await e$(h,e,n,this._iv,a))}else({ciphertext:s,tag:d}=await e$(h,this._plaintext,n,this._iv,a));let y={ciphertext:w(s),iv:w(this._iv),tag:w(d)};return r&&(y.encrypted_key=w(r)),i&&(y.aad=i),this._protectedHeader&&(y.protected=u.decode(o)),this._sharedUnprotectedHeader&&(y.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(y.header=this._unprotectedHeader),y}}class e8{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class e3{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new e8(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,n;let a;if(!this._recipients.length)throw new k("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){let[t]=this._recipients,r=await new e4(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e}),n={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(n.aad=r.aad),r.protected&&(n.protected=r.protected),r.unprotected&&(n.unprotected=r.unprotected),r.encrypted_key&&(n.recipients[0].encrypted_key=r.encrypted_key),r.header&&(n.recipients[0].header=r.header),n}for(let e=0;e<this._recipients.length;e++){let t=this._recipients[e];if(!en(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new k("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new k('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new k('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(a){if(a!==r.enc)throw new k('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else a=r.enc;if(ez(k,new Map,t.options.crit,this._protectedHeader,r),void 0!==r.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new k('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let o=eE(a),i={ciphertext:"",iv:"",recipients:[],tag:""};for(let s=0;s<this._recipients.length;s++){let c=this._recipients[s],u={};i.recipients.push(u);let l=({...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader}).alg.startsWith("PBES2")?2048+s:void 0;if(0===s){let t=await new e4(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(o).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).setKeyManagementParameters({p2c:l}).encrypt(c.key,{...c.options,...e,[e6]:!0});i.ciphertext=t.ciphertext,i.iv=t.iv,i.tag=t.tag,t.aad&&(i.aad=t.aad),t.protected&&(i.protected=t.protected),t.unprotected&&(i.unprotected=t.unprotected),u.encrypted_key=t.encrypted_key,t.header&&(u.header=t.header);continue}let{encryptedKey:d,parameters:f}=await e5((null===(t=c.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(n=this._unprotectedHeader)||void 0===n?void 0:n.alg),a,c.key,o,{p2c:l});u.encrypted_key=w(d),(c.unprotectedHeader||f)&&(u.header={...c.unprotectedHeader,...f})}return i}}function e9(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new _(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function e7(e,t,r){if(i(t))return!function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!B(e.algorithm,"HMAC"))throw L("HMAC");let r=parseInt(t.slice(2),10);if($(e.algorithm.hash)!==r)throw L(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!B(e.algorithm,"RSASSA-PKCS1-v1_5"))throw L("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if($(e.algorithm.hash)!==r)throw L(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!B(e.algorithm,"RSA-PSS"))throw L("RSA-PSS");let r=parseInt(t.slice(2),10);if($(e.algorithm.hash)!==r)throw L(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw L("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!B(e.algorithm,"ECDSA"))throw L("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw L(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}F(e,r)}(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(z(t,...q));return o.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw TypeError(z(t,...q,"Uint8Array"))}let te=async(e,t,r,n)=>{let a=await e7(e,t,"verify");ew(e,a);let i=e9(e,a.algorithm);try{return await o.subtle.verify(i,a,r,n)}catch(e){return!1}};async function tt(e,t,r){var n;let a,o;if(!ea(e))throw new C("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new C('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new C("JWS Protected Header incorrect type");if(void 0===e.payload)throw new C("JWS Payload missing");if("string"!=typeof e.signature)throw new C("JWS Signature missing or incorrect type");if(void 0!==e.header&&!ea(e.header))throw new C("JWS Unprotected Header incorrect type");let i={};if(e.protected)try{let t=m(e.protected);i=JSON.parse(u.decode(t))}catch(e){throw new C("JWS Protected Header is invalid")}if(!en(i,e.header))throw new C("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let s={...i,...e.header},d=ez(C,new Map([["b64",!0]]),null==r?void 0:r.crit,i,s),f=!0;if(d.has("b64")&&"boolean"!=typeof(f=i.b64))throw new C('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:p}=s;if("string"!=typeof p||!p)throw new C('JWS "alg" (Algorithm) Header Parameter missing or invalid');let h=r&&eX("algorithms",r.algorithms);if(h&&!h.has(p))throw new A('"alg" (Algorithm) Header Parameter not allowed');if(f){if("string"!=typeof e.payload)throw new C("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new C("JWS Payload must be a string or an Uint8Array instance");let y=!1;"function"==typeof t&&(t=await t(i,e),y=!0),eJ(p,t,"verify");let v=l(c.encode(null!==(n=e.protected)&&void 0!==n?n:""),c.encode("."),"string"==typeof e.payload?c.encode(e.payload):e.payload);try{a=m(e.signature)}catch(e){throw new C("Failed to base64url decode the signature")}if(!await te(p,t,a,v))throw new j;if(f)try{o=m(e.payload)}catch(e){throw new C("Failed to base64url decode the payload")}else o="string"==typeof e.payload?c.encode(e.payload):e.payload;let w={payload:o};return(void 0!==e.protected&&(w.protectedHeader=i),void 0!==e.header&&(w.unprotectedHeader=e.header),y)?{...w,key:t}:w}async function tr(e,t,r){if(e instanceof Uint8Array&&(e=u.decode(e)),"string"!=typeof e)throw new C("Compact JWS must be a string or Uint8Array");let{0:n,1:a,2:o,length:i}=e.split(".");if(3!==i)throw new C("Invalid Compact JWS");let s=await tt({payload:a,protected:n,signature:o},t,r),c={payload:s.payload,protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}async function tn(e,t,r){if(!ea(e))throw new C("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(ea))throw new C("JWS Signatures missing or incorrect type");for(let n of e.signatures)try{return await tt({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch(e){}throw new j}var ta=e=>Math.floor(e.getTime()/1e3);let to=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;var ti=e=>{let t=to.exec(e);if(!t)throw TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}};let ts=e=>e.toLowerCase().replace(/^application\//,""),tc=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));var tu=(e,t,r={})=>{let n,a;let{typ:o}=r;if(o&&("string"!=typeof e.typ||ts(e.typ)!==ts(o)))throw new E('unexpected "typ" JWT header value',"typ","check_failed");try{n=JSON.parse(u.decode(t))}catch(e){}if(!ea(n))throw new O("JWT Claims Set must be a top-level JSON object");let{requiredClaims:i=[],issuer:s,subject:c,audience:l,maxTokenAge:d}=r;for(let e of(void 0!==d&&i.push("iat"),void 0!==l&&i.push("aud"),void 0!==c&&i.push("sub"),void 0!==s&&i.push("iss"),new Set(i.reverse())))if(!(e in n))throw new E(`missing required "${e}" claim`,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(n.iss))throw new E('unexpected "iss" claim value',"iss","check_failed");if(c&&n.sub!==c)throw new E('unexpected "sub" claim value',"sub","check_failed");if(l&&!tc(n.aud,"string"==typeof l?[l]:l))throw new E('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":a=ti(r.clockTolerance);break;case"number":a=r.clockTolerance;break;case"undefined":a=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:f}=r,p=ta(f||new Date);if((void 0!==n.iat||d)&&"number"!=typeof n.iat)throw new E('"iat" claim must be a number',"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new E('"nbf" claim must be a number',"nbf","invalid");if(n.nbf>p+a)throw new E('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new E('"exp" claim must be a number',"exp","invalid");if(n.exp<=p-a)throw new S('"exp" claim timestamp check failed',"exp","check_failed")}if(d){let e=p-n.iat;if(e-a>("number"==typeof d?d:ti(d)))throw new S('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-a)throw new E('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return n};async function tl(e,t,r){var n;let a=await tr(e,t,r);if((null===(n=a.protectedHeader.crit)||void 0===n?void 0:n.includes("b64"))&&!1===a.protectedHeader.b64)throw new O("JWTs MUST NOT use unencoded payload");let o={payload:tu(a.protectedHeader,a.payload,r),protectedHeader:a.protectedHeader};return"function"==typeof t?{...o,key:a.key}:o}async function td(e,t,r){let n=await eq(e,t,r),a=tu(n.protectedHeader,n.plaintext,r),{protectedHeader:o}=n;if(void 0!==o.iss&&o.iss!==a.iss)throw new E('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==a.sub)throw new E('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(a.aud))throw new E('replicated "aud" claim header parameter mismatch',"aud","mismatch");let i={payload:a,protectedHeader:o};return"function"==typeof t?{...i,key:n.key}:i}class tf{constructor(e){this._flattened=new e4(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tp=async(e,t,r)=>{let n=await e7(e,t,"sign");return ew(e,n),new Uint8Array(await o.subtle.sign(e9(e,n.algorithm),n,r))};class th{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new C("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!en(this._protectedHeader,this._unprotectedHeader))throw new C("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this._protectedHeader,...this._unprotectedHeader},a=ez(C,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,n),o=!0;if(a.has("b64")&&"boolean"!=typeof(o=this._protectedHeader.b64))throw new C('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:i}=n;if("string"!=typeof i||!i)throw new C('JWS "alg" (Algorithm) Header Parameter missing or invalid');eJ(i,e,"sign");let s=this._payload;o&&(s=c.encode(w(s)));let d=l(r=this._protectedHeader?c.encode(w(JSON.stringify(this._protectedHeader))):c.encode(""),c.encode("."),s),f={signature:w(await tp(i,e,d)),payload:""};return o&&(f.payload=u.decode(s)),this._unprotectedHeader&&(f.header=this._unprotectedHeader),this._protectedHeader&&(f.protected=u.decode(r)),f}}class ty{constructor(e){this._flattened=new th(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}class tv{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class tw{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new tv(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new C("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],n=new th(this._payload);n.setProtectedHeader(r.protectedHeader),n.setUnprotectedHeader(r.unprotectedHeader);let{payload:a,...o}=await n.sign(r.key,r.options);if(0===t)e.payload=a;else if(e.payload!==a)throw new C("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(o)}return e}}class tg{constructor(e){if(!ea(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:ta(new Date)+ti(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:ta(new Date)+ti(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ta(new Date)}:this._payload={...this._payload,iat:e},this}}class tm extends tg{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;let n=new ty(c.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new O("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}class tb extends tg{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new tf(c.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}let tE=(e,t)=>{if("string"!=typeof e||!e)throw new R(`${t} missing or invalid`)};async function tS(e,t){let r;if(!ea(e))throw TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":tE(e.crv,'"crv" (Curve) Parameter'),tE(e.x,'"x" (X Coordinate) Parameter'),tE(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":tE(e.crv,'"crv" (Subtype of Key Pair) Parameter'),tE(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":tE(e.e,'"e" (Exponent) Parameter'),tE(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":tE(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new _('"kty" (Key Type) Parameter missing or unsupported')}let n=c.encode(JSON.stringify(r));return w(await s(t,n))}async function tA(e,t){null!=t||(t="sha256");let r=await tS(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function t_(e,t){let r={...e,...null==t?void 0:t.header};if(!ea(r.jwk))throw new C('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let n=await eI({...r.jwk,ext:!0},r.alg,!0);if(n instanceof Uint8Array||"public"!==n.type)throw new C('"jwk" (JSON Web Key) Header Parameter must be a public key');return n}function tx(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(tP)}function tP(e){return ea(e)}class tk{constructor(e){if(this._cached=new WeakMap,!tx(e))throw new H("JSON Web Key Set malformed");this._jwks="function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}async getKey(e,t){let{alg:r,kid:n}={...e,...null==t?void 0:t.header},a=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new _('Unsupported "alg" value for a JSON Web Key Set')}}(r),o=this._jwks.keys.filter(e=>{let t=a===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:i,length:s}=o;if(0===s)throw new T;if(1!==s){let e=new W,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of o)try{yield await tC(t,e,r)}catch(e){continue}},e}return tC(this._cached,i,r)}}async function tC(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await eI({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new H("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function tO(e){let t=new tk(e);return async function(e,r){return t.getKey(e,r)}}let tR=async(e,t,r)=>{let n,a;let o=!1;"function"==typeof AbortController&&(n=new AbortController,a=setTimeout(()=>{o=!0,n.abort()},t));let i=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch(e=>{if(o)throw new U;throw e});if(void 0!==a&&clearTimeout(a),200!==i.status)throw new b("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await i.json()}catch(e){throw new b("Failed to parse the JSON Web Key Set HTTP response as JSON")}};class tH extends tk{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof T&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=tR(this._url,this._timeoutDuration,this._options).then(e=>{if(!tx(e))throw new H("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}function tT(e,t){let r=new tH(e,t);return async function(e,t){return r.getKey(e,t)}}class tW extends tg{encode(){let e=w(JSON.stringify({alg:"none"})),t=w(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new O("Unsecured JWT must be a string");let{0:n,1:a,2:o,length:i}=e.split(".");if(3!==i||""!==o)throw new O("Invalid Unsecured JWT");try{if(r=JSON.parse(u.decode(m(n))),"none"!==r.alg)throw Error()}catch(e){throw new O("Invalid Unsecured JWT")}return{payload:tu(r,m(a),t),header:r}}}let tU=w,tj=m;function tM(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e){if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header")}try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(u.decode(tj(t)));if(!ea(e))throw Error();return e}catch(e){throw TypeError("Invalid Token or Protected Header formatting")}}function tK(e){let t,r;if("string"!=typeof e)throw new O("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:a}=e.split(".");if(5===a)throw new O("Only JWTs using Compact JWS serialization can be decoded");if(3!==a)throw new O("Invalid JWT");if(!n)throw new O("JWTs must contain a payload");try{t=tj(n)}catch(e){throw new O("Failed to base64url decode the payload")}try{r=JSON.parse(u.decode(t))}catch(e){throw new O("Failed to parse the decoded payload as JSON")}if(!ea(r))throw new O("Invalid JWT Claims Set");return r}async function tI(e,t){var r;let n,a,i;switch(e){case"HS256":case"HS384":case"HS512":n=parseInt(e.slice(-3),10),a={name:"HMAC",hash:`SHA-${n}`,length:n},i=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return M(new Uint8Array((n=parseInt(e.slice(-3),10))>>3));case"A128KW":case"A192KW":case"A256KW":a={name:"AES-KW",length:n=parseInt(e.slice(1,4),10)},i=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":a={name:"AES-GCM",length:n=parseInt(e.slice(1,4),10)},i=["encrypt","decrypt"];break;default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.subtle.generateKey(a,null!==(r=null==t?void 0:t.extractable)&&void 0!==r&&r,i)}function tD(e){var t;let r=null!==(t=null==e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!=typeof r||r<2048)throw new _("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function tN(e,t){var r,n,a;let i,s;switch(e){case"PS256":case"PS384":case"PS512":i={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tD(t)},s=["sign","verify"];break;case"RS256":case"RS384":case"RS512":i={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tD(t)},s=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":i={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:tD(t)},s=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"},s=["sign","verify"];break;case"ES384":i={name:"ECDSA",namedCurve:"P-384"},s=["sign","verify"];break;case"ES512":i={name:"ECDSA",namedCurve:"P-521"},s=["sign","verify"];break;case"EdDSA":s=["sign","verify"];let c=null!==(r=null==t?void 0:t.crv)&&void 0!==r?r:"Ed25519";switch(c){case"Ed25519":case"Ed448":i={name:c};break;default:throw new _("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{s=["deriveKey","deriveBits"];let e=null!==(n=null==t?void 0:t.crv)&&void 0!==n?n:"P-256";switch(e){case"P-256":case"P-384":case"P-521":i={name:"ECDH",namedCurve:e};break;case"X25519":case"X448":i={name:e};break;default:throw new _("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new _('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return o.subtle.generateKey(i,null!==(a=null==t?void 0:t.extractable)&&void 0!==a&&a,s)}async function tJ(e,t){return tN(e,t)}async function tL(e,t){return tI(e,t)}var tB="WebCryptoAPI"}}]);