import{B as h}from"./main-Base.js";import{A as l,g as e,S as a,l as c}from"./main.js";import"./main-InsertVideo.js";import"./main-ImgParallax.js";import"/assets/js/jquery.validate.min.js";e.registerPlugin(a);class d{constructor(){this.app=new l,this.scroll=this.app.scroll.lenis,this.arrow=$(".scroll-arrow"),this.chatBtn=$("#si-wrapper .silc-btn"),this.main=$("main"),this.sections=this.main.children(),e.set(this.chatBtn,{autoAlpha:0}),this.index=0,this.scrollToSection(),this.changeIndex(),this.hideArrow(),this.setArrow(),this.mm=e.matchMedia(),this.isMobile="(max-width: 479px)",this.mm.add(this.isMobile,()=>{e.set(this.chatBtn,{autoAlpha:1})})}changeIndex(){this.sections.each((t,r)=>{let s=$(r);a.create({trigger:s,start:"top 50%",end:"bottom 50%",onEnter:()=>this.index=t,onEnterBack:()=>this.index=t})})}scrollToSection(){this.arrow.on("click",()=>{let t=this.sections.eq(this.index+1);t.length<=0||this.scroll.scrollTo(t[0],{duration:1.2})})}hideArrow(){a.create({trigger:this.sections.eq(3),start:"top 50%",onEnter:()=>{this.arrow.addClass("hide"),e.set(this.chatBtn,{autoAlpha:1})},onLeaveBack:()=>{this.arrow.removeClass("hide"),e.set(this.chatBtn,{autoAlpha:0})}})}setArrow(){let t=this.arrow,r=t.attr("link"),s={frame:0},i=c.loadAnimation({container:t[0],renderer:"svg",loop:!1,autoplay:!1,path:r}),o=e.timeline({paused:!0});i.addEventListener("DOMLoaded",function(){o.to(s,{frame:i.totalFrames-1,ease:"none",onUpdate:()=>i.goToAndStop(s.frame,!0),duration:i.totalFrames/60})}),t.on("mouseenter",()=>o.restart())}}class x extends h{constructor(){super(),this.scrollNext=new d}}export{x as default};
